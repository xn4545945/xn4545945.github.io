<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>xn4545945</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.xigulu.com/"/>
  <updated>2016-11-27T09:57:44.000Z</updated>
  <id>http://blog.xigulu.com/</id>
  
  <author>
    <name>xn4545945</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€å¾®ä¿¡ã€‘å°ç¨‹åºå¼€å‘å°é²œ</title>
    <link href="http://blog.xigulu.com/2016/11/14/WeChat-small-app/"/>
    <id>http://blog.xigulu.com/2016/11/14/WeChat-small-app/</id>
    <published>2016-11-13T16:00:00.000Z</published>
    <updated>2016-11-27T09:57:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¾®ä¿¡å°ç¨‹åºæœ€è¿‘è²Œä¼¼æ¯”è¾ƒç«, ç ”ç©¶ä¸€ç•ªè§‰å¾—å’ŒReactå†™æ³•å¾ˆç›¸ä¼¼, ä¹Ÿæ˜¯å°è£…äº†ä¸€ç³»åˆ—è‡ªå·±çš„ç»„ä»¶, åŒä¸ºJSå†™ä»£ç , ä¸”è¿˜å®šä¹‰äº†è‡ªå·±çš„wxssæ ·å¼è¡¨ç­‰ã€‚</p>
<a id="more"></a>
<hr>
<p><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/index.html" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£ä¼ é€é—¨</a></p>
<h2 id="é¡¹ç›®åŸºæœ¬ç»“æ„"><a href="#é¡¹ç›®åŸºæœ¬ç»“æ„" class="headerlink" title="é¡¹ç›®åŸºæœ¬ç»“æ„"></a>é¡¹ç›®åŸºæœ¬ç»“æ„</h2><p><img src="http://7xlwuv.com1.z0.glb.clouddn.com/wx_small_app.png" alt=""><br>ä¸»é¡¹ç›®ç»“æ„å¦‚ä¸‹:<br>-app.js               è„šæœ¬å…¥å£æ–‡ä»¶<br>-app.json             ä¸»é…ç½®æ–‡ä»¶<br>-app.wxss             å…¬å…±æ ·å¼è¡¨æ–‡ä»¶(å¯ä»¥åœ¨pageä¸­ç›´æ¥ä½¿ç”¨)<br>-pagesæ–‡ä»¶å¤¹           æ”¾é¡µé¢æ–‡ä»¶<br>-utilsæ–‡ä»¶å¤¹           å·¥å…·æ–¹æ³•</p>
<p>æ¯ä¸€ä¸ªå°ç¨‹åºPageé¡µé¢æ˜¯ç”±åŒè·¯å¾„ä¸‹åŒåçš„å››ä¸ªä¸åŒåç¼€æ–‡ä»¶çš„ç»„æˆï¼Œå¦‚ï¼š<br>-index.js             è„šæœ¬æ–‡ä»¶(è´Ÿè´£æ•°æ®ä¸äº¤äº’)<br>-index.wxml           é¡µé¢ç»“æ„æ–‡ä»¶(å•ç‹¬ç”¨ä¸€ä¸ªæ–‡ä»¶æ¥åšå¸ƒå±€)<br>-index.wxss           æ ·å¼è¡¨æ–‡ä»¶<br>-index.json           é…ç½®æ–‡ä»¶</p>
<h3 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h3><p><strong>var app = getApp()</strong>å…¨å±€å‡½æ•°, è·å–å°ç¨‹åºåº”ç”¨å®ä¾‹ã€‚<br>å¦‚æœéœ€è¦å…¨å±€çš„æ•°æ®å¯ä»¥åœ¨app.jsçš„ App() ä¸­è®¾ç½®, å¦‚:<br><strong>æ³¨æ„</strong>: å…¨å±€å˜é‡ä¿®æ”¹ä¹‹åæ˜¯ä¼šä¿æŒçš„ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// app.js</span></div><div class="line">App(&#123;</div><div class="line">  globalData: <span class="number">1</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// a.js</span></div><div class="line"><span class="comment">// The localValue can only be used in file a.js.</span></div><div class="line"><span class="keyword">var</span> localValue = <span class="string">'a'</span></div><div class="line"><span class="comment">// Get the app instance.</span></div><div class="line"><span class="keyword">var</span> app = getApp()</div><div class="line"><span class="comment">// Get the global data and change it.</span></div><div class="line">app.globalData++</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥å°†ä¸€äº›å…¬å…±çš„ä»£ç æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ï¼Œä½œä¸ºä¸€ä¸ªæ¨¡å—ã€‚æ¨¡å—åªæœ‰é€šè¿‡ module.exports æˆ–è€… exports æ‰èƒ½å¯¹å¤–æš´éœ²æ¥å£ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼š<br>-exports æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤åœ¨æ¨¡å—é‡Œè¾¹éšæ„æ›´æ”¹ exports çš„æŒ‡å‘ä¼šé€ æˆæœªçŸ¥çš„é”™è¯¯ã€‚æ¨èé‡‡ç”¨ module.exports æ¥æš´éœ²æ¨¡å—æ¥å£ã€‚<br>-å°ç¨‹åºç›®å‰ä¸æ”¯æŒç›´æ¥å¼•å…¥ node_modules , éœ€è¦ç”¨åˆ° node_modules æ—¶å»ºè®®æ‹·è´ç›¸å…³çš„ä»£ç åˆ°å°ç¨‹åºçš„ç›®å½•ä¸­ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// common.js</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHello</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span> !`</span>)</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayGoodbye</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">`Goodbye <span class="subst">$&#123;name&#125;</span> !`</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports.sayHello = sayHello</div><div class="line">exports.sayGoodbye = sayGoodbye</div></pre></td></tr></table></figure></p>
<p>åœ¨éœ€è¦ä½¿ç”¨è¿™äº›æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨requireå°†ä»£ç å¼•å…¥:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> common = <span class="built_in">require</span>(<span class="string">'common.js'</span>)</div><div class="line">Page(&#123;</div><div class="line">  helloMINA: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    common.sayHello(<span class="string">'MINA'</span>)</div><div class="line">  &#125;,</div><div class="line">  goodbyeMINA: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    common.sayGoodbye(<span class="string">'MINA'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h2 id="é¡µé¢Page"><a href="#é¡µé¢Page" class="headerlink" title="é¡µé¢Page"></a>é¡µé¢Page</h2><p>Page() å‡½æ•°ç”¨æ¥æ³¨å†Œä¸€ä¸ªé¡µé¢ã€‚æ¥å—ä¸€ä¸ª object å‚æ•°ï¼Œå…¶æŒ‡å®šé¡µé¢çš„åˆå§‹æ•°æ®ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€äº‹ä»¶å¤„ç†å‡½æ•°ç­‰ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//index.js</span></div><div class="line"><span class="comment">//è·å–åº”ç”¨å®ä¾‹</span></div><div class="line"><span class="keyword">var</span> app = getApp()</div><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    motto: <span class="string">'Hello World'</span>,</div><div class="line">    userInfo: &#123;&#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">//äº‹ä»¶å¤„ç†å‡½æ•°</span></div><div class="line">  bindViewTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    wx.navigateTo(&#123;</div><div class="line">      url: <span class="string">'../logs/logs'</span></div><div class="line">    &#125;)</div><div class="line">  &#125;,</div><div class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'onLoad'</span>)</div><div class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span></div><div class="line">    <span class="comment">//è°ƒç”¨åº”ç”¨å®ä¾‹çš„æ–¹æ³•è·å–å…¨å±€æ•°æ®</span></div><div class="line">    app.getUserInfo(<span class="function"><span class="keyword">function</span>(<span class="params">userInfo</span>)</span>&#123;</div><div class="line">      <span class="comment">//æ›´æ–°æ•°æ®</span></div><div class="line">      that.setData(&#123;</div><div class="line">        userInfo:userInfo</div><div class="line">      &#125;)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="é¡µé¢ç”Ÿå‘½å‘¨æœŸ"><a href="#é¡µé¢ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="é¡µé¢ç”Ÿå‘½å‘¨æœŸ"></a>é¡µé¢ç”Ÿå‘½å‘¨æœŸ</h3><p>ä¸»è¦æ˜¯ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•(ä¸Reactä¸­çš„å¾ˆç±»ä¼¼):<br>-onLoad        åŠ è½½<br>-onReady       åŠ è½½å¥½å<br>-onShow        æ˜¾ç¤º<br>-onHide        éšè—<br>-onUnload      å¸è½½èµ„æº</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//index.js</span></div><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    text: <span class="string">"This is page data."</span></div><div class="line">  &#125;,</div><div class="line">  onLoad: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do some initialize when page load.</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"onLoad"</span>)</div><div class="line">  &#125;,</div><div class="line">  onReady: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something when page ready.</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"onReady"</span>)</div><div class="line">  &#125;,</div><div class="line">  onShow: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something when page show.</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"onShow"</span>)</div><div class="line">  &#125;,</div><div class="line">  onHide: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something when page hide.</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"onHide"</span>)</div><div class="line">  &#125;,</div><div class="line">  onUnload: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something when page close.</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"onUnload"</span>)</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">//ä»¥ä¸‹ä¸ºè‡ªå¸¦çš„å‡ ä¸ªäº‹ä»¶</span></div><div class="line">  onPullDownRefresh: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something when pull down.</span></div><div class="line">  &#125;,</div><div class="line">  onReachBottom: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Do something when page reach bottom.</span></div><div class="line">  &#125;,</div><div class="line">  <span class="comment">// Event handler.</span></div><div class="line">  viewTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.setData(&#123;</div><div class="line">      text: <span class="string">'Set some data for updating view.'</span></div><div class="line">    &#125;)</div><div class="line">  &#125;,</div><div class="line">  customData: &#123;</div><div class="line">    hi: <span class="string">'MINA'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="é¡µé¢æ•°æ®ç»‘å®š"><a href="#é¡µé¢æ•°æ®ç»‘å®š" class="headerlink" title="é¡µé¢æ•°æ®ç»‘å®š"></a>é¡µé¢æ•°æ®ç»‘å®š</h3><p>æ•°æ®ç»‘å®šä½¿ç”¨åŒå¤§æ‹¬å·å°†å˜é‡åŒ…èµ·æ¥.<br>åœ¨.wxmlæ–‡ä»¶ä¸­:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;view&gt; &#123;&#123; message &#125;&#125; &lt;<span class="regexp">/view&gt;</span></div></pre></td></tr></table></figure></p>
<p>åœ¨.jsæ–‡ä»¶ä¸­:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Page(&#123;</div><div class="line">  data: &#123;</div><div class="line">    message: <span class="string">'Hello MINA!'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line"></div><div class="line">### äº‹ä»¶</div><div class="line">[äº‹ä»¶æ–‡æ¡£ä¼ é€é—¨](https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/event.html)</div><div class="line">å¦‚bindtapï¼Œå½“ç”¨æˆ·ç‚¹å‡»è¯¥ç»„ä»¶çš„æ—¶å€™ä¼šåœ¨è¯¥é¡µé¢å¯¹åº”çš„Pageä¸­æ‰¾åˆ°ç›¸åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚</div><div class="line">åœ¨.wxmlæ–‡ä»¶ä¸­:</div><div class="line">`<span class="string">``</span>javascript</div><div class="line">&lt;view id=<span class="string">"tapTest"</span> data-hi=<span class="string">"WeChat"</span> bindtap=<span class="string">"tapName"</span>&gt; Click me! &lt;/view&gt;</div></pre></td></tr></table></figure></p>
<p>åœ¨.jsæ–‡ä»¶ä¸­:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Page(&#123;</div><div class="line">  tapName: <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(event)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><p>wxmlæ–‡ä»¶æ˜¯å¯ä»¥å¼•ç”¨å…¶ä»–wxmlæ–‡ä»¶çš„.<br>WXML æä¾›ä¸¤ç§æ–‡ä»¶å¼•ç”¨æ–¹å¼importå’Œincludeã€‚<br><strong>import</strong>:æœ‰ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œå³åªä¼š import ç›®æ ‡æ–‡ä»¶ä¸­å®šä¹‰çš„ templateï¼Œè€Œä¸ä¼š import ç›®æ ‡æ–‡ä»¶ import çš„ templateã€‚<br><strong>include</strong>:å¯ä»¥å°†ç›®æ ‡æ–‡ä»¶é™¤äº†<template>çš„æ•´ä¸ªä»£ç å¼•å…¥ï¼Œç›¸å½“äºæ˜¯æ‹·è´åˆ°includeä½ç½®.</template></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;!-- item.wxml --&gt;</div><div class="line">&lt;template name="item"&gt;</div><div class="line">  &lt;text&gt;&#123;&#123;text&#125;&#125;&lt;/text&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
<p>åœ¨index.wxmlä¸­å¼•ç”¨item.wxml<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;!-- index.wxml --&gt;</div><div class="line">&lt;import src="item.wxml"/&gt;</div><div class="line">&lt;template is="item" data="&#123;&#123;text: 'forbar'&#125;&#125;"/&gt;</div></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨include:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;!-- index.wxml --&gt;</div><div class="line">&lt;include src="header.wxml"/&gt;</div><div class="line">&lt;view&gt; body &lt;/view&gt;</div><div class="line">&lt;include src="footer.wxml"/&gt;</div><div class="line"></div><div class="line">&lt;!-- header.wxml --&gt;</div><div class="line">&lt;view&gt; header &lt;/view&gt;</div><div class="line"></div><div class="line">&lt;!-- footer.wxml --&gt;</div><div class="line">&lt;view&gt; footer &lt;/view&gt;</div></pre></td></tr></table></figure></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åŸºæœ¬æŠŠå¼€å‘æ–‡æ¡£çœ‹äº†ä¸€éï¼Œä¼šReactçš„è¯å¾ˆå¥½ä¸Šæ‰‹ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¾®ä¿¡å°ç¨‹åºæœ€è¿‘è²Œä¼¼æ¯”è¾ƒç«, ç ”ç©¶ä¸€ç•ªè§‰å¾—å’ŒReactå†™æ³•å¾ˆç›¸ä¼¼, ä¹Ÿæ˜¯å°è£…äº†ä¸€ç³»åˆ—è‡ªå·±çš„ç»„ä»¶, åŒä¸ºJSå†™ä»£ç , ä¸”è¿˜å®šä¹‰äº†è‡ªå·±çš„wxssæ ·å¼è¡¨ç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="WeChat" scheme="http://blog.xigulu.com/tags/WeChat/"/>
    
  </entry>
  
  <entry>
    <title>ã€iOS10ã€‘é€‚é…é—®é¢˜é›†åˆ</title>
    <link href="http://blog.xigulu.com/2016/10/12/iOS10-adapt/"/>
    <id>http://blog.xigulu.com/2016/10/12/iOS10-adapt/</id>
    <published>2016-10-11T16:00:00.000Z</published>
    <updated>2016-12-04T23:13:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç”±äºXcode8ç­¾åé—®é¢˜ä½¿åŸå…ˆçš„ä¸‰æ–¹æ’ä»¶éƒ½ä¸èƒ½ç”¨,å°è¯•å»é™¤ç­¾å,ä½†ä¸€äº›æ’ä»¶ä¼šå¯¼è‡´Xcode8é—ªé€€,æ‰€ä»¥ä¸€ç›´åœ¨Xcode7ä¸Xocde8ä¹‹é—´åˆ‡æ¢ä½¿ç”¨. é¡ºä¾¿æ•´ç†ä¸€ä¸‹æ—§é¡¹ç›®ä¸­çš„å„ç§iOS10ä¸Xcode8çš„é€‚é…é—®é¢˜.</p>
<a id="more"></a>
<hr>
<h2 id="ATSé—®é¢˜"><a href="#ATSé—®é¢˜" class="headerlink" title="ATSé—®é¢˜"></a>ATSé—®é¢˜</h2><p>ä»iOS9å¼€å§‹, appleå°±å¼ºåˆ¶ä½¿ç”¨https. iOS9ä¸­å¯ä»¥NSAllowsArbitraryLoadsè®¾ç½®ä¸ºYESç¦ç”¨ATSã€‚ä½†æ˜¯iOS 10ä»2017å¹´1æœˆ1æ—¥èµ·è‹¹æœä¸å…è®¸æˆ‘ä»¬é€šè¿‡è¿™ä¸ªæ–¹æ³•è·³è¿‡ATSï¼Œä¹Ÿå°±æ˜¯è¯´å¼ºåˆ¶æˆ‘ä»¬ç”¨HTTPSï¼Œå¦‚æœä¸è¿™æ ·çš„è¯æäº¤Appå¯èƒ½ä¼šè¢«æ‹’ç»ã€‚<br><strong>è§£å†³åŠæ³•</strong>:<br>æ–¹æ³•1: åå°æ¥å£å…¨éƒ¨é‡‡ç”¨https. (ä½†æ€»æœ‰ä¾‹å¤–çš„)<br>æ–¹æ³•2: é€šè¿‡NSExceptionDomainsæ¥é’ˆå¯¹ç‰¹å®šçš„åŸŸåå¼€æ”¾HTTPè®¿é—®.<br>(æ¯ä¸ªåŸŸä¸‹é¢éœ€è¦è®¾ç½®3ä¸ªå±æ€§ï¼šNSIncludesSubdomainsã€NSExceptionRequiresForwardSecrecyã€NSExceptionAllowsInsecureHTTPLoadsã€‚)<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAppTransportSecurity<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSExceptionDomains<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">key</span>&gt;</span>thatotherdomain.com<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">         <span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">             <span class="comment">&lt;!--é€‚ç”¨äºè¿™ä¸ªç‰¹å®šåŸŸåä¸‹çš„æ‰€æœ‰å­åŸŸ--&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSIncludesSubdomains<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">true</span>/&gt;</span></div><div class="line">             <span class="comment">&lt;!--æ‰©å±•å¯æ¥å—çš„å¯†ç åˆ—è¡¨ï¼šè¿™ä¸ªåŸŸåå¯ä»¥ä½¿ç”¨ä¸æ”¯æŒ forward secrecy åè®®çš„å¯†ç --&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSExceptionRequiresForwardSecrecy<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">false</span>/&gt;</span></div><div class="line">             <span class="comment">&lt;!--å…è®¸Appè¿›è¡Œä¸å®‰å…¨çš„HTTPè¯·æ±‚--&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSExceptionAllowsInsecureHTTPLoads<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">true</span>/&gt;</span></div><div class="line">             <span class="comment">&lt;!--åœ¨è¿™é‡Œå£°æ˜æ‰€æ”¯æŒçš„ TLS æœ€ä½ç‰ˆæœ¬--&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSExceptionMinimumTLSVersion<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">string</span>&gt;</span>TLSv1.1<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">         <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div><div class="line">     <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>æ³¨æ„</strong>: å®‰å…¨ä¼ è¾“ä¸å†æ”¯æŒSSLv3, å»ºè®®å°½å¿«åœç”¨SHA1å’Œ3DESç®—æ³•ã€‚<br>åœ¨iOS 10 ä¸­info.plistæ–‡ä»¶æ–°åŠ å…¥äº†<strong>NSAllowsArbitraryLoadsInWebContent</strong>é”®,å…è®¸ä»»æ„webé¡µé¢åŠ è½½,åŒæ—¶è‹¹æœä¼šç”¨ ATS æ¥ä¿æŠ¤ä½ çš„appã€‚</p>
<h2 id="æ–°çš„æ¨é€"><a href="#æ–°çš„æ¨é€" class="headerlink" title="æ–°çš„æ¨é€"></a>æ–°çš„æ¨é€</h2><p>iOS10å¼•å…¥äº†ä»UIKitç‹¬ç«‹å‡ºæ¥çš„UserNotifications.framework, ç”¨æ¥æ›¿ä»£åŸå…ˆçš„æœ¬åœ°ä¸è¿œç¨‹æ¨é€. åŒæ—¶ä¹Ÿå¼•å…¥äº†UserNotificationsUI.frameworkå…è®¸ä½ å®šåˆ¶æœ¬åœ°æˆ–è¿œç¨‹é€šçŸ¥å‡ºç°åœ¨ä½ çš„è®¾å¤‡ä¸Šæ—¶çš„å¤–è§‚ã€‚(æ—§çš„æ¥å£ç›®å‰ä¹Ÿä»èƒ½iOS10ä¸­æ­£å¸¸ä½¿ç”¨)<br>å…¸å‹å˜åŒ–: <a href="https://developer.apple.com/reference/usernotifications" target="_blank" rel="external">UserNotifications.frameworkæ–‡æ¡£</a></p>
<ol>
<li>åœ¨iOS10ä¸­,å³ä½¿appåœ¨å‰å°ä¹Ÿå¯ä»¥æ˜¾ç¤ºé€šçŸ¥,æ’­æ”¾å£°éŸ³ã€å¢åŠ è§’æ ‡äº†.(è¿™ä¸ªçœäº‹äº†)</li>
<li>æ”¯æŒ3DTouchæ›¿ä»£æ‰‹åŠ¿æ»‘åŠ¨äº†ã€‚<br>ç”±äºæ–°çš„UserNotifications.frameworkå‡ºç°, iOS10ä»¥å‰è¢«åºŸå¼ƒçš„ç±»æœ‰:<blockquote>
<p>UILocalNotification<br>UIMutableUserNotificationAction<br>UIMutableUserNotificationCategory<br>UIUserNotificationAction<br>UIUserNotificationCategory<br>UIUserNotificationSettings</p>
</blockquote>
</li>
</ol>
<p>ä½¿ç”¨UserNotifications.frameworkçš„ä¾‹å­:<br>1.å¼•å…¥ UserNotifications<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@import</span> UserNotifications;</div></pre></td></tr></table></figure></p>
<p>2.ä¸ºæœ¬åœ°é€šçŸ¥è¯·æ±‚æˆæƒ<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];</div><div class="line">[center requestAuthorizationWithOptions:(UNAuthorizationOptionBadge | UNAuthorizationOptionSound | UNAuthorizationOptionAlert)</div><div class="line">                      completionHandler:^(<span class="built_in">BOOL</span> granted, <span class="built_in">NSError</span> * _Nullable error) &#123;</div><div class="line">                          <span class="keyword">if</span> (!error) &#123;</div><div class="line">                              <span class="built_in">NSLog</span>(<span class="string">@"request authorization succeeded!"</span>);</div><div class="line">                              [<span class="keyword">self</span> showAlert];</div><div class="line">                          &#125;</div><div class="line">                      &#125;];</div></pre></td></tr></table></figure></p>
<p>3.æ›´æ–°åº”ç”¨çº¢ç‚¹ç¤ºä¾‹<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">UNMutableNotificationContent *content = [[UNMutableNotificationContent alloc] init];</div><div class="line">content.title = [<span class="built_in">NSString</span> localizedUserNotificationStringForKey:<span class="string">@"Elon said:"</span> arguments:<span class="literal">nil</span>];</div><div class="line">content.body = [<span class="built_in">NSString</span> localizedUserNotificationStringForKey:<span class="string">@"Hello Lilei!"</span></div><div class="line">                                                     arguments:<span class="literal">nil</span>];</div><div class="line">content.sound = [UNNotificationSound defaultSound];</div><div class="line"></div><div class="line"><span class="comment">/// 4. update application icon badge number</span></div><div class="line">content.badge = @([[<span class="built_in">UIApplication</span> sharedApplication] applicationIconBadgeNumber] + <span class="number">1</span>);</div><div class="line"><span class="comment">// Deliver the notification in five seconds.</span></div><div class="line">UNTimeIntervalNotificationTrigger *trigger = [UNTimeIntervalNotificationTrigger</div><div class="line">                                              triggerWithTimeInterval:<span class="number">5.</span>f repeats:<span class="literal">NO</span>];</div><div class="line">UNNotificationRequest *request = [UNNotificationRequest requestWithIdentifier:<span class="string">@"FiveSecond"</span></div><div class="line">                                                                      content:content trigger:trigger];</div><div class="line"><span class="comment">/// 3. schedule localNotification</span></div><div class="line">UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];</div><div class="line">[center addNotificationRequest:request withCompletionHandler:^(<span class="built_in">NSError</span> * _Nullable error) &#123;</div><div class="line">    <span class="keyword">if</span> (!error) &#123;</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"add NotificationRequest succeeded!"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;];</div></pre></td></tr></table></figure></p>
<p>ç§»é™¤æœ¬åœ°é€šçŸ¥ä¹Ÿå˜å¾—ç®€å•:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(<span class="string">@"10.0"</span>)) &#123;</div><div class="line">    UNUserNotificationCenter *center = [UNUserNotificationCenter currentNotificationCenter];</div><div class="line">    <span class="comment">// remove all local notification:</span></div><div class="line"><span class="comment">//        [center removeAllPendingNotificationRequests];</span></div><div class="line">    <span class="comment">// or you can remove specifical local notification:</span></div><div class="line">     [center removePendingNotificationRequestsWithIdentifiers:@[ CYLInviteCategoryIdentifier ]];</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// remove all local notification:</span></div><div class="line"><span class="comment">//        [[UIApplication sharedApplication] cancelAllLocalNotifications];</span></div><div class="line">    <span class="comment">// or you can remove specifical local notification:</span></div><div class="line">    <span class="built_in">NSString</span> *specificalIDToCancel = CYLInviteCategoryIdentifier;</div><div class="line">    <span class="built_in">UILocalNotification</span> *notificationToCancel = <span class="literal">nil</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="built_in">UILocalNotification</span> *aNotif <span class="keyword">in</span> [[<span class="built_in">UIApplication</span> sharedApplication] scheduledLocalNotifications]) &#123;</div><div class="line">        <span class="keyword">if</span>([[aNotif.userInfo objectForKey:<span class="string">@"CategoryIdentifier"</span>] isEqualToString:specificalIDToCancel]) &#123;</div><div class="line">            notificationToCancel = aNotif;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(notificationToCancel) &#123;</div><div class="line">        [[<span class="built_in">UIApplication</span> sharedApplication] cancelLocalNotification:notificationToCancel];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="info-plistæƒé™é—®é¢˜"><a href="#info-plistæƒé™é—®é¢˜" class="headerlink" title="info.plistæƒé™é—®é¢˜"></a>info.plistæƒé™é—®é¢˜</h2><p>å½“è¯·æ±‚ç…§ç›¸æœºç­‰æƒé™æ—¶ä¼šå´©æºƒ. éœ€è¦æ·»åŠ é¢å¤–çš„ç”¨é€”è¯´æ˜.<br>é”™è¯¯æè¿°: This app has crashed because it attempted to access privacy-sensitive data without a usage description.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- ğŸ–¼ Photo Library --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSPhotoLibraryUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) photo use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“· Camera --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSCameraUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) camera use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ¤ Microphone --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSMicrophoneUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) microphone use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“ Location --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSLocationUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) location use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“ Location When In Use --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSLocationWhenInUseUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) location use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“ Location Always --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSLocationAlwaysUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) always uses location <span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“† Calendars --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSCalendarsUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) calendar events<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- â° Reminders --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSRemindersUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) reminder use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“’ Contacts --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSContactsUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) contact use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸŠ Motion --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSMotionUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) motion use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ’Š Health Update --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSHealthUpdateUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) heath update use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ’Š Health Share --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSHealthShareUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) heath share use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- á›’ğŸ”µ Bluetooth Peripheral --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSBluetoothPeripheralUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) Bluetooth Peripheral use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸµ Media Library --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAppleMusicUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) media library use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“± Siri --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSSiriUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) siri use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ¡ HomeKit --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSHomeKitUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) home kit use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“» SpeechRecognition --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSSpeechRecognitionUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) speech use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- ğŸ“º VideoSubscriber --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSVideoSubscriberAccountUsageDescription<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>$(PRODUCT_NAME) tvProvider use<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æœ‰çš„åº”ç”¨å¯èƒ½è¿˜æ˜¯æœ‰é—®é¢˜, å¯ä»¥åœ¨info.plistä¸­å¼€å¯åå°æƒé™.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>UIBackgroundModes<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- something you should use in background --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>location<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æˆ–è€…å» target -&gt; Capabilities -&gt; Background Modes -&gt; open the background Modesä¸­å¼€å¯.</p>
<h2 id="iOSç‰ˆæœ¬æ£€æŸ¥ä¸€ç‚¹å˜åŒ–"><a href="#iOSç‰ˆæœ¬æ£€æŸ¥ä¸€ç‚¹å˜åŒ–" class="headerlink" title="iOSç‰ˆæœ¬æ£€æŸ¥ä¸€ç‚¹å˜åŒ–"></a>iOSç‰ˆæœ¬æ£€æŸ¥ä¸€ç‚¹å˜åŒ–</h2><p>ä»¥ä¸‹è¿™ç§ç‰ˆæœ¬æ£€æµ‹æ–¹æ³•å¤±æ•ˆ. (substringToIndex:1åœ¨SDKâ€˜iOS 10.0â€™(Xcode)ä¸­ç­‰äºSDKâ€˜iOS 1.0â€™)<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#define IsIOS7 ([[[[UIDevice currentDevice] systemVersion] substringToIndex:1] intValue]&gt;=7)</span></div></pre></td></tr></table></figure></p>
<p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ›¿æ¢:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#define SYSTEM_VERSION_EQUAL_TO(v)                  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedSame)</span></div><div class="line"><span class="meta">#define SYSTEM_VERSION_GREATER_THAN(v)              ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedDescending)</span></div><div class="line"><span class="meta">#define SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(v)  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedAscending)</span></div><div class="line"><span class="meta">#define SYSTEM_VERSION_LESS_THAN(v)                 ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedAscending)</span></div><div class="line"><span class="meta">#define SYSTEM_VERSION_LESS_THAN_OR_EQUAL_TO(v)     ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedDescending)</span></div></pre></td></tr></table></figure></p>
<p>Swiftä¸­iOSç‰ˆæœ¬æ£€æµ‹:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> #available(iOS <span class="number">10.0</span>, *) &#123;</div><div class="line">    <span class="comment">// modern code</span></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// Fallback on earlier versions</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="xibé—®é¢˜"><a href="#xibé—®é¢˜" class="headerlink" title="xibé—®é¢˜"></a>xibé—®é¢˜</h2><p>æ–°ç‰ˆçš„xibä¸èƒ½åœ¨æ—§ç‰ˆXcodeä¸­æ‰“å¼€äº†. å½“åœ¨Xocde8ä¸­æ‰“å¼€æ—§ç‰ˆçš„xibæˆ–storyboardæ—¶, ä¼šæç¤º:<br>This version does not support documents saved in the Xcode 8 format. Open this document with Xcode 8.0 or later</p>
<p><strong>è§£å†³åŠæ³•</strong>:<br>å»æ‰å¦‚ä¸‹ä»£ç :<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">capability</span> <span class="attr">name</span>=<span class="string">"documents saved in the Xcode 8 format"</span> <span class="attr">minToolsVersion</span>=<span class="string">"8.0"</span>/&gt;</span></div></pre></td></tr></table></figure></p>
<p>æŸ¥æ‰¾æ–¹æ³•: è‡ªå·±ç”¨Xcdoe7æ–°å»ºä¸ªé¡¹ç›®, å†ç”¨Xcode8æ‰“å¼€. æ¯”ä¸€æ¯”xibæºç çš„ä¸åŒå³å¯.</p>
<h2 id="UIStatusBaræ–¹æ³•è¿‡æœŸ"><a href="#UIStatusBaræ–¹æ³•è¿‡æœŸ" class="headerlink" title="UIStatusBaræ–¹æ³•è¿‡æœŸ"></a>UIStatusBaræ–¹æ³•è¿‡æœŸ</h2><p>ç¼–è¯‘å™¨ä¼šæç¤ºæ—§çš„æ–¹æ³•ä¸èƒ½ç”¨.<br>å³ä½¿ç”¨preferredStatusBarStyleæ›¿ä»£åŸå…ˆçš„setStatusBarStyle.<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">UIStatusBarStyle</span> preferredStatusBarStyle <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0) __TVOS_PROHIBITED; <span class="comment">// Defaults to UIStatusBarStyleDefault</span></div><div class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>, <span class="keyword">readonly</span>) <span class="built_in">BOOL</span> prefersStatusBarHidden <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0) __TVOS_PROHIBITED; <span class="comment">// Defaults to NO</span></div><div class="line">- (<span class="built_in">UIStatusBarStyle</span>)preferredStatusBarStyle <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0) __TVOS_PROHIBITED; <span class="comment">// Defaults to UIStatusBarStyleDefault</span></div><div class="line">- (<span class="built_in">BOOL</span>)prefersStatusBarHidden <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0) __TVOS_PROHIBITED; <span class="comment">// Defaults to NO</span></div><div class="line"><span class="comment">// Override to return the type of animation that should be used for status bar changes for this view controller. This currently only affects changes to prefersStatusBarHidden.</span></div><div class="line">- (<span class="built_in">UIStatusBarAnimation</span>)preferredStatusBarUpdateAnimation <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">7</span>_0) __TVOS_PROHIBITED; <span class="comment">// Defaults to UIStatusBarAnimationFade</span></div></pre></td></tr></table></figure></p>
<h2 id="å…¶ä»–é€‚é…é—®é¢˜æˆ–æ›´æ–°"><a href="#å…¶ä»–é€‚é…é—®é¢˜æˆ–æ›´æ–°" class="headerlink" title="å…¶ä»–é€‚é…é—®é¢˜æˆ–æ›´æ–°"></a>å…¶ä»–é€‚é…é—®é¢˜æˆ–æ›´æ–°</h2><p>1.Xcode8å¼€å§‹é»˜è®¤æœ€ä½æ”¯æŒiOS8. æ‰€ä»¥å»ºè®®è¿˜æ˜¯ä¿ç•™ä¸€ä»½Xcode7çš„ç‰ˆæœ¬.<br>2.Xcode8ç¬¬3æ–¹æ’ä»¶å–æ¶ˆ<br>3.UIRefreshControlå¯ä»¥ç›´æ¥åœ¨UICollectionViewå’ŒUITableViewä¸­ä½¿ç”¨,å¹¶ä¸”è„±ç¦»äº†UITableViewController.ç°åœ¨RefreshControlæ˜¯UIScrollViewçš„ä¸€ä¸ªå±æ€§.<br>4.UICollectionViewCellæ€§èƒ½ä¼˜åŒ–.</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€‚é…é—®é¢˜æ¯æ¬¡iOSå¤§ç‰ˆæœ¬å‡çº§æ€»æ˜¯ä¸€å †å †çš„. æš‚ä¸”æ•´ç†è¿™äº›.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç”±äºXcode8ç­¾åé—®é¢˜ä½¿åŸå…ˆçš„ä¸‰æ–¹æ’ä»¶éƒ½ä¸èƒ½ç”¨,å°è¯•å»é™¤ç­¾å,ä½†ä¸€äº›æ’ä»¶ä¼šå¯¼è‡´Xcode8é—ªé€€,æ‰€ä»¥ä¸€ç›´åœ¨Xcode7ä¸Xocde8ä¹‹é—´åˆ‡æ¢ä½¿ç”¨. é¡ºä¾¿æ•´ç†ä¸€ä¸‹æ—§é¡¹ç›®ä¸­çš„å„ç§iOS10ä¸Xcode8çš„é€‚é…é—®é¢˜.&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://blog.xigulu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ã€ReactNativeã€‘ä¸iOSç»„ä»¶é—´çš„ç›¸äº’è°ƒç”¨</title>
    <link href="http://blog.xigulu.com/2016/09/10/ReactNative-iOS-communication/"/>
    <id>http://blog.xigulu.com/2016/09/10/ReactNative-iOS-communication/</id>
    <published>2016-09-09T16:00:00.000Z</published>
    <updated>2016-12-03T09:53:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>React Nativeç›®å‰ä¸€èˆ¬ä¸ä¼šç”¨æ¥åšæ•´ä¸ªåº”ç”¨, å› æ­¤ä¸åŸç”Ÿåº”ç”¨é—´çš„é€šè®¯å°±æ¯”è¾ƒé‡è¦äº†.</p>
<a id="more"></a>
<hr>
<h2 id="é€šè®¯æœºåˆ¶"><a href="#é€šè®¯æœºåˆ¶" class="headerlink" title="é€šè®¯æœºåˆ¶"></a>é€šè®¯æœºåˆ¶</h2><p>1.åŒæ–¹å‡ç»´æŠ¤ä¸€å¥—ç›¸åŒçš„æ¨¡å—é…ç½®è¡¨ï¼Œè€Œè¿™ä»½è¡¨æ˜¯ç”±OCéå†OCæ¨¡å—ä¸­å¸¦äº†æš´éœ²æ ‡è®°çš„æ–¹æ³•ä»¥åŠJSä¸­é…ç½®çš„æ¨¡å—æ–¹æ³•è€Œå¾—åˆ°çš„ï¼Œè¯¥æ“ä½œæ˜¯ç”±React Nativeè‡ªåŠ¨å®Œæˆçš„ã€‚<br>2.åœ¨JSè°ƒç”¨OCæ–¹æ³•æ—¶ï¼Œä¸­é—´ä»¶ä¼šå°†è¯¥è°ƒç”¨åšä¸€äº›æ ¼å¼åŒ–æ“ä½œï¼Œåœ¨react nativeä¸­æ ¼å¼åŒ–ä¸º[ModuleID,MethodID,params(åŒ…å«CallbackID)]ï¼Œå¹¶å°†å…¶æ”¾åœ¨ç­‰å¾…OCè°ƒç”¨çš„é˜Ÿåˆ—ä¸­ï¼Œè€ŒCallbackID åˆ™ç¼“å­˜åœ¨JSä¸­é—´ä»¶ä¸Šç­‰å¾…å›è°ƒã€‚<br>3.åœ¨ç”¨æˆ·è§¦å‘äº†å„ç§äº‹ä»¶å¯åŠ¨äº‹ä»¶ï¼Œè§¦æ‘¸äº‹ä»¶ï¼Œtimeräº‹ä»¶ï¼Œç³»ç»Ÿäº‹ä»¶ï¼Œå›è°ƒäº‹ä»¶æ—¶ï¼ŒOCä¼šå»è°ƒç”¨JSæ¨¡å—é…ç½®è¡¨ä¸­JSæ¨¡å—çš„æ–¹æ³•ï¼Œæ­¤æ—¶JSä¼šè¿åŒç­‰å¾…OCè°ƒç”¨çš„é˜Ÿåˆ—ä¸€èµ·ä¼ å›OCä¸­æ‰§è¡Œã€‚</p>
<h2 id="åŸç”Ÿè·³è½¬åˆ°RNç•Œé¢"><a href="#åŸç”Ÿè·³è½¬åˆ°RNç•Œé¢" class="headerlink" title="åŸç”Ÿè·³è½¬åˆ°RNç•Œé¢"></a>åŸç”Ÿè·³è½¬åˆ°RNç•Œé¢</h2><p>æ··åˆå¼€å‘æœ€ç®€å•çš„å°±æ˜¯åŸç”Ÿè·³è½¬åˆ°RNå¼€å‘çš„ç•Œé¢ã€‚åœ¨è‡ªåŠ¨ç”Ÿæˆçš„iOSé¡¹ç›®, appDelegateä¸­å³ç›´æ¥è·³è½¬åˆ°RNç•Œé¢ã€‚<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</div><div class="line">    [<span class="keyword">super</span> viewDidLoad];</div><div class="line">    <span class="comment">// Do any additional setup after loading the view from its nib.</span></div><div class="line">  </div><div class="line">    <span class="comment">//åŸç”Ÿè·³è½¬åˆ°RNç•Œé¢</span></div><div class="line">    <span class="built_in">NSURL</span> *jsCodeLocation=[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://localhost:8081/index.ios.bundle?platform=ios&amp;dev=true"</span>]; <span class="comment">//URLä¸ºDebug Serveråœ°å€.(å¦‚æœéœ€è¦å‘å¸ƒ, åˆ™éœ€å…ˆå°†jsä¸å›¾ç‰‡èµ„æºæ‰“åŒ…)</span></div><div class="line">    RCTRootView *rootView = [[RCTRootView alloc] initWithBundleURL:jsCodeLocation</div><div class="line">                                                      moduleName:<span class="string">@"Native2RNDemo"</span></div><div class="line">                                               initialProperties:<span class="literal">nil</span></div><div class="line">                                                   launchOptions:<span class="literal">nil</span>];</div><div class="line">    <span class="keyword">self</span>.view=rootView;</div><div class="line">  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="RNä¸­è°ƒç”¨åŸç”Ÿæ–¹æ³•æˆ–ç»„ä»¶"><a href="#RNä¸­è°ƒç”¨åŸç”Ÿæ–¹æ³•æˆ–ç»„ä»¶" class="headerlink" title="RNä¸­è°ƒç”¨åŸç”Ÿæ–¹æ³•æˆ–ç»„ä»¶"></a>RNä¸­è°ƒç”¨åŸç”Ÿæ–¹æ³•æˆ–ç»„ä»¶</h2><p>RCTBridgeModuleæ˜¯å®šä¹‰å¥½çš„protocolï¼Œå®ç°è¯¥åè®®çš„ç±»ï¼Œä¼šè‡ªåŠ¨æ³¨å†Œåˆ°Object-Cå¯¹åº”çš„Bridgeä¸­ã€‚Object-C Bridgeä¸Šå±‚è´Ÿè´£ä¸Object-Cé€šä¿¡ï¼Œä¸‹å±‚è´Ÿè´£å’ŒJavaScript Bridgeé€šä¿¡ï¼Œè€ŒJavaScript Bridgeè´Ÿè´£å’ŒJavaScripté€šä¿¡ã€‚<br>React Nativeä¸­Object-Cç›¸å…³çš„å‘½åå‡ä»¥RCTå¼€å¤´ã€‚</p>
<h3 id="è°ƒç”¨çš„ä¸€èˆ¬æ­¥éª¤"><a href="#è°ƒç”¨çš„ä¸€èˆ¬æ­¥éª¤" class="headerlink" title="è°ƒç”¨çš„ä¸€èˆ¬æ­¥éª¤:"></a>è°ƒç”¨çš„ä¸€èˆ¬æ­¥éª¤:</h3><p>1.RCTBridgeModule è´Ÿè´£iOSä¸JSé€šè®¯æ¨¡å—: å¼•å…¥ä¸å®ç°åè®®.<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"RCTBridgeModule.h"</span></span></div><div class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MyRNTest</span> : <span class="title">NSObject</span>&lt;<span class="title">RCTBridgeModule</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>2.RCT_EXPORT_MODULEå®   ä½œç”¨æ˜¯æ³¨å†Œä¸€ä¸ªModule, BridgeåŠ è½½å,JavaScriptä¸­å¯è°ƒç”¨è¿™ä¸ªModule.<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MyRNTest</span></span></div><div class="line">RCT_EXPORT_MODULE();   <span class="comment">//å†™åœ¨OCç±»çš„å®ç°é‡Œå³å¯</span></div><div class="line"><span class="keyword">@end</span></div></pre></td></tr></table></figure></p>
<p>3.RCT_EXPORT_METHODå®   å®šä¹‰è¢«JavaScriptè°ƒç”¨çš„æ–¹æ³•çš„å®.<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">RCT_EXPORT_METHOD(myTest:(<span class="built_in">NSString</span> *) msg )&#123;</div><div class="line">  <span class="built_in">UIAlertView</span> *alert = [[<span class="built_in">UIAlertView</span> alloc] initWithTitle:<span class="string">@"æˆ‘æ˜¯OC"</span> message:msg delegate:<span class="literal">nil</span> cancelButtonTitle:<span class="string">@"å…³é—­"</span> otherButtonTitles:<span class="literal">nil</span>, <span class="literal">nil</span>];</div><div class="line">  [alert show];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>4.æ¥ç€å°±æ˜¯JSä¸­è°ƒç”¨: (ES6çš„å†™æ³•)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123;Component&#125; <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">    StyleSheet,</div><div class="line">    Text,</div><div class="line">    View,</div><div class="line">    NativeModules,</div><div class="line">    TouchableOpacity,</div><div class="line">    Alert</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">"react-native"</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> MyRNTest = NativeModules.MyRNTest; <span class="comment">//å¼•å…¥OCä¸­çš„MyRNTestç±»</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">CalliOS</span> <span class="keyword">extends</span> <span class="title">Component</span></span>&#123;</div><div class="line"></div><div class="line">    render()&#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.container&#125;</span>&gt;</span></span></div><div class="line">                <span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">onPress</span>=<span class="string">&#123;()</span>=&gt;</span>MyRNTest.myTest('hello iOS!')&#125;&gt;</div><div class="line">                    <span class="tag">&lt;<span class="name">Text</span>&gt;</span>ç‚¹å‡»è°ƒç”¨iOSä¸­çš„æ–¹æ³•(ä¼ é€’å­—ç¬¦ä¸²)<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>æœ€ååœ¨å‘½ä»¤è¡Œè¿è¡Œ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ react-native run-ios</div></pre></td></tr></table></figure></p>
<hr>
<h3 id="å›è°ƒ"><a href="#å›è°ƒ" class="headerlink" title="å›è°ƒ"></a>å›è°ƒ</h3><p>Nativeåº”ç”¨å¤„ç†å®Œä¹‹åè¿”å›ç»“æœå†å›åˆ°JavaScriptä¸­è¿›è¡Œæ“ä½œå’Œå¤„ç†. è¿™æ ·å°±éœ€è¦ä½¿ç”¨JavaSctiptçš„å›è°ƒå‡½æ•°ï¼Œå¯¹ç»“æœè¿›è¡Œå¤„ç†ã€‚åœ¨React Nativeä¸­Object-cæœ‰ä¸¤ç§æ–¹å¼çš„å›è°ƒ:RCTReponseSenderBlockå’ŒPromisesã€‚<br><a href="https://facebook.github.io/react-native/docs/native-modules-ios.html" target="_blank" rel="external">ç›¸å…³å®˜æ–¹é“¾æ¥</a></p>
<h3 id="RCTReponseSenderBlockå›è°ƒ"><a href="#RCTReponseSenderBlockå›è°ƒ" class="headerlink" title="RCTReponseSenderBlockå›è°ƒ"></a>RCTReponseSenderBlockå›è°ƒ</h3><p>nativeä¸­:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">RCTResponseSenderBlock _alertCallback;</div><div class="line"></div><div class="line">RCT_EXPORT_METHOD(myCallbackTest:(RCTResponseSenderBlock) callback)&#123;</div><div class="line">  _alertCallback = callback;</div><div class="line">  </div><div class="line">  <span class="comment">//callback(@[[NSNull null],@"mydata"]); //å¯ä»¥ç›´æ¥è¿™æ ·ç”¨</span></div><div class="line">  </div><div class="line">  <span class="built_in">UIAlertView</span> *alert = [[<span class="built_in">UIAlertView</span> alloc] initWithTitle:<span class="string">@"æµ‹è¯•å›è°ƒ"</span> message:<span class="string">@"ç‚¹å‡»æŒ‰é’®å›è°ƒ(RCTResponseSenderBlockæ–¹å¼)"</span> delegate:<span class="keyword">self</span> cancelButtonTitle:<span class="string">@"å…³é—­"</span> otherButtonTitles:<span class="string">@"ç¡®å®š"</span>, <span class="literal">nil</span>];</div><div class="line">  [alert show];</div><div class="line">  </div><div class="line">&#125;</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)alertView:(<span class="built_in">UIAlertView</span> *)alertView clickedButtonAtIndex:(<span class="built_in">NSInteger</span>)buttonIndex&#123;</div><div class="line"></div><div class="line">    <span class="comment">//1.é€šè¿‡RCTResponseSenderBlockæ–¹å¼å¤„ç†å›è°ƒ</span></div><div class="line">    <span class="keyword">if</span>(buttonIndex == <span class="number">0</span>)&#123;</div><div class="line">      _alertCallback(@[<span class="string">@"myerror"</span>,]);  <span class="comment">//ä¸ºä¸€ä¸ªæ•°ç»„: ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºerrä¿¡æ¯(æ²¡é”™è¯¯ä¼ å…¥nullå¦‚ä¸‹), åé¢çš„ä¸ºè‡ªå®šä¹‰å‚æ•°</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">      _alertCallback(@[[<span class="built_in">NSNull</span> null],<span class="string">@"mydata"</span>]);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>RNä¸­:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">render() &#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.container&#125;</span>&gt;</span></span></div><div class="line"></div><div class="line">                <span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">onPress</span>=<span class="string">&#123;()</span>=&gt;</span>RNnativeModule.myCallbackTest(function(err,datas)&#123;</div><div class="line">                    if (err) &#123;</div><div class="line">                        Alert.alert('é”™è¯¯',err)</div><div class="line">                    &#125;else&#123;</div><div class="line">                        Alert.alert('ç¡®å®š',datas)</div><div class="line">                    &#125;</div><div class="line">                &#125;)&#125; style=&#123;mystyle.button&#125;&gt;</div><div class="line">                    <span class="tag">&lt;<span class="name">Text</span>&gt;</span>ç‚¹å‡»è°ƒç”¨iOSä¸­çš„æ–¹æ³•å¹¶å¤„ç†å›è°ƒ(RCTResponseSenderBlock)<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">        );</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h3 id="Promiseså›è°ƒ"><a href="#Promiseså›è°ƒ" class="headerlink" title="Promiseså›è°ƒ"></a>Promiseså›è°ƒ</h3><p>nativeä¸­:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">RCTPromiseResolveBlock _resolveBlock;</div><div class="line">RCTPromiseRejectBlock _rejectBlock;</div><div class="line"></div><div class="line">RCT_REMAP_METHOD(myPromiseTest, resolver:(RCTPromiseResolveBlock)resolver rejecter:(RCTPromiseRejectBlock) rejecter)&#123;</div><div class="line">  _resolveBlock = resolver;</div><div class="line">  _rejectBlock = rejecter;</div><div class="line">  </div><div class="line">  <span class="built_in">UIAlertView</span> *alert = [[<span class="built_in">UIAlertView</span> alloc] initWithTitle:<span class="string">@"æµ‹è¯•å›è°ƒ"</span> message:<span class="string">@"ç‚¹å‡»æŒ‰é’®å›è°ƒ(Promiseæ–¹å¼)"</span> delegate:<span class="keyword">self</span> cancelButtonTitle:<span class="string">@"å…³é—­"</span> otherButtonTitles:<span class="string">@"ç¡®å®š"</span>, <span class="literal">nil</span>];</div><div class="line">  [alert show];</div><div class="line">  </div><div class="line">&#125;</div><div class="line"></div><div class="line">-(<span class="keyword">void</span>)alertView:(<span class="built_in">UIAlertView</span> *)alertView clickedButtonAtIndex:(<span class="built_in">NSInteger</span>)buttonIndex&#123;</div><div class="line">    <span class="comment">//ES6ä¸­çš„Promiseæ–¹å¼</span></div><div class="line">    <span class="keyword">if</span> (buttonIndex==<span class="number">0</span>) &#123;</div><div class="line">      <span class="built_in">NSError</span> * err=[<span class="built_in">NSError</span> errorWithDomain:<span class="string">@"Promise Callback Test!"</span> code:<span class="number">0</span> userInfo:<span class="literal">nil</span>];</div><div class="line">      _rejectBlock(<span class="string">@"0"</span>,<span class="string">@"cancel"</span>,err); <span class="comment">//å‚æ•°: (NSString *code, NSString *message, NSError *error);</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">      _resolveBlock(@[<span class="string">@"hello promise callback!"</span>]);</div><div class="line">    &#125;</div><div class="line">  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>RNä¸­:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//promise</span></div><div class="line">    _calliOS_promise()&#123;</div><div class="line">        RNnativeModule.myPromiseTest().then((datas)=&gt;&#123;</div><div class="line">            Alert.alert(<span class="string">'ç¡®å®š'</span>,<span class="built_in">JSON</span>.stringify(datas)) <span class="comment">//å›è°ƒå›æ¥çš„ä¸ºjsonæ•°æ®, è½¬ä¸ºå­—ç¬¦ä¸²</span></div><div class="line">        &#125;).catch((err)=&gt;&#123;</div><div class="line">            Alert.alert(<span class="string">'é”™è¯¯'</span>,<span class="built_in">JSON</span>.stringify(err))</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    render() &#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.container&#125;</span>&gt;</span></span></div><div class="line"></div><div class="line">                <span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">onPress</span>=<span class="string">&#123;this._calliOS_promise.bind(this)&#125;</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.button&#125;</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">Text</span>&gt;</span>ç‚¹å‡»è°ƒç”¨iOSä¸­çš„æ–¹æ³•å¹¶å¤„ç†å›è°ƒ(Promise)<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">        );</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h2 id="åŸç”Ÿä¸­è°ƒç”¨RNæ–¹æ³•-eventDispatcher"><a href="#åŸç”Ÿä¸­è°ƒç”¨RNæ–¹æ³•-eventDispatcher" class="headerlink" title="åŸç”Ÿä¸­è°ƒç”¨RNæ–¹æ³•(eventDispatcher)"></a>åŸç”Ÿä¸­è°ƒç”¨RNæ–¹æ³•(eventDispatcher)</h2><p>ä»iOSåŸç”Ÿæ–¹æ³•å‘é€æ•°æ®åˆ°JavaScriptä¸­ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨eventDispatcherã€‚ å‚è§<a href="http://reactnative.cn/docs/0.31/native-modules-ios.html#content" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£ç¿»è¯‘é“¾æ¥</a><br>éœ€è¦å¼•å…¥:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"RCTBridge.h"</span></span></div><div class="line"><span class="meta">#import <span class="meta-string">"RCTEventDispatcher.h"</span></span></div><div class="line"></div><div class="line"><span class="keyword">@synthesize</span> bridge = _bridge;</div></pre></td></tr></table></figure></p>
<p>sendAppEventWithNameæ–¹æ³•è®¿é—®RN:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[<span class="keyword">self</span>.bridge.eventDispatcher sendAppEventWithName:<span class="string">@"EventReminder"</span></div><div class="line">                                               body:@&#123;<span class="string">@"name"</span>: <span class="string">@"abcdef"</span>&#125;];</div></pre></td></tr></table></figure></p>
<p>ç„¶ååœ¨RNä¸­åˆ©ç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•componentDidMount()æ–¹æ³•ä¸­ä½¿ç”¨addListener()æ–¹æ³•è¿›è¡Œæ·»åŠ è®¢é˜…äº‹ä»¶ã€‚å³componentWillUnmount()æ–¹æ³•ä¸­ä½¿ç”¨remove()æ–¹æ³•å–æ¶ˆè®¢é˜….<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">componentDidMount()&#123;</div><div class="line">        <span class="comment">//è®¢é˜…</span></div><div class="line">        _subscription = NativeAppEventEmitter.addListener(<span class="string">'EventReminder'</span>,(reminder)=&gt;&#123;</div><div class="line">            <span class="comment">//è¿™é‡Œå†™ä¾›nativeè°ƒç”¨çš„ä»£ç .</span></div><div class="line">            <span class="built_in">console</span>.log(<span class="string">"RNä»£ç è¢«è°ƒç”¨......."</span>);</div><div class="line">            Alert.alert(<span class="string">'æ¥æ”¶ä»OCå‘è¿‡æ¥çš„äº‹ä»¶é€šçŸ¥'</span>,reminder.name)</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    componentWillUnmount()&#123;</div><div class="line">        <span class="comment">//å–æ¶ˆè®¢é˜…</span></div><div class="line">        _subscription.remove()</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    render()&#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.container&#125;</span>&gt;</span></span></div><div class="line"></div><div class="line">                <span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">onPress</span>=<span class="string">&#123;()</span>=&gt;</span>nativeRNModule.nativeTest('hello iOS!')&#125; style=&#123;mystyle.button&#125;&gt;</div><div class="line">                    <span class="tag">&lt;<span class="name">Text</span>&gt;</span>æµ‹è¯•iOSè°ƒç”¨RN<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>æ ¸å¿ƒè¿˜æ˜¯RCTBridgeModule, å®ç°objcä¸javascriptä¹‹é—´çš„é€šè®¯.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;React Nativeç›®å‰ä¸€èˆ¬ä¸ä¼šç”¨æ¥åšæ•´ä¸ªåº”ç”¨, å› æ­¤ä¸åŸç”Ÿåº”ç”¨é—´çš„é€šè®¯å°±æ¯”è¾ƒé‡è¦äº†.&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://blog.xigulu.com/tags/iOS/"/>
    
      <category term="ReactNative" scheme="http://blog.xigulu.com/tags/ReactNative/"/>
    
  </entry>
  
  <entry>
    <title>ã€FFmpegã€‘FFmpegä¸FFplayå¸¸ç”¨å‘½ä»¤</title>
    <link href="http://blog.xigulu.com/2016/08/25/FFMPEG-command/"/>
    <id>http://blog.xigulu.com/2016/08/25/FFMPEG-command/</id>
    <published>2016-08-24T16:00:00.000Z</published>
    <updated>2016-11-17T06:49:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>FFmpegæ˜¯ä¸€å¥—å¯ä»¥ç”¨æ¥è®°å½•ã€è½¬æ¢æ•°å­—éŸ³é¢‘ã€è§†é¢‘ï¼Œå¹¶èƒ½å°†å…¶è½¬åŒ–ä¸ºæµçš„å¼€æºè®¡ç®—æœºç¨‹åºã€‚å¯ç”¨äºæ—¥å¸¸è§†é¢‘æ ¼å¼è½¬æ¢, é‡‡é›†, æŠ“å›¾ç­‰. ä¹Ÿå¯ä»¥ç”¨æ¥è§†é¢‘æ¨æµ, æµåª’ä½“æ’­æ”¾ç­‰ç­‰.<br><a href="https://ffmpeg.org/" target="_blank" rel="external">https://ffmpeg.org/</a>,<br><a href="https://github.com/FFmpeg/FFmpeg" target="_blank" rel="external">https://github.com/FFmpeg/FFmpeg</a></p>
<a id="more"></a>
<hr>
<h2 id="ffmpegå¸¸ç”¨å‘½ä»¤"><a href="#ffmpegå¸¸ç”¨å‘½ä»¤" class="headerlink" title="ffmpegå¸¸ç”¨å‘½ä»¤"></a>ffmpegå¸¸ç”¨å‘½ä»¤</h2><p>ffmpegä¸»è¦ç”¨äºè½¬ç .<br><a href="http://ffmpeg.org/ffmpeg.html" target="_blank" rel="external">http://ffmpeg.org/ffmpeg.html</a></p>
<h3 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h3><p>$ ffmpeg -i input.avi -b:v 640k output.ts     å°†input.aviè½¬ç æˆoutput.tsï¼Œè®¾ç½®è§†é¢‘çš„ç ç‡ä¸º640kbps<br>$ ffmpeg -i input.mp4 output.avi           å°†mp4è½¬æ¢ä¸ºavi </p>
<p><strong>åˆ†ç¦»è§†é¢‘éŸ³é¢‘æµ</strong>:<br>$ ffmpeg -i input_file -vcodec copy -an output_file_videoã€€ã€€//åˆ†ç¦»è§†é¢‘æµ<br>$ ffmpeg -i input_file -acodec copy -vn output_file_audioã€€ã€€//åˆ†ç¦»éŸ³é¢‘æµ</p>
<p><strong>è§†é¢‘å°è£…</strong>:<br>$ ffmpeg â€“i video_file â€“i audio_file â€“vcodec copy â€“acodec copy output_file  //éŸ³é¢‘,è§†é¢‘ç»„è£…èµ·æ¥</p>
<p><strong>è§†é¢‘è½¬ç </strong>:<br>$ ffmpeg â€“i test.mp4 â€“vcodec h264 â€“s 352<em>278 â€“an â€“f m4v test.264 //è½¬ç ä¸ºç æµåŸå§‹æ–‡ä»¶<br>$ ffmpeg â€“i test.mp4 â€“vcodec h264 â€“bf 0 â€“g 25 â€“s 352</em>278 â€“an â€“f m4v test.264 //è½¬ç ä¸ºç æµåŸå§‹æ–‡ä»¶<br>$ ffmpeg â€“i test.avi -vcodec mpeg4 â€“vtag xvid â€“qsame test_xvid.avi //è½¬ç ä¸ºå°è£…æ–‡ä»¶<br>-bf Bå¸§æ•°ç›®æ§åˆ¶<br>-g å…³é”®å¸§é—´éš”æ§åˆ¶<br>-s åˆ†è¾¨ç‡æ§åˆ¶</p>
<p><strong>è§†é¢‘å‰ªåˆ‡</strong>:<br>$ ffmpeg â€“i test.avi â€“r 1 â€“f image2 image-%3d.jpeg //æå–å›¾ç‰‡<br>$ ffmpeg -ss 0:1:30 -t 0:0:20 -i input.avi -vcodec copy -acodec copy output.avi //å‰ªåˆ‡è§†é¢‘<br>-r æå–å›¾åƒçš„é¢‘ç‡<br>-ss å¼€å§‹æ—¶é—´<br>-t æŒç»­æ—¶é—´</p>
<p><strong>è§†é¢‘å½•åˆ¶</strong>:<br>$ ffmpeg â€“i rtsp://192.168.3.205:5555/test â€“vcodec copy out.avi</p>
<h3 id="æ¨æµå‘½ä»¤"><a href="#æ¨æµå‘½ä»¤" class="headerlink" title="æ¨æµå‘½ä»¤"></a>æ¨æµå‘½ä»¤</h3><p>è§†é¢‘æ–‡ä»¶æ–‡ä»¶æ¨æµ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ffmpeg -re -i /Users/xu/Desktop/bangbangbang.mp4 -vcodec libx264 -acodec aac <span class="_">-f</span> flv rtmp://192.168.2.109:1935/mylive/room</div></pre></td></tr></table></figure></p>
<p>æ¡Œé¢å½•åˆ¶æ¨æµ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ffmpeg <span class="_">-f</span> avfoundation -i <span class="string">"1"</span> -vcodec libx264 -preset ultrafast -acodec libfaac <span class="_">-f</span> flv rtmp://192.168.2.109:1935/mylive/room</div></pre></td></tr></table></figure></p>
<h2 id="ffplayå¸¸ç”¨å‘½ä»¤"><a href="#ffplayå¸¸ç”¨å‘½ä»¤" class="headerlink" title="ffplayå¸¸ç”¨å‘½ä»¤"></a>ffplayå¸¸ç”¨å‘½ä»¤</h2><p>ffplayä¸»è¦ç”¨äºæ’­æ”¾.<br><a href="http://ffmpeg.org/ffplay.html" target="_blank" rel="external">http://ffmpeg.org/ffplay.html</a></p>
<p>$ ffplay test.avi       æ’­æ”¾test.avi(å½“ä¸ºéŸ³é¢‘æ—¶, ä¼šç›´æ¥æ’­æ”¾)<br>$ ffplay rtmp://up.v.test.com/live/stream      ç›´æ¥æ’­æ”¾ç½‘ç»œç›´æµ<br>$ ffplay -showmode 1 test.mp3                  å°†éŸ³é¢‘ä»¥æ³¢å½¢å±•ç¤º</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;FFmpegæ˜¯ä¸€å¥—å¯ä»¥ç”¨æ¥è®°å½•ã€è½¬æ¢æ•°å­—éŸ³é¢‘ã€è§†é¢‘ï¼Œå¹¶èƒ½å°†å…¶è½¬åŒ–ä¸ºæµçš„å¼€æºè®¡ç®—æœºç¨‹åºã€‚å¯ç”¨äºæ—¥å¸¸è§†é¢‘æ ¼å¼è½¬æ¢, é‡‡é›†, æŠ“å›¾ç­‰. ä¹Ÿå¯ä»¥ç”¨æ¥è§†é¢‘æ¨æµ, æµåª’ä½“æ’­æ”¾ç­‰ç­‰.&lt;br&gt;&lt;a href=&quot;https://ffmpeg.org/&quot;&gt;https://ffmpeg.org/&lt;/a&gt;,&lt;br&gt;&lt;a href=&quot;https://github.com/FFmpeg/FFmpeg&quot;&gt;https://github.com/FFmpeg/FFmpeg&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="FFmpeg" scheme="http://blog.xigulu.com/tags/FFmpeg/"/>
    
  </entry>
  
  <entry>
    <title>ã€iOSã€‘hotfixä¹‹JSPatch</title>
    <link href="http://blog.xigulu.com/2016/08/08/iOS-hotfix/"/>
    <id>http://blog.xigulu.com/2016/08/08/iOS-hotfix/</id>
    <published>2016-08-07T16:00:00.000Z</published>
    <updated>2016-11-17T06:50:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>JSPatchå¯å®ç°é¡¹ç›®ä¸Šçº¿å, çƒ­ä¿®å¤å·²çŸ¥çš„bug.  JSPatch å¯ä»¥è®©ä½ ç”¨ JavaScript ä¹¦å†™åŸç”Ÿ iOS APPã€‚åªéœ€åœ¨é¡¹ç›®å¼•å…¥æå°çš„å¼•æ“ï¼Œå°±å¯ä»¥ä½¿ç”¨ JavaScript è°ƒç”¨ä»»ä½• Objective-C çš„åŸç”Ÿæ¥å£ï¼Œè·å¾—è„šæœ¬è¯­è¨€çš„ä¼˜åŠ¿ï¼šä¸ºé¡¹ç›®åŠ¨æ€æ·»åŠ æ¨¡å—ï¼Œæˆ–æ›¿æ¢é¡¹ç›®åŸç”Ÿä»£ç åŠ¨æ€ä¿®å¤ bugã€‚<br>JSPatchæºç <a href="https://github.com/bang590/JSPatch" target="_blank" rel="external">https://github.com/bang590/JSPatch</a>,  ä»¥åŠå…è‡ªå»ºæœåŠ¡å™¨é›†æˆæ¡†æ¶<a href="http://jspatch.com/" target="_blank" rel="external">http://jspatch.com/</a></p>
<a id="more"></a>
<hr>
<h2 id="JavaScriptå¯¹åº”OCè¯­æ³•è¯´æ˜"><a href="#JavaScriptå¯¹åº”OCè¯­æ³•è¯´æ˜" class="headerlink" title="JavaScriptå¯¹åº”OCè¯­æ³•è¯´æ˜"></a>JavaScriptå¯¹åº”OCè¯­æ³•è¯´æ˜</h2><p><a href="https://github.com/bang590/JSPatch/blob/master/README-CN.md" target="_blank" rel="external">https://github.com/bang590/JSPatch/blob/master/README-CN.md</a>(ä¸­æ–‡å‚è€ƒ)<br><a href="http://bang590.github.io/JSPatchConvertor/" target="_blank" rel="external">http://bang590.github.io/JSPatchConvertor/</a>(OCè½¬æ¢ä¸ºJSåœ¨çº¿å·¥å…·)<br><a href="https://github.com/bang590/JSPatchX" target="_blank" rel="external">https://github.com/bang590/JSPatchX</a>(Xcodeå†™JSPatchè‡ªåŠ¨è¡¥å…¨æ’ä»¶)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è°ƒç”¨requireå¼•å…¥è¦ä½¿ç”¨çš„OCç±»</span></div><div class="line"><span class="built_in">require</span>(<span class="string">'UIView, UIColor, UISlider, NSIndexPath'</span>)</div><div class="line"></div><div class="line"><span class="comment">// è°ƒç”¨ç±»æ–¹æ³•</span></div><div class="line"><span class="keyword">var</span> redColor = UIColor.redColor();</div><div class="line"></div><div class="line"><span class="comment">// è°ƒç”¨å®ä¾‹æ–¹æ³•</span></div><div class="line"><span class="keyword">var</span> view = UIView.alloc().init();</div><div class="line">view.setNeedsLayout();</div><div class="line"></div><div class="line"><span class="comment">// è®¾ç½®å±æ€§</span></div><div class="line">view.setBackgroundColor(redColor);</div><div class="line"></div><div class="line"><span class="comment">// è·å–å±æ€§ </span></div><div class="line"><span class="keyword">var</span> bgColor = view.backgroundColor();</div><div class="line"></div><div class="line"><span class="comment">// å¤šå‚æ•°æ–¹æ³•åç”¨'_'éš”å¼€ï¼š</span></div><div class="line"><span class="comment">// OCï¼šNSIndexPath *indexPath = [NSIndexPath indexPathForRow:0 inSection:1];</span></div><div class="line"><span class="keyword">var</span> indexPath = NSIndexPath.indexPathForRow_inSection(<span class="number">0</span>, <span class="number">1</span>);</div><div class="line"></div><div class="line"><span class="comment">// å¦‚æœè¦æŠŠ `NSArray` / `NSString` / `NSDictionary` è½¬ä¸ºå¯¹åº”çš„ JS ç±»å‹ï¼Œä½¿ç”¨ `.toJS()` æ¥å£.</span></div><div class="line"><span class="keyword">var</span> arr = <span class="built_in">require</span>(<span class="string">'NSMutableArray'</span>).alloc().init()</div><div class="line">arr.addObject(<span class="string">"JS"</span>)</div><div class="line">jsArr = arr.toJS()</div><div class="line"><span class="built_in">console</span>.log(jsArr.push(<span class="string">"Patch"</span>).join(<span class="string">''</span>))  <span class="comment">//output: JSPatch</span></div><div class="line"></div><div class="line"><span class="comment">// åœ¨JSç”¨å­—å…¸çš„æ–¹å¼è¡¨ç¤º CGRect / CGSize / CGPoint / NSRange</span></div><div class="line"><span class="keyword">var</span> view = UIView.alloc().initWithFrame(&#123;x:<span class="number">20</span>, y:<span class="number">20</span>, width:<span class="number">100</span>, height:<span class="number">100</span>&#125;);</div><div class="line"><span class="keyword">var</span> x = view.bounds().x;</div><div class="line"></div><div class="line"><span class="comment">// block ä» JavaScript ä¼ å…¥ Objective-C æ—¶ï¼Œéœ€è¦å†™ä¸Šæ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚</span></div><div class="line"><span class="comment">// OC Method: + (void)request:(void(^)(NSString *content, BOOL success))callback</span></div><div class="line"><span class="built_in">require</span>(<span class="string">'JPObject'</span>).request(block(<span class="string">"NSString *, BOOL"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ctn, succ</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (succ) log(ctn)</div><div class="line">&#125;));</div><div class="line"></div><div class="line"><span class="comment">// GCD</span></div><div class="line">dispatch_after(<span class="function"><span class="keyword">function</span>(<span class="params">1.0, function(</span>)</span>&#123;</div><div class="line">  <span class="comment">// do something</span></div><div class="line">&#125;))</div><div class="line">dispatch_async_main(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">// do something</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="JSPatchçƒ­ä¿®å¤ä½¿ç”¨"><a href="#JSPatchçƒ­ä¿®å¤ä½¿ç”¨" class="headerlink" title="JSPatchçƒ­ä¿®å¤ä½¿ç”¨"></a>JSPatchçƒ­ä¿®å¤ä½¿ç”¨</h2><h3 id="ä¸€èˆ¬æ­¥éª¤"><a href="#ä¸€èˆ¬æ­¥éª¤" class="headerlink" title="ä¸€èˆ¬æ­¥éª¤"></a>ä¸€èˆ¬æ­¥éª¤</h3><p>1.# import â€œJPEngine.hâ€<br>2.è°ƒç”¨[JPEngine startEngine]<br>3.é€šè¿‡[JPEngine evaluateScript:@â€â€]æ¥å£æ‰§è¡Œ JavaScriptã€‚(å¯ä»¥ç›´æ¥å†™JavaScript, ä¹Ÿå¯ç”¨ä»æ–‡ä»¶è¯»å…¥, è¿œç¨‹è·å–)</p>
<h3 id="å®ä¾‹ä»£ç "><a href="#å®ä¾‹ä»£ç " class="headerlink" title="å®ä¾‹ä»£ç "></a>å®ä¾‹ä»£ç </h3><p>ä»£ç åŠŸèƒ½ä¸º: æ”¹å˜ViewControllerä¸­é¢„å…ˆå®šä¹‰çš„rowè¡Œæ•°, CellèƒŒæ™¯é¢œè‰², ä¸ä¿®å¤è¶Šç•Œ .<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions &#123;</div><div class="line">    </div><div class="line">    [JPEngine startEngine];</div><div class="line">    <span class="comment">//è¯»å–æœ¬åœ°çš„test.jsæ–‡ä»¶</span></div><div class="line">    <span class="built_in">NSString</span> *sourcePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"test"</span> ofType:<span class="string">@"js"</span>];</div><div class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,sourcePath);</div><div class="line">    <span class="built_in">NSString</span> *script = [<span class="built_in">NSString</span> stringWithContentsOfFile:sourcePath encoding:<span class="built_in">NSUTF8StringEncoding</span> error:<span class="literal">nil</span>];</div><div class="line">    [JPEngine evaluateScript:script];</div><div class="line">    </div><div class="line">    [<span class="keyword">self</span>.window makeKeyAndVisible];</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>test.jsæ–‡ä»¶ä¸­å†…å®¹:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">defineClass(<span class="string">"ViewController"</span>, &#123;</div><div class="line">            </div><div class="line">    tableView_numberOfRowsInSection: <span class="function"><span class="keyword">function</span>(<span class="params">tableView, section</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">4</span>;</div><div class="line">    &#125;,</div><div class="line">  </div><div class="line">    tableView_cellForRowAtIndexPath: <span class="function"><span class="keyword">function</span>(<span class="params">tableView, indexPath</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> cell = tableView.dequeueReusableCellWithIdentifier(<span class="string">"cell"</span>)</div><div class="line">        <span class="keyword">if</span> (!cell) &#123;</div><div class="line">            cell = <span class="built_in">require</span>(<span class="string">'UITableViewCell'</span>).alloc().initWithStyle_reuseIdentifier(<span class="number">0</span>, <span class="string">"cell"</span>)</div><div class="line">        &#125;</div><div class="line">        cell.textLabel().setText(<span class="string">"xn"</span>);</div><div class="line">        <span class="keyword">var</span> redColor = <span class="built_in">require</span>(<span class="string">'UIColor'</span>).redColor();</div><div class="line">        cell.setBackgroundColor(redColor);</div><div class="line">        <span class="keyword">return</span> cell</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    <span class="comment">//instance method definitions</span></div><div class="line">    tableView_didSelectRowAtIndexPath: <span class="function"><span class="keyword">function</span>(<span class="params">tableView, indexPath</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> row = indexPath.row()</div><div class="line">        <span class="keyword">if</span> (self.dataSource().length &gt; row) &#123; <span class="comment">// ä¿®å¤æ•°ç»„è¶Šç•Œ</span></div><div class="line">            <span class="keyword">var</span> content = self.dataArr()[row];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;, &#123;&#125;);</div></pre></td></tr></table></figure></p>
<p>è¿™äº›JSä»£ç ä¸å¿…æ‰‹å†™, å¯ä»¥å…ˆå†™å‡ºOCä»£ç , ç„¶åç”¨åœ¨çº¿å·¥å…·è½¬æ¢å³å¯.</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>JSPatchèƒ½åšåˆ°é€šè¿‡JSè°ƒç”¨å’Œæ”¹å†™OCæ–¹æ³•æœ€æ ¹æœ¬çš„åŸå› æ˜¯ Objective-C æ˜¯åŠ¨æ€è¯­è¨€ï¼ŒOCä¸Šæ‰€æœ‰æ–¹æ³•çš„è°ƒç”¨/ç±»çš„ç”Ÿæˆéƒ½é€šè¿‡ Objective-C Runtime åœ¨è¿è¡Œæ—¶è¿›è¡Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»åå’Œæ–¹æ³•ååå°„å¾—åˆ°ç›¸åº”çš„ç±»å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢æŸä¸ªç±»çš„æ–¹æ³•ä¸ºæ–°çš„å®ç°ï¼Œè¿˜å¯ä»¥æ–°æ³¨å†Œä¸€ä¸ªç±»ï¼Œä¸ºç±»æ·»åŠ æ–¹æ³•ã€‚æ‰€ä»¥ JSPatch çš„åŸç†å°±æ˜¯ï¼šJSä¼ é€’å­—ç¬¦ä¸²ç»™OCï¼ŒOCé€šè¿‡ Runtime æ¥å£è°ƒç”¨å’Œæ›¿æ¢OCæ–¹æ³•ã€‚JSçš„ä½œç”¨åªæ˜¯ä¸€ä¸ªä¿¡ä½¿ï¼Œå…·ä½“å®ç°è¿˜æ˜¯é OCã€‚</p>
<p>ä»¥ä¸‹ä¸¤ç¯‡æ–‡ç« ä¸ºä½œè€…è‡ªå·±å†™çš„JSPatchå®ç°åŸç†:</p>
<p><a href="http://blog.cnbang.net/tech/2808/" target="_blank" rel="external">http://blog.cnbang.net/tech/2808/</a>(å®ç°åŸç†ä¸€)<br><a href="http://blog.cnbang.net/tech/2855/" target="_blank" rel="external">http://blog.cnbang.net/tech/2855/</a>(å®ç°åŸç†äºŒ)</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JSPatchå¯å®ç°é¡¹ç›®ä¸Šçº¿å, çƒ­ä¿®å¤å·²çŸ¥çš„bug.  JSPatch å¯ä»¥è®©ä½ ç”¨ JavaScript ä¹¦å†™åŸç”Ÿ iOS APPã€‚åªéœ€åœ¨é¡¹ç›®å¼•å…¥æå°çš„å¼•æ“ï¼Œå°±å¯ä»¥ä½¿ç”¨ JavaScript è°ƒç”¨ä»»ä½• Objective-C çš„åŸç”Ÿæ¥å£ï¼Œè·å¾—è„šæœ¬è¯­è¨€çš„ä¼˜åŠ¿ï¼šä¸ºé¡¹ç›®åŠ¨æ€æ·»åŠ æ¨¡å—ï¼Œæˆ–æ›¿æ¢é¡¹ç›®åŸç”Ÿä»£ç åŠ¨æ€ä¿®å¤ bugã€‚&lt;br&gt;JSPatchæºç &lt;a href=&quot;https://github.com/bang590/JSPatch&quot;&gt;https://github.com/bang590/JSPatch&lt;/a&gt;,  ä»¥åŠå…è‡ªå»ºæœåŠ¡å™¨é›†æˆæ¡†æ¶&lt;a href=&quot;http://jspatch.com/&quot;&gt;http://jspatch.com/&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://blog.xigulu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ã€iOSã€‘è§†é¢‘ç›´æ’­ä¸RTMPæ¨æµ</title>
    <link href="http://blog.xigulu.com/2016/07/28/iOS-Video-Living-RTMP/"/>
    <id>http://blog.xigulu.com/2016/07/28/iOS-Video-Living-RTMP/</id>
    <published>2016-07-27T16:00:00.000Z</published>
    <updated>2016-11-24T05:02:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>è§†é¢‘ç›´æ’­å¾ˆç«ï¼Œæ¶‰åŠçš„ä¸œè¥¿ä¹Ÿå¤šï¼Œéœ€è¦ä¼˜åŒ–çš„ä¸œè¥¿æ›´å¤šã€‚å¦‚æœä½¿ç”¨ç¬¬ä¸‰æ–¹SDKä¼šçœä¸‹å¾ˆå¤šç²¾åŠ›å°±å¯ä»¥åšä¸€ä¸ªæµç•…ç›´æ’­appã€‚æœ¬æ–‡è®°å½•ä¸ä½¿ç”¨ä¸‰æ–¹ç›´æ’­SDKå®ç°ç›´æ’­ï¼ŒåŒ…æ‹¬Nginxé…ç½®ã€æ¨æµã€æ’­æ”¾ç­‰ã€‚</p>
<a id="more"></a>
<hr>
<h2 id="Nginxæ¨¡å—é…ç½®RMTP"><a href="#Nginxæ¨¡å—é…ç½®RMTP" class="headerlink" title="Nginxæ¨¡å—é…ç½®RMTP"></a>Nginxæ¨¡å—é…ç½®RMTP</h2><p>nginxéœ€è¦å®‰è£…<a href="https://github.com/arut/nginx-rtmp-module" target="_blank" rel="external">nginx-rtmp-module</a>æ¨¡å—æ‰èƒ½è¿›è¡Œrtmpæ¨æµ. å› æ­¤éœ€è¦è‡ªå·±ç¼–è¯‘nginxæºç å¹¶å®‰è£…æ¨¡å—.</p>
<h3 id="åŸºæœ¬å®‰è£…é…ç½®"><a href="#åŸºæœ¬å®‰è£…é…ç½®" class="headerlink" title="åŸºæœ¬å®‰è£…é…ç½®"></a>åŸºæœ¬å®‰è£…é…ç½®</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install build-essential libpcre3 libpcre3-dev libssl-dev unzip    ä¾èµ–</div><div class="line">$ wget http://nginx.org/download/nginx-1.11.3.tar.gz          ä¸‹è½½Nginx(å¯ä»¥æ”¹ç‰ˆæœ¬å·)</div><div class="line">$ tar -zxvf nginx-1.11.3.tar.gz           è§£å‹</div><div class="line"></div><div class="line">$ wget https://github.com/arut/nginx-rtmp-module/archive/master.zip       ä¸‹è½½RTMPæ¨¡å—</div><div class="line">$ unzip nginx-rtmp-module-master.zip         è§£å‹(å’Œnginxè§£å‹åœ¨åŒä¸€æ ¹ç›®å½•)</div><div class="line"></div><div class="line">$ ./configure --add-module=../nginx-rtmp-module-master    é…ç½®å¹¶å¢åŠ æ¨¡å—(è·³è½¬åˆ°Nginxè§£å‹ç›®å½•æ‰§è¡Œ)</div><div class="line">$ make</div><div class="line">$ sudo make install</div></pre></td></tr></table></figure>
<h3 id="NginxæœåŠ¡å™¨é…ç½®"><a href="#NginxæœåŠ¡å™¨é…ç½®" class="headerlink" title="NginxæœåŠ¡å™¨é…ç½®"></a>NginxæœåŠ¡å™¨é…ç½®</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">rtmp &#123;</div><div class="line"></div><div class="line">  server &#123;</div><div class="line">      listen 1935;</div><div class="line">      #ç›´æ’­æµé…ç½®, applicationåçš„åå­—å¯æ”¹</div><div class="line">      application mylive &#123;</div><div class="line">          live on;</div><div class="line">          #ä¸º rtmp å¼•æ“è®¾ç½®æœ€å¤§è¿æ¥æ•°ã€‚é»˜è®¤ä¸º off</div><div class="line">          max_connections 1024;</div><div class="line">       &#125;</div><div class="line">      application hls&#123;</div><div class="line">          live on;</div><div class="line">          hls on;</div><div class="line">          hls_path /usr/local/var/www/hls;</div><div class="line">          hls_fragment 1s;</div><div class="line">      &#125;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="æ¨æµ"><a href="#æ¨æµ" class="headerlink" title="æ¨æµ"></a>æ¨æµ</h2><p>ç”±ä¸Šé¢çš„é…ç½®, å†åŠ ä¸Šæˆ‘çš„æœ¬åœ°æœåŠ¡å™¨åœ°å€å¾—åˆ°rtmpæ¨æµåœ°å€ä¸º:<br>rtmp://192.168.2.109:1935/mylive/room</p>
<ol>
<li><p>ä½¿ç”¨ffmpegå·¥å…·æ¨æµ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ffmpeg -re -i /Users/xuneng/Desktop/Testfile/Rolling_in_the_deep.mp4 -vcodec libx264 -acodec aac -strict -2 -f flv rtmp://192.168.2.109:1935/mylive/room</div></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨OBSç­‰è½¯ä»¶æ¨æµ<br>åªéœ€è¦å¡«å…¥åœ°å€å³å¯rtmp://192.168.2.109:1935/mylive/room</p>
</li>
</ol>
<h2 id="æ’­æ”¾"><a href="#æ’­æ”¾" class="headerlink" title="æ’­æ”¾"></a>æ’­æ”¾</h2><ol>
<li><p>ä½¿ç”¨ffmpegå·¥å…·æ’­æ”¾</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ffplay rtmp://192.168.2.109:1935/mylive/room      ç›´æ¥æ’­æ”¾ç½‘ç»œç›´æµ</div></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨VLCç­‰æ’­æ”¾å™¨æ’­æ”¾<br>æ‰“å¼€VLCï¼Œç„¶åFile-&gt;open network-&gt;è¾“å…¥ï¼š<br>rtmp://192.168.2.109:1935/mylive/room</p>
</li>
</ol>
<h2 id="iOSç«¯æ¨æµä¸æ’­æ”¾"><a href="#iOSç«¯æ¨æµä¸æ’­æ”¾" class="headerlink" title="iOSç«¯æ¨æµä¸æ’­æ”¾"></a>iOSç«¯æ¨æµä¸æ’­æ”¾</h2><p>æœåŠ¡å™¨è¿˜æ˜¯ç”¨ä¸Šé¢çš„Nginxé…ç½®, iOSç«¯ä¸»è¦åšæ¨æµä¸æ’­æ”¾.<br>æ¨æµæœ‰å¾ˆå¤šæ¡†æ¶å¯ä»¥ç”¨,æœ‰åŸºäºC++çš„,ä¹Ÿæœ‰OCçš„, æœ‰çš„è¿˜é›†æˆäº†GPUImageè¿›è¡Œç¾é¢œç­‰åŠŸèƒ½.<br><a href="https://github.com/jgh-/VideoCore" target="_blank" rel="external">https://github.com/jgh-/VideoCore</a>       C++å¾ˆå¤šæ¨æµæ¡†æ¶éƒ½æ˜¯å¯¹VideoCoreçš„äºŒæ¬¡å¼€å‘<br><a href="https://github.com/runner365/LiveVideoCoreSDK" target="_blank" rel="external">https://github.com/runner365/LiveVideoCoreSDK</a>   C++ç¾é¢œç›´æ’­å’Œæ»¤é•œåŠŸèƒ½<br><a href="https://github.com/LaiFengiOS/LFLiveKit" target="_blank" rel="external">https://github.com/LaiFengiOS/LFLiveKit</a>      OCå†™çš„.(é›†æˆGPUImage)</p>
<p>æ’­æ”¾ç«¯ä¸»è¦å°†æ”¶åˆ°çš„æµè¿›è¡Œæ’­æ”¾, æœ‰å¾ˆå¤šéœ€è¦ä¼˜åŒ–çš„åœ°æ–¹. ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯åŸºäºffmpegçš„ijkplayer.<br><a href="https://github.com/Bilibili/ijkplayer" target="_blank" rel="external">https://github.com/Bilibili/ijkplayer</a>   (åŸºäºFFmpeg, æ”¯æŒVideoToolbox)<br><a href="https://github.com/pili-engineering/PLPlayerKit" target="_blank" rel="external">https://github.com/pili-engineering/PLPlayerKit</a>      åˆä¸€ä¸ªæ’­æ”¾çš„<br><a href="https://wiki.videolan.org/VLCKit/" target="_blank" rel="external">https://wiki.videolan.org/VLCKit/</a>                    VLCçš„(MobileVLCKit)</p>
<p>ä»¥åæœ‰æ—¶é—´å†æ€»ç»“å¹¶å†™ä¸€äº›iOSä¼˜åŒ–ç›¸å…³çš„æ–‡ç« .</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è§†é¢‘ç›´æ’­å¾ˆç«ï¼Œæ¶‰åŠçš„ä¸œè¥¿ä¹Ÿå¤šï¼Œéœ€è¦ä¼˜åŒ–çš„ä¸œè¥¿æ›´å¤šã€‚å¦‚æœä½¿ç”¨ç¬¬ä¸‰æ–¹SDKä¼šçœä¸‹å¾ˆå¤šç²¾åŠ›å°±å¯ä»¥åšä¸€ä¸ªæµç•…ç›´æ’­appã€‚æœ¬æ–‡è®°å½•ä¸ä½¿ç”¨ä¸‰æ–¹ç›´æ’­SDKå®ç°ç›´æ’­ï¼ŒåŒ…æ‹¬Nginxé…ç½®ã€æ¨æµã€æ’­æ”¾ç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://blog.xigulu.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ã€ReactNativeã€‘ç½‘ç»œè¯·æ±‚</title>
    <link href="http://blog.xigulu.com/2016/07/16/ReactNative-Network/"/>
    <id>http://blog.xigulu.com/2016/07/16/ReactNative-Network/</id>
    <published>2016-07-15T16:00:00.000Z</published>
    <updated>2016-08-31T11:20:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>React Nativeä¸­ä½¿ç”¨Fetchè·å–ç½‘ç»œè¯·æ±‚, å¯ä»¥å®šä¹‰å„ç§è¯·æ±‚å‚æ•°. ä¹Ÿå¯ä»¥ä½¿ç”¨XMLHttpRequest, æˆ–å…¶ä»–ä¸‰æ–¹åº“. æ”¯æŒWebSocket, ä½¿ç”¨å¾ˆæ–¹ä¾¿.</p>
<a id="more"></a>
<hr>
<p><strong>æ³¨æ„</strong>: iOS9ä»¥ä¸Šéƒ½æ˜¯é»˜è®¤https(ä»¥ä¸‹ä½¿ç”¨çš„éƒ½æ˜¯http), æ‰€ä»¥åœ¨info.plistä¸­æ·»åŠ :<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAppTransportSecurity<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>NSAllowsArbitraryLoads<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="Fetchä½¿ç”¨"><a href="#Fetchä½¿ç”¨" class="headerlink" title="Fetchä½¿ç”¨"></a>Fetchä½¿ç”¨</h2><h3 id="è‡ªå®šä¹‰è¯¦ç»†å‚æ•°"><a href="#è‡ªå®šä¹‰è¯¦ç»†å‚æ•°" class="headerlink" title="è‡ªå®šä¹‰è¯¦ç»†å‚æ•°"></a>è‡ªå®šä¹‰è¯¦ç»†å‚æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//POST å¢åŠ ä¸€ä¸ªuser</span></div><div class="line">fetch(<span class="string">'http://localhost:3000/users'</span>,&#123;</div><div class="line">    method:<span class="string">'POST'</span>,</div><div class="line">    headers:&#123;</div><div class="line">        <span class="string">'Accept'</span>: <span class="string">'application/json'</span>,</div><div class="line">        <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</div><div class="line">    &#125;,</div><div class="line">    body:<span class="built_in">JSON</span>.stringify(&#123;</div><div class="line">        name:<span class="string">'xuneng'</span>,</div><div class="line">        age:<span class="string">'123'</span></div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="è¿”å›çš„æ•°æ®å¤„ç†-Promise-å¼‚æ­¥"><a href="#è¿”å›çš„æ•°æ®å¤„ç†-Promise-å¼‚æ­¥" class="headerlink" title="è¿”å›çš„æ•°æ®å¤„ç†(Promise,å¼‚æ­¥)"></a>è¿”å›çš„æ•°æ®å¤„ç†(Promise,å¼‚æ­¥)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//GET è·å–æ‰€æœ‰users</span></div><div class="line">fetch(<span class="string">'http://localhost:3000/users'</span>)</div><div class="line">.then((response)=&gt;response.json())  <span class="comment">//response.text()è¿”å›æ–‡æœ¬</span></div><div class="line">.then((responseJson)=&gt;&#123;</div><div class="line">    Alert.alert(<span class="built_in">JSON</span>.stringify(responseJson)) <span class="comment">//jsonè¾“å‡ºå¼¹çª—</span></div><div class="line">    <span class="built_in">console</span>.warn(<span class="keyword">new</span> <span class="built_in">Date</span>().getMilliseconds());</div><div class="line">&#125;)</div><div class="line">.catch((error)=&gt;&#123;</div><div class="line">    <span class="built_in">console</span>.warn(error)</div><div class="line">&#125;).done()</div><div class="line"></div><div class="line"><span class="built_in">console</span>.warn(<span class="string">'è¯æ˜è¯·æ±‚æ˜¯å¼‚æ­¥çš„:'</span>+ <span class="keyword">new</span> <span class="built_in">Date</span>().getMilliseconds());</div></pre></td></tr></table></figure>
<h2 id="XMLHttpRequestæ–¹å¼"><a href="#XMLHttpRequestæ–¹å¼" class="headerlink" title="XMLHttpRequestæ–¹å¼"></a>XMLHttpRequestæ–¹å¼</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">var request = new XMLHttpRequest();</div><div class="line">request.onreadystatechange = (e) =&gt; &#123;</div><div class="line">    if (request.readyState !== 4) &#123;</div><div class="line">        return;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    if (request.status === 200) &#123;</div><div class="line">        console.log(&apos;success&apos;, request.responseText);</div><div class="line">        Alert.alert(request.responseText)</div><div class="line">    &#125; else &#123;</div><div class="line">        console.warn(&apos;error&apos;);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">request.open(&apos;GET&apos;, &apos;http://localhost:3000/users&apos;);</div><div class="line">request.send();</div></pre></td></tr></table></figure>
<h2 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">var ws = new WebSocket(&apos;ws://localhost:8080&apos;);</div><div class="line"></div><div class="line">ws.onopen = () =&gt; &#123;</div><div class="line">  // connection opened</div><div class="line">  ws.send(&apos;something123&apos;); // send a message</div><div class="line">&#125;;</div><div class="line"></div><div class="line">ws.onmessage = (e) =&gt; &#123;</div><div class="line">  // a message was received</div><div class="line">  console.log(e.data);</div><div class="line">  Alert.alert(e.data)</div><div class="line">&#125;;</div><div class="line"></div><div class="line">ws.onerror = (e) =&gt; &#123;</div><div class="line">  // an error occurred</div><div class="line">  console.log(e.message);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">ws.onclose = (e) =&gt; &#123;</div><div class="line">  // connection closed</div><div class="line">  console.log(e.code, e.reason);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="ç»¼åˆä¾‹å­"><a href="#ç»¼åˆä¾‹å­" class="headerlink" title="ç»¼åˆä¾‹å­"></a>ç»¼åˆä¾‹å­</h2><p>ç”¨ES6çš„å†™æ³•.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">    AppRegistry,</div><div class="line">    StyleSheet,</div><div class="line">    Text,</div><div class="line">    View,</div><div class="line">    Image,</div><div class="line">    ActivityIndicatorIOS,</div><div class="line">    TouchableOpacity,</div><div class="line">    TouchableHighlight,</div><div class="line">    Navigator,</div><div class="line">    Alert,</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span></div><div class="line"></div><div class="line"><span class="comment">//å¯¼å‡ºç»„ä»¶</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpTest</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</div><div class="line">    <span class="comment">//è‡ªå®šä¹‰è¯·æ±‚å‚æ•°</span></div><div class="line">    fetchDetail()&#123;</div><div class="line">        <span class="comment">//POST å¢åŠ ä¸€ä¸ªuser</span></div><div class="line">        fetch(<span class="string">'http://localhost:3000/users'</span>,&#123;</div><div class="line">            method:<span class="string">'POST'</span>,</div><div class="line">            headers:&#123;</div><div class="line">                <span class="string">'Accept'</span>: <span class="string">'application/json'</span>,</div><div class="line">                <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</div><div class="line">            &#125;,</div><div class="line">            body:<span class="built_in">JSON</span>.stringify(&#123;</div><div class="line">                name:<span class="string">'xuneng'</span>,</div><div class="line">                age:<span class="string">'123'</span></div><div class="line">            &#125;)</div><div class="line">        &#125;)</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//fetchå¹¶å¤„ç†è¿”å›(Promise,å¼‚æ­¥).</span></div><div class="line">    fetchCallback()&#123;</div><div class="line">        <span class="comment">//GET è·å–æ‰€æœ‰users</span></div><div class="line">        fetch(<span class="string">'http://localhost:3000/users'</span>)</div><div class="line">        .then((response)=&gt;response.json())  <span class="comment">//response.text()è¿”å›æ–‡æœ¬</span></div><div class="line">        .then((responseJson)=&gt;&#123;</div><div class="line">            Alert.alert(<span class="built_in">JSON</span>.stringify(responseJson)) <span class="comment">//jsonè¾“å‡ºå¼¹çª—</span></div><div class="line">            <span class="built_in">console</span>.warn(<span class="keyword">new</span> <span class="built_in">Date</span>().getMilliseconds());</div><div class="line">        &#125;)</div><div class="line">        .catch((error)=&gt;&#123;</div><div class="line">            <span class="built_in">console</span>.warn(error)</div><div class="line">        &#125;).done()</div><div class="line"></div><div class="line">        <span class="built_in">console</span>.warn(<span class="string">'è¯æ˜è¯·æ±‚æ˜¯å¼‚æ­¥çš„:'</span>+ <span class="keyword">new</span> <span class="built_in">Date</span>().getMilliseconds());</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//ä½¿ç”¨XMLHttpRequestæˆ–å…¶ä»–3æ–¹åº“å¤„ç†ç½‘ç»œè¯·æ±‚</span></div><div class="line">    myXMLHttpRequest()&#123;</div><div class="line">        <span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">        request.onreadystatechange = (e) =&gt; &#123;</div><div class="line">            <span class="keyword">if</span> (request.readyState !== <span class="number">4</span>) &#123;</div><div class="line">                <span class="keyword">return</span>;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (request.status === <span class="number">200</span>) &#123;</div><div class="line">                <span class="built_in">console</span>.log(<span class="string">'success'</span>, request.responseText);</div><div class="line">                Alert.alert(request.responseText)</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="built_in">console</span>.warn(<span class="string">'error'</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line"></div><div class="line">        request.open(<span class="string">'GET'</span>, <span class="string">'http://localhost:3000/users'</span>);</div><div class="line">        request.send();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//WebSocket</span></div><div class="line">    myWebSocket()&#123;</div><div class="line">        <span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">'ws://localhost:8080'</span>);</div><div class="line"></div><div class="line">        ws.onopen = () =&gt; &#123;</div><div class="line">          <span class="comment">// connection opened</span></div><div class="line">          ws.send(<span class="string">'something123'</span>); <span class="comment">// send a message</span></div><div class="line">        &#125;;</div><div class="line"></div><div class="line">        ws.onmessage = (e) =&gt; &#123;</div><div class="line">          <span class="comment">// a message was received</span></div><div class="line">          <span class="built_in">console</span>.log(e.data);</div><div class="line">          Alert.alert(e.data)</div><div class="line">        &#125;;</div><div class="line"></div><div class="line">        ws.onerror = (e) =&gt; &#123;</div><div class="line">          <span class="comment">// an error occurred</span></div><div class="line">          <span class="built_in">console</span>.log(e.message);</div><div class="line">        &#125;;</div><div class="line"></div><div class="line">        ws.onclose = (e) =&gt; &#123;</div><div class="line">          <span class="comment">// connection closed</span></div><div class="line">          <span class="built_in">console</span>.log(e.code, e.reason);</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    render()&#123;</div><div class="line">        <span class="keyword">return</span> (</div><div class="line">            <span class="xml"><span class="tag">&lt;<span class="name">View</span> <span class="attr">style</span>=<span class="string">&#123;&#123;flex:1,justifyContent:</span>'<span class="attr">center</span>',<span class="attr">alignItems:</span>'<span class="attr">center</span>'&#125;&#125;&gt;</span></span></div><div class="line">                <span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.button&#125;</span> <span class="attr">onPress</span>=<span class="string">&#123;this.fetchDetail.bind(this)&#125;</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">Text</span>&gt;</span>Fetch detail<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.button&#125;</span> <span class="attr">onPress</span>=<span class="string">&#123;this.fetchCallback.bind(this)&#125;</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">Text</span>&gt;</span>Fetch With Callback<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.button&#125;</span> <span class="attr">onPress</span>=<span class="string">&#123;this.myXMLHttpRequest.bind(this)&#125;</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">Text</span>&gt;</span>XMLHttpRequestå¤„ç†è¯·æ±‚<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">TouchableOpacity</span> <span class="attr">style</span>=<span class="string">&#123;mystyle.button&#125;</span> <span class="attr">onPress</span>=<span class="string">&#123;this.myWebSocket.bind(this)&#125;</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">Text</span>&gt;</span>WebSocket<span class="tag">&lt;/<span class="name">Text</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">TouchableOpacity</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">View</span>&gt;</span></div><div class="line">        )</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> mystyle = StyleSheet.create(&#123;</div><div class="line">    button:&#123;</div><div class="line">        width:<span class="number">180</span>,</div><div class="line">        height:<span class="number">50</span>,</div><div class="line">        justifyContent:<span class="string">'center'</span>,</div><div class="line">        backgroundColor:<span class="string">'#e2e'</span>,</div><div class="line">        alignItems:<span class="string">'center'</span>,</div><div class="line">        margin:<span class="number">15</span></div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>å‚è€ƒ: <a href="https://facebook.github.io/react-native/docs/network.html#content" target="_blank" rel="external">https://facebook.github.io/react-native/docs/network.html#content</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;React Nativeä¸­ä½¿ç”¨Fetchè·å–ç½‘ç»œè¯·æ±‚, å¯ä»¥å®šä¹‰å„ç§è¯·æ±‚å‚æ•°. ä¹Ÿå¯ä»¥ä½¿ç”¨XMLHttpRequest, æˆ–å…¶ä»–ä¸‰æ–¹åº“. æ”¯æŒWebSocket, ä½¿ç”¨å¾ˆæ–¹ä¾¿.&lt;/p&gt;
    
    </summary>
    
    
      <category term="ReactNative" scheme="http://blog.xigulu.com/tags/ReactNative/"/>
    
  </entry>
  
  <entry>
    <title>ã€iOSã€‘Swift3ä¸­çš„ä¸€äº›å˜åŒ–</title>
    <link href="http://blog.xigulu.com/2016/07/08/iOS-Swift3-feature/"/>
    <id>http://blog.xigulu.com/2016/07/08/iOS-Swift3-feature/</id>
    <published>2016-07-07T16:00:00.000Z</published>
    <updated>2016-09-01T15:55:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>Swift3è¾ƒSwift2.xæ”¹åŠ¨è¾ƒå¤š, å…¶å®ç”¨Swiftå†™iOSåº”ç”¨ç¡®å®æ¯”OCå†™èŠ‚çœæ—¶é—´ä¸ä»£ç é‡ã€‚Swift3çš„æ”¹åŠ¨ä¸»è¦é›†ä¸­åœ¨è¯­æ³•ç®€åŒ–ä¸è§„èŒƒä¸Š. å¦‚:å–æ¶ˆNSå‰ç¼€,æ–°çš„GCD,Core Graphicsè¯­æ³•,å»é™¤æ–¹æ³•ä¸­ä¸å¿…è¦è¯ç­‰.</p>
<blockquote>
<p>å¾ˆå¤šä»MRCå°±å¼€å§‹iOSå¼€å‘çš„åŒå­¦è‡³ä»Šä¸ç”¨Swiftå¼€å‘çš„åŸå› ï¼Œå°±æ˜¯å› ä¸ºSwiftè¯­æ³•ä¸€ç›´åœ¨å˜æ›´ï¼Œä¸ç¨³å®šã€‚ä¸€ä¸ªå°çš„è¯­æ³•å˜åŒ–ï¼Œæœ‰æ—¶å€™ä¼šå¸¦æ¥å¾ˆå¤šå·¥ä½œé‡ï¼Œä¸ä»…æ•´ä¸ªé¡¹ç›®å¤„å¤„éœ€è¦æ”¹ï¼Œä¸‰æ–¹åº“ä¹Ÿè¦è·Ÿç€æ”¹ï¼Œä¸”è¯­æ³•è½¬æ¢å·¥å…·åªèƒ½ä½œå‚è€ƒã€‚ç›¸æ¯”è¾ƒä¸‹OCå°±æ²¡è¿™ä¹ˆå¤šéº»çƒ¦ã€‚ä¸è¿‡æ”¹å˜æ˜¯å¥½äº‹, Swiftæ˜¯Appleæœªæ¥åŠ›æ¨çš„è¯­è¨€ã€‚</p>
</blockquote>
<a id="more"></a>
<hr>
<p>æœ¬æ–‡ç¤ºä¾‹ä»£ç å‚åŠ æˆ‘çš„Github:<br><a href="https://github.com/xn4545945/SwiftLearning" target="_blank" rel="external">https://github.com/xn4545945/SwiftLearning</a></p>
<h2 id="å…¸å‹å˜åŒ–"><a href="#å…¸å‹å˜åŒ–" class="headerlink" title="å…¸å‹å˜åŒ–"></a>å…¸å‹å˜åŒ–</h2><p>Swiftè¯­æ³•æ¼”å˜å‚è€ƒ:<br><a href="https://github.com/apple/swift-evolution" target="_blank" rel="external">https://github.com/apple/swift-evolution</a> </p>
<h3 id="ç¬¬ä¸€ä¸ªå‚æ•°çš„label"><a href="#ç¬¬ä¸€ä¸ªå‚æ•°çš„label" class="headerlink" title="ç¬¬ä¸€ä¸ªå‚æ•°çš„label"></a>ç¬¬ä¸€ä¸ªå‚æ•°çš„label</h3><p>1.æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°å˜åŒ–. åœ¨swift 3.0é‡Œä½¿ç”¨æ–¹æ³•é‡Œå‚æ•°çš„lableæ¥å®Œæˆè¯´æ˜æ–¹æ³•åŠŸèƒ½çš„ä½œç”¨ã€‚<br><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0046-first-label.md" target="_blank" rel="external">https://github.com/apple/swift-evolution/blob/master/proposals/0046-first-label.md</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ç¬¬ä¸€å¥æ˜¯ Swift 2 è¯­æ³•ï¼Œç¬¬äºŒå¥æ˜¯ Swift 3 è¯­æ³•</span></div><div class="line"></div><div class="line"><span class="string">"mystring"</span>.writeToFile(<span class="string">"filename.txt"</span>, atomically: <span class="literal">true</span>, encoding: <span class="type">NSUTF8StringEncoding</span>)</div><div class="line"><span class="string">"mystring"</span>.write(toFile: <span class="string">"filename.txt"</span>, atomically: <span class="literal">true</span>, encoding:<span class="type">NSUTF8StringEncoding</span>)</div><div class="line"></div><div class="line"><span class="type">UIFont</span>.preferredFontForTextStyle(<span class="type">UIFontTextStyleSubheadline</span>)</div><div class="line"><span class="type">UIFont</span>.preferredFont(forTextStyle: <span class="type">UIFontTextStyleSubheadline</span>)</div><div class="line"></div><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">numberOfSectionsInTableView</span><span class="params">(tableView: UITableView)</span></span> -&gt; <span class="type">Int</span></div><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">numberOfSections</span><span class="params">(<span class="keyword">in</span> tableView: UITableView)</span></span> -&gt; <span class="type">Int</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">viewForZoomingInScrollView</span><span class="params">(scrollView: UIScrollView)</span></span> -&gt; <span class="type">UIView</span>?</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">viewForZooming</span><span class="params">(<span class="keyword">in</span> scrollView: UIScrollView)</span></span> -&gt; <span class="type">UIView</span>?</div><div class="line"></div><div class="line"><span class="type">NSTimer</span>.scheduledTimerWithTimeInterval(<span class="number">0.35</span>, target: <span class="keyword">self</span>, selector: #selector(reset), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</div><div class="line"><span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">0.35</span>, target: <span class="keyword">self</span>, selector: #selector(reset), userInfo: <span class="literal">nil</span>, repeats: <span class="literal">true</span>)</div></pre></td></tr></table></figure>
<h3 id="éƒ¨åˆ†æ–¹æ³•åç®€åŒ–"><a href="#éƒ¨åˆ†æ–¹æ³•åç®€åŒ–" class="headerlink" title="éƒ¨åˆ†æ–¹æ³•åç®€åŒ–"></a>éƒ¨åˆ†æ–¹æ³•åç®€åŒ–</h3><p>2.ç®€åŒ–ä¸€äº›æ–¹æ³•çš„å†™æ³•. å»é™¤ä¸å¿…è¦çš„è¯.<br><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0005-objective-c-name-translation.md" target="_blank" rel="external">https://github.com/apple/swift-evolution/blob/master/proposals/0005-objective-c-name-translation.md</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ç¬¬ä¸€å¥æ˜¯ Swift 2 è¯­æ³•ï¼Œç¬¬äºŒå¥æ˜¯ Swift 3 è¯­æ³•</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> blue = <span class="type">UIColor</span>.blueColor()</div><div class="line"><span class="keyword">let</span> blue = <span class="type">UIColor</span>.blue()</div><div class="line"></div><div class="line"><span class="keyword">let</span> <span class="built_in">min</span> = numbers.<span class="built_in">minElement</span>()</div><div class="line"><span class="keyword">let</span> <span class="built_in">min</span> = numbers.<span class="built_in">min</span>()</div><div class="line"></div><div class="line">attributedString.appendAttributedString(anotherString)</div><div class="line">attributedString.append(anotherString)</div><div class="line"></div><div class="line">names.insert(<span class="string">"Jane"</span>, atIndex: <span class="number">0</span>)</div><div class="line">names.insert(<span class="string">"Jane"</span>, at: <span class="number">0</span>)</div><div class="line"></div><div class="line"><span class="type">UIDevice</span>.currentDevice()</div><div class="line"><span class="type">UIDevice</span>.current()</div></pre></td></tr></table></figure>
<h3 id="GCDå†™æ³•å˜åŒ–"><a href="#GCDå†™æ³•å˜åŒ–" class="headerlink" title="GCDå†™æ³•å˜åŒ–"></a>GCDå†™æ³•å˜åŒ–</h3><p>3.æ–°çš„GCDå†™æ³•<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 2 è¯­æ³•</span></div><div class="line"><span class="keyword">let</span> queue = dispatch_queue_create(<span class="string">"com.test.myqueue"</span>, <span class="literal">nil</span>)</div><div class="line">dispatch_async(queue) &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Hello World"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// Swift 3 è¯­æ³•</span></div><div class="line"><span class="keyword">let</span> queue = <span class="type">DispatchQueue</span>(label: <span class="string">"com.test.myqueue"</span>)</div><div class="line">queue.async &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Hello World"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="Core-Graphicså†™æ³•å˜åŒ–"><a href="#Core-Graphicså†™æ³•å˜åŒ–" class="headerlink" title="Core Graphicså†™æ³•å˜åŒ–"></a>Core Graphicså†™æ³•å˜åŒ–</h3><p>4.æ–°çš„Core Graphicså†™æ³•<br><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0044-import-as-member.md" target="_blank" rel="external">https://github.com/apple/swift-evolution/blob/master/proposals/0044-import-as-member.md</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Swift 2 è¯­æ³•</span></div><div class="line"><span class="keyword">let</span> ctx = <span class="type">UIGraphicsGetCurrentContext</span>()</div><div class="line"><span class="keyword">let</span> rectangle = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">512</span>, height: <span class="number">512</span>)</div><div class="line"><span class="type">CGContextSetFillColorWithColor</span>(ctx, <span class="type">UIColor</span>.blueColor().<span class="type">CGColor</span>)</div><div class="line"><span class="type">CGContextSetStrokeColorWithColor</span>(ctx, <span class="type">UIColor</span>.whiteColor().<span class="type">CGColor</span>)</div><div class="line"><span class="type">CGContextSetLineWidth</span>(ctx, <span class="number">10</span>)</div><div class="line"><span class="type">CGContextAddRect</span>(ctx, rectangle)</div><div class="line"><span class="type">CGContextDrawPath</span>(ctx, .<span class="type">FillStroke</span>)</div><div class="line"><span class="type">UIGraphicsEndImageContext</span>()</div><div class="line"></div><div class="line"><span class="comment">// Swift 3 è¯­æ³•</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> ctx = <span class="type">UIGraphicsGetCurrentContext</span>() &#123;</div><div class="line">    <span class="keyword">let</span> rectangle = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">512</span>, height: <span class="number">512</span>)</div><div class="line">    ctx.setFillColor(<span class="type">UIColor</span>.blue().cgColor)</div><div class="line">    ctx.setStrokeColor(<span class="type">UIColor</span>.white().cgColor)</div><div class="line">    ctx.setLineWidth(<span class="number">10</span>)</div><div class="line">    ctx.addRect(rectangle)</div><div class="line">    ctx.drawPath(using: .fillStroke)</div><div class="line">    </div><div class="line">    <span class="type">UIGraphicsEndImageContext</span>()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h3><p>5.æšä¸¾ä¸­ case å€¼çš„å¤§å°å†™: æšä¸¾ä¸­å®šä¹‰çš„ case å€¼ç°åœ¨ä½¿ç”¨å°é©¼å³°å‘½åæ³•ã€‚è¿™æ˜¯ä¸ºäº†å’Œå±æ€§åæˆ–è€…å˜é‡åä¿æŒä¸€è‡´.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ç¬¬ä¸€å¥æ˜¯ Swift 2 è¯­æ³•ï¼Œç¬¬äºŒå¥æ˜¯ Swift 3 è¯­æ³•</span></div><div class="line"><span class="type">UIInterfaceOrientationMask</span>.<span class="type">Landscape</span></div><div class="line"><span class="type">UIInterfaceOrientationMask</span>.landscape</div><div class="line"></div><div class="line"><span class="type">NSTextAlignment</span>.<span class="type">Right</span></div><div class="line"><span class="type">NSTextAlignment</span>.<span class="keyword">right</span></div><div class="line"></div><div class="line"><span class="type">SKBlendMode</span>.<span class="type">Multiply</span></div><div class="line"><span class="type">SKBlendMode</span>.multiply</div></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•çš„åŠ¨åè¯è§„èŒƒ"><a href="#æ–¹æ³•çš„åŠ¨åè¯è§„èŒƒ" class="headerlink" title="æ–¹æ³•çš„åŠ¨åè¯è§„èŒƒ"></a>æ–¹æ³•çš„åŠ¨åè¯è§„èŒƒ</h3><p>6.æ–¹æ³•åä¸ºåŠ¨è¯,åè¯çš„åŒºåˆ«.<br><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0006-apply-api-guidelines-to-the-standard-library.md" target="_blank" rel="external">https://github.com/apple/swift-evolution/blob/master/proposals/0006-apply-api-guidelines-to-the-standard-library.md</a></p>
<blockquote>
<p>å¦‚æœè¿™ä¸ªæ–¹æ³•åä¸­åŒ…å«â€œedâ€æˆ–â€œingâ€åç¼€ï¼Œåˆ™è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªåè¯ã€‚æ–¹æ³•åä¸ºåè¯çš„æ–¹æ³•æœ‰è¿”å›å€¼ã€‚<br>å¦‚æœä¸åŒ…å«è¿™äº›åç¼€ï¼Œåˆ™å¾ˆå¯èƒ½è¿™æ˜¯ä¸€ä¸ªåŠ¨è¯ã€‚ä»¥åŠ¨è¯å‘½åçš„æ–¹æ³•ä¼šå¯¹æŸå—å¼•ç”¨çš„å†…å­˜è¿›è¡Œä¸€äº›æ“ä½œã€‚å³æ‰€è°“çš„â€œä¿®æ”¹æŸä¸ªå€¼â€ã€‚</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">customArray.<span class="built_in">enumerate</span>()     <span class="comment">//å†…å­˜ä¸­å¯¹åŸæ•°ç»„æ“ä½œ.</span></div><div class="line">customArray.enumerated()    <span class="comment">//ä¸æ”¹å˜åŸæ•°ç»„,æœ‰è¿”å›å€¼.</span></div><div class="line"></div><div class="line">customArray.<span class="built_in">reverse</span>()</div><div class="line">customArray.reversed()</div><div class="line"></div><div class="line">customArray.<span class="built_in">sort</span>() <span class="comment">// changed from .sortInPlace()</span></div><div class="line">customArray.sorted()</div></pre></td></tr></table></figure>
<h3 id="å‡½æ•°å‚æ•°"><a href="#å‡½æ•°å‚æ•°" class="headerlink" title="å‡½æ•°å‚æ•°"></a>å‡½æ•°å‚æ•°</h3><p>7.å‡½æ•°åœ¨å£°æ˜å’Œè°ƒç”¨æ—¶ï¼Œéƒ½éœ€è¦ç”¨æ‹¬å·å°†å‚æ•°æ‹¬ä½.<br><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0066-standardize-function-type-syntax.md" target="_blank" rel="external">https://github.com/apple/swift-evolution/blob/master/proposals/0066-standardize-function-type-syntax.md</a><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">(a: Int)</span></span> &#123;&#125;</div><div class="line"></div><div class="line"><span class="comment">// Swift 2 è¯­æ³•</span></div><div class="line"><span class="type">Int</span> -&gt; <span class="type">Float</span></div><div class="line"><span class="type">String</span> -&gt; <span class="type">Int</span></div><div class="line"><span class="type">T</span> -&gt; <span class="type">U</span></div><div class="line"><span class="type">Int</span> -&gt; <span class="type">Float</span> -&gt; <span class="type">String</span></div><div class="line"></div><div class="line"><span class="comment">// Swift 3 è¯­æ³•</span></div><div class="line">(<span class="type">Int</span>) -&gt; <span class="type">Float</span></div><div class="line">(<span class="type">String</span>) -&gt; <span class="type">Int</span></div><div class="line">(<span class="type">T</span>) -&gt; <span class="type">U</span></div><div class="line">(<span class="type">Int</span>) -&gt; (<span class="type">Float</span>) -&gt; <span class="type">String</span></div></pre></td></tr></table></figure></p>
<h3 id="ç±»å»NSå‰ç¼€"><a href="#ç±»å»NSå‰ç¼€" class="headerlink" title="ç±»å»NSå‰ç¼€"></a>ç±»å»NSå‰ç¼€</h3><p>8.å»é™¤NSå‰ç¼€<br><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0086-drop-foundation-ns.md" target="_blank" rel="external">https://github.com/apple/swift-evolution/blob/master/proposals/0086-drop-foundation-ns.md</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> url1:<span class="type">NSURL</span></div><div class="line"><span class="keyword">var</span> url2:<span class="type">URL</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> data1:<span class="type">NSData</span></div><div class="line"><span class="keyword">var</span> data2:<span class="type">Data</span></div></pre></td></tr></table></figure>
<h2 id="å…¶ä»–æ”¹å˜"><a href="#å…¶ä»–æ”¹å˜" class="headerlink" title="å…¶ä»–æ”¹å˜"></a>å…¶ä»–æ”¹å˜</h2><ol>
<li><p>ç±»æ–¹æ³•<br>å½“ä½ ä½¿ç”¨ç±»æ–¹æ³•æˆ–è€…ç±»å±æ€§æ—¶ï¼Œä¹‹å‰éƒ½å¿…é¡»åƒè¿™æ ·åšï¼š<br>CustomStruct.staticMethod()<br>ç°åœ¨å¯ä»¥ä½¿ç”¨é¦–å­—æ¯å¤§å†™çš„Selfæ¥ä»£æ›¿ä»¥å‰çš„å†™æ³•ï¼Œå¹¶ä¸”ç”¨ç±»å‹çš„å®ä¾‹ä¹Ÿèƒ½è°ƒç”¨é™æ€æ–¹æ³•æˆ–è€…å±æ€§äº†ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CustomStruct</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">staticMethod</span><span class="params">()</span></span> &#123; ... &#125;</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">instanceMethod</span><span class="params">()</span></span></div><div class="line">    <span class="type">Self</span>.staticMethod() <span class="comment">// in the body of the type</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> customStruct = <span class="type">CustomStruct</span>()</div><div class="line">customStruct.<span class="type">Self</span>.staticMethod() <span class="comment">// on an instance of the type</span></div></pre></td></tr></table></figure>
</li>
<li><p>å»æ‰Cé£æ ¼çš„Forå¾ªç¯<br>for(var i = 0; i &lt; 10; i++)</p>
</li>
<li><p>å»æ‰äº†æŸ¯é‡ŒåŒ–è¯­æ³•<br>å› ä¸ºè¿™ä¸ªè¯­æ³•ä¸å®¹æ˜“ç†è§£ï¼Œæ‰€ä»¥å»æ‰äº†ã€‚</p>
</li>
<li><p>å»æ‰äº†++ â€“è¯­æ³•</p>
</li>
<li><p>Swift Package Manager<br>Swiftè¯­è¨€è‡ªå·±çš„åŒ…ç®¡ç†å·¥å…·.</p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Swift3è¾ƒSwift2.xæ”¹åŠ¨è¾ƒå¤š, å…¶å®ç”¨Swiftå†™iOSåº”ç”¨ç¡®å®æ¯”OCå†™èŠ‚çœæ—¶é—´ä¸ä»£ç é‡ã€‚Swift3çš„æ”¹åŠ¨ä¸»è¦é›†ä¸­åœ¨è¯­æ³•ç®€åŒ–ä¸è§„èŒƒä¸Š. å¦‚:å–æ¶ˆNSå‰ç¼€,æ–°çš„GCD,Core Graphicsè¯­æ³•,å»é™¤æ–¹æ³•ä¸­ä¸å¿…è¦è¯ç­‰.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¾ˆå¤šä»MRCå°±å¼€å§‹iOSå¼€å‘çš„åŒå­¦è‡³ä»Šä¸ç”¨Swiftå¼€å‘çš„åŸå› ï¼Œå°±æ˜¯å› ä¸ºSwiftè¯­æ³•ä¸€ç›´åœ¨å˜æ›´ï¼Œä¸ç¨³å®šã€‚ä¸€ä¸ªå°çš„è¯­æ³•å˜åŒ–ï¼Œæœ‰æ—¶å€™ä¼šå¸¦æ¥å¾ˆå¤šå·¥ä½œé‡ï¼Œä¸ä»…æ•´ä¸ªé¡¹ç›®å¤„å¤„éœ€è¦æ”¹ï¼Œä¸‰æ–¹åº“ä¹Ÿè¦è·Ÿç€æ”¹ï¼Œä¸”è¯­æ³•è½¬æ¢å·¥å…·åªèƒ½ä½œå‚è€ƒã€‚ç›¸æ¯”è¾ƒä¸‹OCå°±æ²¡è¿™ä¹ˆå¤šéº»çƒ¦ã€‚ä¸è¿‡æ”¹å˜æ˜¯å¥½äº‹, Swiftæ˜¯Appleæœªæ¥åŠ›æ¨çš„è¯­è¨€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://blog.xigulu.com/tags/iOS/"/>
    
      <category term="Swift" scheme="http://blog.xigulu.com/tags/Swift/"/>
    
  </entry>
  
  <entry>
    <title>10åˆ†é’Ÿæå®šä¸€ä¸ªæ¼‚äº®çš„Nodeå‘½ä»¤è¡Œå·¥å…·</title>
    <link href="http://blog.xigulu.com/2016/07/01/Node-10min-cli-md5/"/>
    <id>http://blog.xigulu.com/2016/07/01/Node-10min-cli-md5/</id>
    <published>2016-06-30T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åšå­˜å‚¨å¯†ç åŠŸèƒ½æ—¶ï¼Œæƒ³åœ¨å‘½ä»¤è¡Œæµ‹è¯•ä¸‹md5ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œäºæ˜¯æ‰¾å·¥å…·ï¼Œè¯•äº†ä¸€ä¸¤ä¸ªï¼Œä¸å¥½ç”¨ã€‚å†³å®šè‡ªå·±åšä¸€ä¸ªã€‚åˆæ­¥çš„åŠŸèƒ½ä¸å¿…å¤šï¼Œå°±æ˜¯è¾“å…¥md5 â€œastringâ€ï¼Œè¾“å‡ºmd5çš„ç»“æœå³å¯ã€‚ååˆ†ç®€å•ã€‚</p>
<a id="more"></a>
<hr>
<blockquote>
<p><strong>æ‰©å±•</strong>ï¼šLinuxã€Macä¸‹ç”¨pythonæˆ–å…¶ä»–ä»»æ„è¯­è¨€ï¼Œå†™ä¸ªç”Ÿæˆmd5å­—ç¬¦ä¸²çš„è„šæœ¬ã€‚ç„¶åè½¯è¿æ¥åˆ°ç¯å¢ƒå˜é‡çš„ç›®å½•ä¸­ï¼Œé…ç½®ä¸€ä¸‹aliasä¹Ÿå¯ä»¥å¾ˆç®€å•ï¼Œå‡ åˆ†é’Ÿæå®šã€‚</p>
</blockquote>
<p>nodejsçš„ä¼˜åŠ¿åœ¨äºè·¨å¹³å°ï¼Œä¸€é”®å®‰è£…ã€‚</p>
<p>æœ¬é¡¹ç›®æºç å‘å¸ƒåˆ°npmäº†ï¼Œåç»­ä¼šæ·»åŠ æ›´å¤šåŠŸèƒ½ã€‚(ä»¥æœ€ç»ˆå®‰è£…çš„æºç ä¸ºå‡†) <a href="https://www.npmjs.com/package/tools-cli" target="_blank" rel="external">https://www.npmjs.com/package/tools-cli</a></p>
<p><strong>å®‰è£…</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install tools-cli -g</div></pre></td></tr></table></figure>
<p><strong>ä½¿ç”¨</strong>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">md5 yourstring</div></pre></td></tr></table></figure>
<p><strong>è¿è¡Œæˆªå›¾</strong>ï¼š</p>
<p><img src="http://7xlwuv.com1.z0.glb.clouddn.com/tools-cli-md5.png" alt=""></p>
<h2 id="ç›¸å…³åº“ä»‹ç»"><a href="#ç›¸å…³åº“ä»‹ç»" class="headerlink" title="ç›¸å…³åº“ä»‹ç»"></a>ç›¸å…³åº“ä»‹ç»</h2><h3 id="commander-js"><a href="#commander-js" class="headerlink" title="commander.js"></a>commander.js</h3><p>ç”¨äºç®€åŒ–nodeå‘½ä»¤è¡Œç¼–å†™ã€‚æä¾›æ–¹ä¾¿å‡ºå‚æ•°è®¾ç½®ï¼Œå¸®åŠ©ä¿¡æ¯è®¾ç½®ç­‰ã€‚<br><a href="https://github.com/tj/commander.js" target="_blank" rel="external">https://github.com/tj/commander.js</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install commander --save</div></pre></td></tr></table></figure></p>
<h3 id="colors-js"><a href="#colors-js" class="headerlink" title="colors.js"></a>colors.js</h3><p>ç”¨äºå‘½ä»¤è¡Œä½œè‰²<br><a href="https://github.com/Marak/colors.js" target="_blank" rel="external">https://github.com/Marak/colors.js</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install colors --save</div></pre></td></tr></table></figure></p>
<h3 id="node-md5"><a href="#node-md5" class="headerlink" title="node-md5"></a>node-md5</h3><p>md5å­—ç¬¦ä¸²ç”Ÿæˆã€‚<br><a href="https://github.com/pvorb/node-md5" target="_blank" rel="external">https://github.com/pvorb/node-md5</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install md5 --save</div></pre></td></tr></table></figure>
<h2 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h2><h3 id="ä¸»è¦ä»£ç "><a href="#ä¸»è¦ä»£ç " class="headerlink" title="ä¸»è¦ä»£ç "></a>ä¸»è¦ä»£ç </h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/usr/bin/env node</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> md5 = <span class="built_in">require</span>(<span class="string">'md5'</span>);</div><div class="line"><span class="keyword">var</span> colors = <span class="built_in">require</span>(<span class="string">'colors'</span>);</div><div class="line"><span class="keyword">var</span> program = <span class="built_in">require</span>(<span class="string">'commander'</span>);</div><div class="line"></div><div class="line">program</div><div class="line">    .version(<span class="string">'v'</span> + <span class="built_in">require</span>(<span class="string">'../package.json'</span>).version)</div><div class="line">    .description(<span class="string">'a md5 cli tool.'</span>)</div><div class="line">    .arguments(<span class="string">'[string]'</span>)</div><div class="line">    .option(<span class="string">'-s, --string'</span>, <span class="string">'input a string'</span>)</div><div class="line">    .parse(process.argv);</div><div class="line"></div><div class="line"><span class="keyword">if</span> (program.args.length == <span class="number">1</span>) &#123;</div><div class="line">    <span class="built_in">console</span>.log(program.args[<span class="number">0</span>] + <span class="string">' &gt; MD5 Output:'</span>.rainbow);</div><div class="line">    <span class="built_in">console</span>.log(md5(program.args[<span class="number">0</span>]).underline.red);</div><div class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (program.string) &#123;</div><div class="line">    <span class="built_in">console</span>.log(program.string + <span class="string">' &gt; MD5 Output:'</span>.rainbow);</div><div class="line">    <span class="built_in">console</span>.log(md5(program.string).underline.red);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'ERROR input!!!'</span>.rainbow);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="æ•´åˆç³»ç»Ÿç¯å¢ƒ"><a href="#æ•´åˆç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="æ•´åˆç³»ç»Ÿç¯å¢ƒ"></a>æ•´åˆç³»ç»Ÿç¯å¢ƒ</h2><h3 id="å°†å†™çš„è„šæœ¬æ•´åˆåˆ°ç³»ç»Ÿå‘½ä»¤"><a href="#å°†å†™çš„è„šæœ¬æ•´åˆåˆ°ç³»ç»Ÿå‘½ä»¤" class="headerlink" title="å°†å†™çš„è„šæœ¬æ•´åˆåˆ°ç³»ç»Ÿå‘½ä»¤"></a>å°†å†™çš„è„šæœ¬æ•´åˆåˆ°ç³»ç»Ÿå‘½ä»¤</h3><p>1.æºæ–‡ä»¶å¤´éƒ¨æ·»åŠ ä¸€è¡Œshellå¤´ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#! /usr/bin/env node</div></pre></td></tr></table></figure></p>
<p>2.å†é…ç½®package.json        </p>
<blockquote>
<p>ä¸»è¦æ˜¯æ·»åŠ è¿™ä¸ª: â€œbinâ€: { â€œmd5â€: â€œyourjs.jsâ€ }</p>
</blockquote>
<p>3.æ‰§è¡Œæœ¬åœ°é“¾æ¥å‘½ä»¤(å½“å‰ç›®å½•ä¸‹è¿è¡Œ)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm link</div></pre></td></tr></table></figure></p>
<h2 id="å‘å¸ƒåˆ°npm"><a href="#å‘å¸ƒåˆ°npm" class="headerlink" title="å‘å¸ƒåˆ°npm"></a>å‘å¸ƒåˆ°npm</h2><p>å‘å¸ƒå‰æœ€é‡è¦çš„æ˜¯é…ç½®package.jsonæ–‡ä»¶ã€‚</p>
<p>å…³äºpackage.jsonæ–‡ä»¶é…ç½®ï¼Œå¯ä»¥å®‰è£…tools-cliåï¼Œæ‰“å¼€å®‰è£…è·¯æŸ¥çœ‹ã€‚</p>
<h3 id="åŸºæœ¬æµç¨‹"><a href="#åŸºæœ¬æµç¨‹" class="headerlink" title="åŸºæœ¬æµç¨‹"></a>åŸºæœ¬æµç¨‹</h3><p>1.æ³¨å†Œä¸ªè´¦å·        <a href="https://www.npmjs.com/" target="_blank" rel="external">https://www.npmjs.com/</a><br>2.æ‰§è¡Œå‘½ä»¤ (æœ€é‡è¦çš„æ˜¯package.jsonæ–‡ä»¶é‡Œé¢çš„é…ç½®)</p>
<blockquote>
<p>npm init        (åˆ›å»ºåŠé…ç½®package.json)<br>npm adduser     æ·»åŠ è´¦æˆ·<br>npm config set registry <a href="http://registry.npmjs.org" target="_blank" rel="external">http://registry.npmjs.org</a>       åˆ‡æ¢å›é»˜è®¤çš„æº(å¦‚æœåˆ‡æ¢äº†æ·˜å®æºçš„è¯)<br>npm publish                         å‘å¸ƒæ¨¡å—. (å†™å¥½ä»£ç ä¸package.josnå, åŒæ­¥ä¹Ÿç”¨è¿™ä¸ª)<br>npm unpublish æ¨¡å—å â€“force         åˆ é™¤å·²ç»å‘å¸ƒçš„æ¨¡å—<br>npm whoami              æŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·</p>
</blockquote>
<h3 id="ç›¸å…³é”™è¯¯"><a href="#ç›¸å…³é”™è¯¯" class="headerlink" title="ç›¸å…³é”™è¯¯"></a>ç›¸å…³é”™è¯¯</h3><p>æŠ¥é”™: You do not have permission to publish â€˜somepackageâ€™.Are you logged in as the corrent user?<br><strong>åŸå› </strong>: ä½ å‘å¸ƒçš„åŒ…åå’Œåˆ«äººçš„é‡åäº†.<br><strong>è§£å†³</strong>: ä¿®æ”¹äº†package.jsonæ–‡ä»¶çš„nameé€‰é¡¹.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»Šå¤©åšå­˜å‚¨å¯†ç åŠŸèƒ½æ—¶ï¼Œæƒ³åœ¨å‘½ä»¤è¡Œæµ‹è¯•ä¸‹md5ç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œäºæ˜¯æ‰¾å·¥å…·ï¼Œè¯•äº†ä¸€ä¸¤ä¸ªï¼Œä¸å¥½ç”¨ã€‚å†³å®šè‡ªå·±åšä¸€ä¸ªã€‚åˆæ­¥çš„åŠŸèƒ½ä¸å¿…å¤šï¼Œå°±æ˜¯è¾“å…¥md5 â€œastringâ€ï¼Œè¾“å‡ºmd5çš„ç»“æœå³å¯ã€‚ååˆ†ç®€å•ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Node.js" scheme="http://blog.xigulu.com/tags/Node-js/"/>
    
      <category term="JavaScript" scheme="http://blog.xigulu.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>SHELLä¸­ä½¿ç”¨sshrcä¸bashmarks</title>
    <link href="http://blog.xigulu.com/2016/06/18/SHELL_Tools_sshrc_bashmarks/"/>
    <id>http://blog.xigulu.com/2016/06/18/SHELL_Tools_sshrc_bashmarks/</id>
    <published>2016-06-17T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹äºç»å¸¸éœ€è¦ä½¿ç”¨ç»ˆç«¯æ¥SSHè¿œç¨‹æœåŠ¡å™¨çš„åŒå­¦æ¥è¯´ï¼Œä¸€ä¸ªå¥½çš„ç»ˆç«¯å¤ªé‡è¦äº†ã€‚Windowsä¸Šæœ‰Xshellï¼Œå¥½ç”¨ä¸”å‚»ç“œï¼Œä½†Linuxï¼ŒMacä¸Šçš„SSHå®¢æˆ·ç«¯å°±æ¯”è¾ƒç£•ç¢œã€‚å¯¹äºMacå’ŒLinuxä¸Šæ¥è¯´ï¼Œæœ€å¼ºå¤§æ˜¯è¿˜æ˜¯ç»ˆç«¯æœ¬èº«ï¼ŒåŠ ä¸Šå„ç§shellè„šæœ¬çš„åˆç†é…ç½®ä¸ä½¿ç”¨ï¼Œç®€ç›´ç”©Windowså¾ˆè¿œã€‚æœ¬æ–‡ä»‹ç»2ä¸ªå·¥å…·ï¼Œ<a href="https://github.com/Russell91/sshrc" target="_blank" rel="external">sshrc</a>ä¸<a href="https://github.com/huyng/bashmarks" target="_blank" rel="external">bashmarks</a>ï¼Œå¿«æ·æ“ä½œç»ˆç«¯so easyï¼</p>
<a id="more"></a>
<hr>
<h2 id="å¸¸è§„ç™»å½•SSHï¼Œä¿®æ”¹alias"><a href="#å¸¸è§„ç™»å½•SSHï¼Œä¿®æ”¹alias" class="headerlink" title="å¸¸è§„ç™»å½•SSHï¼Œä¿®æ”¹alias"></a>å¸¸è§„ç™»å½•SSHï¼Œä¿®æ”¹alias</h2><p>macæˆ–Linuxä¸‹ç™»å½•SSHçš„æ–¹å¼å¾ˆå¤šï¼š</p>
<blockquote>
<p>å¯ä»¥é…ç½®~/.ssh/configæ–‡ä»¶ï¼›</p>
<p>å¯ä»¥è®¾ç½®aliasï¼›</p>
<p>macä¸‹è¿˜å¯ä»¥é…ç½®iTermçš„Profileså‘½ä»¤ï¼Œå¿«æ·ç™»å½•ã€‚</p>
</blockquote>
<p>å°±ä¸€æ¡å‘½ä»¤ï¼šï¼ˆusernameåŠipæ¢æˆè¿œç¨‹ä¸»æœºå¯¹åº”çš„usernameä¸ipï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh username@192.168.x.x</div></pre></td></tr></table></figure>
<p>ç„¶åä¼šè¦æ±‚è¾“å…¥è¿œç¨‹ä¸»æœºçš„ç™»å½•å¯†ç ã€‚</p>
<p>(å‡ºé”™æ—¶å…ˆæ¸…ç†ä¸‹æ—§çš„å…¬åŒ™ ssh-keygen -R 192.168.x.x)</p>
<h3 id="é…ç½®ä¸ä½¿ç”¨alias"><a href="#é…ç½®ä¸ä½¿ç”¨alias" class="headerlink" title="é…ç½®ä¸ä½¿ç”¨alias"></a>é…ç½®ä¸ä½¿ç”¨alias</h3><p>æ“ä½œè¿œç¨‹ä¸»æœºç»å¸¸éœ€è¦è·³è½¬åˆ°ä¸åŒçš„è·¯å¾„ï¼Œä¿®æ”¹å„ç§é…ç½®æ–‡ä»¶ã€‚è¿™æ—¶å€™æœ‰ä¸€ä¸ªå¿«æ·å‘½ä»¤å°±å¾ˆæ–¹ä¾¿ã€‚</p>
<p>Windowsçš„Xshellä¸Šæœ‰å¿«æ·å‘½ä»¤æ ï¼Œç›´æ¥å›¾å½¢åŒ–æ·»åŠ ä¸é…ç½®ï¼Œç‚¹å‡»å°±èƒ½ä½¿ç”¨ï¼Œå¾ˆèµã€‚</p>
<p>Macä¸Linuxä¸Šå°±è¦å€ŸåŠ©aliasé…ç½®æ¥åšã€‚å…¨ç¨‹ç”¨é”®ç›˜æ“ä½œï¼Œå®Œå…¨è‡ªå®šä¹‰ã€‚</p>
<p>1.æ·»åŠ è‡ªå®šä¹‰aliasï¼ˆå°†å¿«æ·å‘½ä»¤å†™å…¥~/.bashrcæ–‡ä»¶å³å¯ï¼‰</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">"alias ssh1='ssh xuneng@192.168.2.123'"</span> &gt;&gt; ~/.bashrc</div></pre></td></tr></table></figure>
<p>2.é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">source</span> ~/.bashrc</div></pre></td></tr></table></figure></p>
<p>3.ä½¿ç”¨<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ssh1</div></pre></td></tr></table></figure></p>
<p>å¦‚æœæ˜¯ç”¨zshæˆ–è€…å…¶ä»–shellï¼Œå†™å…¥ä¸åŒçš„shellé…ç½®é¡¹å³å¯ã€‚å¦‚ ~/.zshrc æ–‡ä»¶ã€‚ï¼ˆä¿®æ”¹ä¹Ÿä¸€æ ·ï¼‰</p>
<h3 id="ä¿®æ”¹alias"><a href="#ä¿®æ”¹alias" class="headerlink" title="ä¿®æ”¹alias"></a><strong>ä¿®æ”¹</strong>alias</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim ~/.bashrc</div></pre></td></tr></table></figure>
<p>æ‰¾åˆ°å¯¹åº”çš„aliasé¡¹ ï¼š</p>
<blockquote>
<p>alias ssh1=â€™ssh xuneng@192.168.2.123â€™</p>
</blockquote>
<p>ä¿®æ”¹ä¿å­˜é€€å‡ºå³å¯ã€‚</p>
<h2 id="ã€bashmarksã€‘å¿«æ·è®¾ç½®ä¸ä½¿ç”¨alias"><a href="#ã€bashmarksã€‘å¿«æ·è®¾ç½®ä¸ä½¿ç”¨alias" class="headerlink" title="ã€bashmarksã€‘å¿«æ·è®¾ç½®ä¸ä½¿ç”¨alias"></a>ã€bashmarksã€‘å¿«æ·è®¾ç½®ä¸ä½¿ç”¨alias</h2><p>bashmarksä¸»è¦ç”¨æ¥ä¿å­˜å¸¸ç”¨è·¯å¾„ã€‚æ”¯æŒtabé”®è‡ªåŠ¨å®Œæˆã€‚</p>
<p>é¡¹ç›®åœ°å€:</p>
<p><a href="https://github.com/huyng/bashmarks/" target="_blank" rel="external">https://github.com/huyng/bashmarks/</a></p>
<p>å®‰è£…æ­¥éª¤:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">1. git <span class="built_in">clone</span> git://github.com/huyng/bashmarks.git</div><div class="line">2. <span class="built_in">cd</span> bashmarks</div><div class="line">3. make install</div><div class="line">4. add <span class="string">'source ~/.local/bin/bashmarks.sh'</span> to your .bashrc file (~/.bashrc)</div></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–¹æ³•:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">s &lt;bookmark_name&gt; - ä¿å­˜å½“å‰è·¯å¾„,åå­—ä¸ºbookmark_name</div><div class="line">g &lt;bookmark_name&gt; - ç›´æ¥è·³è½¬åˆ°<span class="string">"bookmark_name"</span>å¯¹åº”çš„è·¯å¾„</div><div class="line">l                 - åˆ—å‡ºæ‰€æœ‰çš„ bookmark</div><div class="line">d &lt;bookmark_name&gt; - åˆ é™¤ bookmark</div><div class="line">p &lt;bookmark_name&gt; - Prints the directory associated with <span class="string">"bookmark_name"</span></div></pre></td></tr></table></figure>
<p>ä¸»è¦æ˜¯sä¿å­˜ï¼Œgè·³è½¬ï¼Œlåˆ—å‡ºæ‰€æœ‰ï¼Œè¿™3ä¸ªå‘½ä»¤æ¯”è¾ƒå¸¸ç”¨ã€‚</p>
<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><p>é€šå¸¸åœ¨ç»ˆç«¯ä¸­è¾“å…¥gä¼šè¢«å¿«æ·å®šä½åˆ°gitï¼Œè¾“å…¥lä¼šè¢«å®šä½ls -lå‘½ä»¤ã€‚ï¼ˆå¯åœ¨å®‰è£…å‰ä¸€ä¸€è¾“å…¥è¿›è¡Œæ£€æŸ¥ï¼‰</p>
<p>å› æ­¤å¯¼è‡´ä»¥ä¸Šæ’ä»¶å®‰è£…ä¸é…ç½®åå¹¶ä¸èƒ½ä½¿ç”¨ã€‚</p>
<p>è§£å†³åŠæ³•ï¼š</p>
<blockquote>
<p>vim ~/.bashrc æ‰“å¼€æ—¶é…ç½®é¡¹ï¼Œæ‰¾åˆ°å…³äºgï¼Œlçš„aliasé…ç½®ï¼Œåœ¨å‰é¢åŠ #å·æ³¨é‡Šæ‰å³å¯ã€‚</p>
</blockquote>
<h2 id="ã€sshrcã€‘-å¸¦ç€ä½ çš„-bashrcï¼Œ-vimrcè¿›å…¥ssh"><a href="#ã€sshrcã€‘-å¸¦ç€ä½ çš„-bashrcï¼Œ-vimrcè¿›å…¥ssh" class="headerlink" title="ã€sshrcã€‘ å¸¦ç€ä½ çš„.bashrcï¼Œ.vimrcè¿›å…¥ssh"></a>ã€sshrcã€‘ å¸¦ç€ä½ çš„.bashrcï¼Œ.vimrcè¿›å…¥ssh</h2><p>sshrcçš„ä½œç”¨å°±æ˜¯å½“ä½ ç™»å½•sshåï¼Œä½ ä»ç„¶èƒ½ä½¿ç”¨æœ¬æœºä¸Šçš„é…ç½®çš„aliasã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š</p>
<p><a href="https://github.com/Russell91/sshrc" target="_blank" rel="external">https://github.com/Russell91/sshrc</a></p>
<p>ç”¨äºä¸»æœºç™»å½•SSHå, ä»ç„¶å¯ä»¥ç”¨ä¸»æœºé…ç½®å¥½çš„aliaså‘½ä»¤. (å®‰è£…åœ¨ä¸»æœº, ä½œç”¨åœ¨ä¸»æœºä¸è¿œç¨‹æœåŠ¡å™¨)</p>
<p>ä¸å‰ä¸€ä¸ªæ’ä»¶bashmarksçš„åŒºåˆ«å°±æ˜¯ï¼šbashmarksåªä½œç”¨å®‰è£…çš„æœºå™¨ã€‚</p>
<p>å®‰è£…æ­¥éª¤ï¼š</p>
<p>MacOS:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ brew install sshrc</div></pre></td></tr></table></figure>
<p>Ubuntu:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo add-apt-repository ppa:russell<span class="_">-s</span>-stewart/ppa</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install sshrc</div></pre></td></tr></table></figure>
<p>å…¶ä»–Linux:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ wget https://raw.githubusercontent.com/Russell91/sshrc/master/sshrc &amp;&amp; chmod +x sshrc &amp;&amp; sudo mv sshrc /usr/<span class="built_in">local</span>/bin <span class="comment">#or anywhere else on your PATH</span></div></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–¹æ³•:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">"echo welcome"</span> &gt;&gt; ~/.sshrc    <span class="comment">#å†™å…¥.sshrcæ–‡ä»¶</span></div><div class="line">$ sshrc me@myserver                  <span class="comment">#ç”¨sshrcç™»å½•ssh</span></div><div class="line">welcome</div><div class="line"></div><div class="line">$ <span class="built_in">echo</span> <span class="string">"alias ..='cd ..'"</span> &gt;&gt; ~/.sshrc     <span class="comment">#å†™å…¥alias</span></div><div class="line">$ sshrc me@myserver                     </div><div class="line">$ <span class="built_in">type</span> ..                              <span class="comment">#æ‰“å°å¯¹åº”aliasè¯¦æƒ…</span></div><div class="line">.. is aliased to `<span class="built_in">cd</span> ..<span class="string">'</span></div></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»¥ä¸Š2ä¸ªå·¥å…·åœ¨Macæˆ–Linuxä¸Šä½¿ç”¨è¿˜æ˜¯ç›¸å½“æ–¹ä¾¿çš„ï¼Œç»“åˆMacæˆ–Linuxä¸‹ä¸€äº›ç»ˆç«¯å‘½ä»¤ï¼Œå·¥ä½œæ•ˆç‡è¶…è¶ŠWindowså›¾å½¢å·¥å…·ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¯¹äºç»å¸¸éœ€è¦ä½¿ç”¨ç»ˆç«¯æ¥SSHè¿œç¨‹æœåŠ¡å™¨çš„åŒå­¦æ¥è¯´ï¼Œä¸€ä¸ªå¥½çš„ç»ˆç«¯å¤ªé‡è¦äº†ã€‚Windowsä¸Šæœ‰Xshellï¼Œå¥½ç”¨ä¸”å‚»ç“œï¼Œä½†Linuxï¼ŒMacä¸Šçš„SSHå®¢æˆ·ç«¯å°±æ¯”è¾ƒç£•ç¢œã€‚å¯¹äºMacå’ŒLinuxä¸Šæ¥è¯´ï¼Œæœ€å¼ºå¤§æ˜¯è¿˜æ˜¯ç»ˆç«¯æœ¬èº«ï¼ŒåŠ ä¸Šå„ç§shellè„šæœ¬çš„åˆç†é…ç½®ä¸ä½¿ç”¨ï¼Œç®€ç›´ç”©Windowså¾ˆè¿œã€‚æœ¬æ–‡ä»‹ç»2ä¸ªå·¥å…·ï¼Œ&lt;a href=&quot;https://github.com/Russell91/sshrc&quot;&gt;sshrc&lt;/a&gt;ä¸&lt;a href=&quot;https://github.com/huyng/bashmarks&quot;&gt;bashmarks&lt;/a&gt;ï¼Œå¿«æ·æ“ä½œç»ˆç«¯so easyï¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="SHELL" scheme="http://blog.xigulu.com/tags/SHELL/"/>
    
  </entry>
  
  <entry>
    <title>Pythonçˆ¬å–æœ¬åšå®¢é¦–é¡µä¸è°ƒè¯•</title>
    <link href="http://blog.xigulu.com/2016/05/24/Python_spider_debug/"/>
    <id>http://blog.xigulu.com/2016/05/24/Python_spider_debug/</id>
    <published>2016-05-23T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æƒ³æŠ“ä¸€ç‚¹å…¶ä»–ç½‘ç«™çš„å†…å®¹ï¼Œä½†æ˜¯ç”¨PHPåšæ„Ÿè§‰æœ‰ç‚¹å¥‡æ€ªï¼Œå•çº¯ç”¨æ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ¯”è¾ƒä¸ä¾¿ã€‚äºæ˜¯ç‹ è¡¥äº†ä¸‹Pythonçš„å†…å®¹ï¼Œè™½ç„¶åŸºæœ¬åŸç†éƒ½æ˜¯ä¸‹è½½-&gt;åˆ†æ-&gt;æå–-&gt;å­˜å‚¨ï¼Œä½†Pythoné‡Œé¢çš„3æ–¹åŒ…ç­‰å·¥å…·è¿˜æ˜¯ç›¸å¯¹å¥å…¨å¾ˆå¤šï¼Œå¦‚BeautifulSoupå°±ååˆ†å¥½ç”¨ã€‚<br><a id="more"></a></p>
<hr>
<h2 id="ç®€å•çˆ¬è™«"><a href="#ç®€å•çˆ¬è™«" class="headerlink" title="ç®€å•çˆ¬è™«"></a>ç®€å•çˆ¬è™«</h2><p>å†™çš„å°½é‡ç®€å•ç‚¹ï¼Œç”¨åˆ°reï¼ŒBeautifulSoupï¼Œurllib2ç­‰æ¨¡å—ã€‚ä¸åŒ…å«URLç®¡ç†å™¨ç­‰ã€‚</p>
<h3 id="åšå®¢é¡µé¢åˆ†æ"><a href="#åšå®¢é¡µé¢åˆ†æ" class="headerlink" title="åšå®¢é¡µé¢åˆ†æ"></a>åšå®¢é¡µé¢åˆ†æ</h3><p>ä»¥æŠ“å–æœ¬åšå®¢<a href="http://blog.xigulu.com/">http://blog.xigulu.com/</a>ä¸ºä¾‹ã€‚æå–å‡ºé¦–é¡µæ ‡é¢˜åŠæ‘˜è¦å†…å®¹ï¼Œæœ€åå°†æå–çš„å†…å®¹å†™å…¥htmlã€‚</p>
<p>å®¡æŸ¥ç½‘é¡µæºç ï¼Œå¯ä»¥å‘ç°ï¼š<br>æ ‡é¢˜éƒ¨åˆ†ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"post-title"</span> <span class="attr">itemprop</span>=<span class="string">"name headline"</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"post-title-link"</span> <span class="attr">href</span>=<span class="string">"/2016/05/12/php_route_url_pretty/"</span> <span class="attr">itemprop</span>=<span class="string">"url"</span>&gt;</span></div><div class="line">        PHPå•ä¸€å…¥å£æ¨¡å¼åŠURLè·¯ç”±ç¾åŒ–</div><div class="line">   <span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ‘˜è¦éƒ¨åˆ†ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-body"</span> <span class="attr">itemprop</span>=<span class="string">"articleBody"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¤§éƒ¨åˆ†PHPæ¡†æ¶éƒ½æ˜¯åŸºäºå•ä¸€å…¥å£æ¨¡å¼ï¼Œå¦‚yiiï¼Œciï¼Œslimç­‰æ¡†æ¶ä¸­éƒ½æœ‰å®ç°ï¼Œä¸”é…ç½®éƒ½éå¸¸ç®€å•ã€‚æœ€è¿‘æƒ³æŠŠè‡ªå·±ä»¥å‰å†™çš„ä¸€ä¸ªé›¶æ•£çš„é¡¹ç›®æ•´ç†æˆå•ä¸€å…¥å£æ¨¡å¼ï¼Œäºæ˜¯ç ”ç©¶äº†ä¸‹ï¼Œå®ç°äº†åŸºæœ¬å¯ç”¨çš„åŠŸèƒ½ã€‚åŒ…æ‹¬URLè·¯ç”±ï¼Œç¾åŒ–åŠŸèƒ½ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-more-link text-center"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn"</span> <span class="attr">href</span>=<span class="string">"/2016/05/12/php_route_url_pretty/#more"</span> <span class="attr">rel</span>=<span class="string">"contents"</span>&gt;</span></div><div class="line">              é˜…è¯»å…¨æ–‡ Â»</div><div class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>çˆ¬å–è¿‡ç¨‹ï¼š</p>
<ul>
<li>å…ˆä½¿ç”¨urllib2ä¸‹è½½ç½‘é¡µ</li>
<li>åˆ†æä¸‹è½½çš„ç½‘é¡µï¼Œä½¿ç”¨BeautifulSoup + æ­£åˆ™ æå–æƒ³è¦çš„å†…å®¹</li>
<li>è¾“å‡ºhtml</li>
</ul>
<h3 id="çˆ¬å–å¹¶æ˜¾ç¤º"><a href="#çˆ¬å–å¹¶æ˜¾ç¤º" class="headerlink" title="çˆ¬å–å¹¶æ˜¾ç¤º"></a>çˆ¬å–å¹¶æ˜¾ç¤º</h3><p>ä¸»è¦ä»£ç å¦‚ä¸‹ã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding=utf-8</span></div><div class="line"></div><div class="line"><span class="comment">#æŠ“å–http://blog.xigulu.com/é¦–é¡µçš„æ ‡é¢˜åŠæ‘˜è¦å†…å®¹</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> bs4</div><div class="line"><span class="keyword">import</span> re</div><div class="line"><span class="keyword">import</span> urllib2</div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySpider</span>:</span></div><div class="line">    <span class="comment">#ä¸‹è½½html</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">download_html</span><span class="params">(self,url)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">"start download_html:"</span></div><div class="line">        response = urllib2.urlopen(url)</div><div class="line">        <span class="keyword">if</span> response.getcode() != <span class="number">200</span>:</div><div class="line">            <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">print</span> <span class="string">"finish download_html!"</span></div><div class="line">        <span class="keyword">return</span> response.read()</div><div class="line">    </div><div class="line">    <span class="comment">#è§£æhtml</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parser_html</span><span class="params">(self,html_str)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">"start parser_html:"</span></div><div class="line">        result_list = []  <span class="comment">#ç»“æœå­˜æ”¾åˆ°listä¸­, listå…ƒç´ ä¸ºå­—å…¸</span></div><div class="line">        soup = BeautifulSoup(html_str, <span class="string">"html.parser"</span>, from_encoding=<span class="string">"utf-8"</span>)</div><div class="line">        </div><div class="line">        <span class="string">'''</span></div><div class="line">        &lt;h1 class="post-title" itemprop="name headline"&gt;</div><div class="line">            &lt;a class="post-title-link" href="/2016/05/12/php_route_url_pretty/" itemprop="url"&gt;</div><div class="line">                PHPå•ä¸€å…¥å£æ¨¡å¼åŠURLè·¯ç”±ç¾åŒ–</div><div class="line">            &lt;/a&gt;</div><div class="line">        &lt;/h1&gt;</div><div class="line">        '''</div><div class="line">        <span class="comment">#title_nodes = soup.find_all('a', class_="post-title-link")</span></div><div class="line">        title_nodes = soup.select(<span class="string">"h1.post-title a.post-title-link"</span>)</div><div class="line">        </div><div class="line">        <span class="string">'''</span></div><div class="line">        &lt;div class="post-body" itemprop="articleBody"&gt;</div><div class="line">          &lt;p&gt;å¤§éƒ¨åˆ†PHPæ¡†æ¶éƒ½æ˜¯åŸºäºå•ä¸€å…¥å£æ¨¡å¼ï¼Œå¦‚yiiï¼Œciï¼Œslimç­‰æ¡†æ¶ä¸­éƒ½æœ‰å®ç°ï¼Œä¸”é…ç½®éƒ½éå¸¸ç®€å•ã€‚æœ€è¿‘æƒ³æŠŠè‡ªå·±ä»¥å‰å†™çš„ä¸€ä¸ªé›¶æ•£çš„é¡¹ç›®æ•´ç†æˆå•ä¸€å…¥å£æ¨¡å¼ï¼Œäºæ˜¯ç ”ç©¶äº†ä¸‹ï¼Œå®ç°äº†åŸºæœ¬å¯ç”¨çš„åŠŸèƒ½ã€‚åŒ…æ‹¬URLè·¯ç”±ï¼Œç¾åŒ–åŠŸèƒ½ã€‚&lt;/p&gt;</div><div class="line">          &lt;div class="post-more-link text-center"&gt;</div><div class="line">            &lt;a class="btn" href="/2016/05/12/php_route_url_pretty/#more" rel="contents"&gt;</div><div class="line">                            é˜…è¯»å…¨æ–‡ Â»</div><div class="line">            &lt;/a&gt;</div><div class="line">          &lt;/div&gt;</div><div class="line">        &lt;/div&gt;</div><div class="line">        '''</div><div class="line">        <span class="comment">#summary_nodes = soup.find_all('div', class_="post-body")</span></div><div class="line">        summary_nodes = soup.select(<span class="string">"div.post-body p"</span>)   <span class="comment">#è¿™é‡Œé€šè¿‡selectæ¥æ“ä½œ, æ¯”findæ–¹æ³•æ›´å¥½</span></div><div class="line">        <span class="comment">#ä¸‹è½½çš„htmlä¸­, å‡ ä¸ªpæ ‡ç­¾æœªé—­åˆ. å¯¼è‡´å¸¦ä¸Šäº†" é˜…è¯»å…¨æ–‡ Â»"</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(len(title_nodes)):</div><div class="line">            result_data = &#123;&#125;</div><div class="line">            result_data[<span class="string">'title'</span>] = title_nodes[index].get_text() </div><div class="line">            result_data[<span class="string">'summary'</span>] = summary_nodes[index].get_text()</div><div class="line">            <span class="comment">#result_data['summary'] = summary_nodes[index].find('p').get_text()</span></div><div class="line">            result_list.append(result_data)</div><div class="line">        </div><div class="line">        <span class="keyword">print</span> <span class="string">"finish parser_html!"</span></div><div class="line">        <span class="keyword">return</span> result_list</div><div class="line">        </div><div class="line">        </div><div class="line">    <span class="comment">#ç»“æœå­˜ä¸ºhtnlå±•ç¤º</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">save2html</span><span class="params">(self,list_data)</span>:</span></div><div class="line">        out_html = open(<span class="string">'output.html'</span>, <span class="string">'w'</span>)</div><div class="line">        <span class="keyword">print</span> <span class="string">"start save2html:"</span></div><div class="line">        out_html.write(<span class="string">"&lt;html&gt;"</span>)</div><div class="line">        out_html.write(<span class="string">"&lt;table style='border:1px solid #000'&gt;"</span>)</div><div class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> list_data:</div><div class="line">            out_html.write(<span class="string">"&lt;tr&gt;"</span>)</div><div class="line">            out_html.write(<span class="string">"&lt;td style='border:1px solid #000'&gt;%s&lt;/td&gt;"</span> % data[<span class="string">'title'</span>].encode(<span class="string">'utf8'</span>))</div><div class="line">            out_html.write(<span class="string">"&lt;td style='border:1px solid #000'&gt;%s&lt;/td&gt;"</span> % data[<span class="string">'summary'</span>].encode(<span class="string">'utf8'</span>))</div><div class="line">            out_html.write(<span class="string">"&lt;/tr&gt;"</span>)</div><div class="line">        out_html.write(<span class="string">"&lt;/table&gt;"</span>)</div><div class="line">        out_html.write(<span class="string">"&lt;/html&gt;"</span>)</div><div class="line">        out_html.close()</div><div class="line">        <span class="keyword">print</span> <span class="string">"finish save2html!"</span></div><div class="line">    </div><div class="line">    </div><div class="line"><span class="comment">#æµ‹è¯•</span></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    </div><div class="line">    mysapider = MySpider()</div><div class="line">    </div><div class="line">    url = <span class="string">"http://blog.xigulu.com/"</span></div><div class="line">    html_str = mysapider.download_html(url)</div><div class="line">    <span class="comment">#print html_str</span></div><div class="line">    list_data = mysapider.parser_html(html_str)</div><div class="line">    mysapider.save2html(list_data)</div></pre></td></tr></table></figure></p>
<p>è¯´æ˜è§æ³¨é‡Šã€‚</p>
<h2 id="è°ƒè¯•ç±»"><a href="#è°ƒè¯•ç±»" class="headerlink" title="è°ƒè¯•ç±»"></a>è°ƒè¯•ç±»</h2><p>å‡ºäºç»å¸¸éœ€è¦è°ƒè¯•ä¸è¾“å‡ºæ•°æ®ï¼Œäºæ˜¯å†™äº†ä¸ªç®€å•çš„è°ƒè¯•ç±»ã€‚ï¼ˆå¤æ‚ä¸€ç‚¹çš„è¿˜æ˜¯ç”¨PyDevæˆ–PyCharmé›†æˆå¼€å‘ç¯å¢ƒè°ƒè¯•æ›´å¥½ï¼‰</p>
<p>ç›´æ¥è´´ä»£ç ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding=utf-8</span></div><div class="line"><span class="keyword">from</span> ipdb <span class="keyword">import</span> set_trace</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">XNDebug</span>:</span></div><div class="line">    <span class="comment">#is ä¸  == çš„åŒºåˆ«å°±æ˜¯isæ ¹æ®id, ==æ ¹æ®å€¼ åˆ¤æ–­.</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">        self.debugStatus = <span class="keyword">True</span>  <span class="comment">#False</span></div><div class="line"></div><div class="line">    </div><div class="line">    <span class="comment">#æ‰“å°list</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">logList</span><span class="params">(self,varlist)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.debugStatus != <span class="keyword">True</span>:</div><div class="line">            <span class="keyword">return</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> varlist <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> <span class="keyword">not</span> varlist:</div><div class="line">            <span class="keyword">print</span> <span class="string">"logList--&gt; is None"</span></div><div class="line">        <span class="keyword">elif</span> type(varlist) == list:</div><div class="line">            <span class="keyword">for</span> index <span class="keyword">in</span> range(len(varlist)):</div><div class="line">                <span class="keyword">print</span> <span class="string">"logList[%d]--&gt;%s"</span>%(index,varlist[index])</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">"logList--&gt; not list type!"</span></div><div class="line">        </div><div class="line">                </div><div class="line">    <span class="comment">#æ‰“å°å­—å…¸</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">logDict</span><span class="params">(self,varDict)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.debugStatus != <span class="keyword">True</span>:</div><div class="line">            <span class="keyword">return</span></div><div class="line">        </div><div class="line">        <span class="keyword">if</span> varDict <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> <span class="keyword">not</span> varDict:</div><div class="line">            <span class="keyword">print</span> <span class="string">"varDict--&gt; is None"</span></div><div class="line">        <span class="keyword">elif</span> type(varDict) == dict:</div><div class="line">            <span class="keyword">for</span> (k, v) <span class="keyword">in</span> varDict.items():</div><div class="line">                <span class="keyword">print</span> <span class="string">'logDict-&gt;%s:%s !'</span> % (k, v)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">"logDict--&gt; not dict type!"</span></div><div class="line">    </div><div class="line"></div><div class="line">    <span class="comment">#æ‰“å°set (ä¸é‡å¤, æ— åºçš„. åªæ˜¯è¿™ä¸ªæ— åº, æ²¡å¿…è¦æ ‡å·)</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">logSet</span><span class="params">(self,varSet)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.debugStatus != <span class="keyword">True</span>:</div><div class="line">            <span class="keyword">return</span></div><div class="line">        <span class="keyword">if</span> varSet <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> <span class="keyword">not</span> varSet:</div><div class="line">            <span class="keyword">print</span> <span class="string">"varSet--&gt; is None"</span></div><div class="line">        <span class="keyword">elif</span> type(varSet) == set:</div><div class="line">            <span class="keyword">for</span> setItem <span class="keyword">in</span> varSet:</div><div class="line">                <span class="keyword">print</span> <span class="string">"varSet--&gt;"</span>,setItem</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">"varSet--&gt; not set type!"</span></div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="comment">#å†™å…¥åˆ°htmlæ–‡ä»¶(å­˜é•¿æ–‡æœ¬ )</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">save2html</span><span class="params">(self,varParam)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.debugStatus != <span class="keyword">True</span>:</div><div class="line">            <span class="keyword">return</span></div><div class="line">        <span class="keyword">if</span> varParam <span class="keyword">is</span> <span class="keyword">None</span> <span class="keyword">or</span> <span class="keyword">not</span> varParam:</div><div class="line">            <span class="keyword">print</span> <span class="string">"save2html:varParam--&gt; is None"</span></div><div class="line">            <span class="keyword">return</span></div><div class="line">        </div><div class="line">        <span class="comment">#å†™å…¥html</span></div><div class="line">        out_html = open(<span class="string">'out.html'</span>, <span class="string">'w'</span>)</div><div class="line">        out_html.write(<span class="string">"&lt;html&gt;"</span>)</div><div class="line">        out_html.write(<span class="string">"&lt;body&gt;"</span>)</div><div class="line">        out_html.write(<span class="string">"%s"</span> % varParam.encode(<span class="string">'utf8'</span>))</div><div class="line">        out_html.write(<span class="string">"&lt;/body&gt;"</span>)</div><div class="line">        out_html.write(<span class="string">"&lt;/html&gt;"</span>)</div><div class="line">        out_html.close()</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="comment">#åœ¨è¯¥åœ°æ–¹ä½¿ç”¨ipdbè°ƒè¯•. (ä½¿ç”¨"p å˜é‡å"å¯ä»¥æŸ¥çœ‹å˜é‡çš„å€¼, næ‰§è¡Œä¸‹ä¸€è¡Œ)</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">debug_ipdb</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.debugStatus != <span class="keyword">True</span>:</div><div class="line">            <span class="keyword">return</span></div><div class="line">        set_trace()</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">#æµ‹è¯•</span></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    xndebugObj = XNDebug()</div><div class="line">    </div><div class="line">    mylist = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]</div><div class="line">    xndebugObj.logList(mylist)</div><div class="line">    </div><div class="line">    mydict = &#123;&#125;</div><div class="line">    mydict1 = &#123;<span class="string">'a'</span>:<span class="number">123</span>,<span class="string">'b'</span>:<span class="string">'sss'</span>&#125;</div><div class="line">    xndebugObj.logDict(mydict1)</div><div class="line">    </div><div class="line">    <span class="comment">#å­˜é•¿æ–‡æœ¬</span></div><div class="line">    testStr= <span class="string">"write this string"</span></div><div class="line">    xndebugObj.save2html(testStr)</div><div class="line">    </div><div class="line">    xndebugObj.debug_ipdb()</div><div class="line">    </div><div class="line">    myset = set(<span class="string">'http'</span>)  <span class="comment">#åˆå§‹åŒ–æ—¶ä¸ºæ‹†åˆ†æˆå•ä¸ªå…ƒç´ </span></div><div class="line">    abc = <span class="string">"12133333"</span>     <span class="comment">#è¿™æ ·æ˜¯ä½œä¸ºä¸€ä¸ªæ•´ä½“çš„</span></div><div class="line">    myset.add(abc)</div><div class="line">    xndebugObj.logSet(myset)</div></pre></td></tr></table></figure></p>
<p>å…¶ä¸­debug_ipdbæ–¹æ³•ä¸­ä½¿ç”¨äº†ipdbè°ƒè¯•ï¼Œç›´æ¥åœ¨æ§åˆ¶å°è¿è¡Œï¼Œååˆ†æ–¹ä¾¿ã€‚</p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>ä»¥ä¸Šä½¿ç”¨çš„beautifulsoup4ï¼Œipdbä¸ºç¬¬ä¸‰åº“ï¼Œå®‰è£…ä½¿ç”¨â€œpip install xxxâ€å³å¯ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘æƒ³æŠ“ä¸€ç‚¹å…¶ä»–ç½‘ç«™çš„å†…å®¹ï¼Œä½†æ˜¯ç”¨PHPåšæ„Ÿè§‰æœ‰ç‚¹å¥‡æ€ªï¼Œå•çº¯ç”¨æ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ¯”è¾ƒä¸ä¾¿ã€‚äºæ˜¯ç‹ è¡¥äº†ä¸‹Pythonçš„å†…å®¹ï¼Œè™½ç„¶åŸºæœ¬åŸç†éƒ½æ˜¯ä¸‹è½½-&amp;gt;åˆ†æ-&amp;gt;æå–-&amp;gt;å­˜å‚¨ï¼Œä½†Pythoné‡Œé¢çš„3æ–¹åŒ…ç­‰å·¥å…·è¿˜æ˜¯ç›¸å¯¹å¥å…¨å¾ˆå¤šï¼Œå¦‚BeautifulSoupå°±ååˆ†å¥½ç”¨ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="Python" scheme="http://blog.xigulu.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>PHPå•ä¸€å…¥å£æ¨¡å¼åŠURLè·¯ç”±ç¾åŒ–</title>
    <link href="http://blog.xigulu.com/2016/05/12/php_route_url_pretty/"/>
    <id>http://blog.xigulu.com/2016/05/12/php_route_url_pretty/</id>
    <published>2016-05-11T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¤§éƒ¨åˆ†PHPæ¡†æ¶éƒ½æ˜¯åŸºäºå•ä¸€å…¥å£æ¨¡å¼ï¼Œå¦‚Laravelï¼Œyiiï¼Œciï¼Œtpç­‰ï¼Œä¸”é…ç½®éƒ½éå¸¸ç®€å•ã€‚æœ€è¿‘æƒ³æŠŠè‡ªå·±ä»¥å‰å†™çš„ä¸€ä¸ªé›¶æ•£çš„é¡¹ç›®(å…¨æ˜¯å•æ–‡ä»¶æ¨¡å¼)æ•´ç†æˆå•ä¸€å…¥å£æ¨¡å¼ï¼Œäºæ˜¯ç ”ç©¶äº†ä¸‹ï¼Œå®ç°äº†åŸºæœ¬å¯ç”¨çš„åŠŸèƒ½ã€‚åŒ…æ‹¬URLè·¯ç”±ï¼Œç¾åŒ–åŠŸèƒ½ã€‚</p>
<a id="more"></a>
<hr>
<h2 id="PHPä¸­çš„å•ä¸€å…¥å£æ¨¡å¼"><a href="#PHPä¸­çš„å•ä¸€å…¥å£æ¨¡å¼" class="headerlink" title="PHPä¸­çš„å•ä¸€å…¥å£æ¨¡å¼"></a>PHPä¸­çš„å•ä¸€å…¥å£æ¨¡å¼</h2><p>æ‰€è°“å•ä¸€å…¥å£ï¼Œå°±æ˜¯æ‰€æœ‰çš„httpè¯·æ±‚éƒ½é€šè¿‡ä¸€ä¸ªæ–‡ä»¶æ¥å¤„ç†åï¼Œå†äº¤ç»™å„ä¸ªå¯¹åº”phpæ–‡ä»¶å¤„ç†ã€‚å•ä¸€å…¥å£çš„å¥½å¤„å¾ˆæ˜æ˜¾ï¼Œé˜²æ­¢æš´éœ²ç»™å¤–ç•Œæ›´å¤šçš„ä¿¡æ¯ï¼Œä¸”å¯ä»¥å¾ˆæ–¹ä¾¿çš„è®°å½•è¯·æ±‚ï¼Œå®‰å…¨æ€§æ£€æŸ¥ã€‚åœ¨å…¥å£é‡Œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹urlå‚æ•°å’Œpostè¿›è¡Œå¿…è¦çš„æ£€æŸ¥å’Œç‰¹æ®Šå­—ç¬¦è¿‡æ»¤ã€è®°å½•æ—¥å¿—ã€è®¿é—®ç»Ÿè®¡ç­‰ç­‰å„ç§å¯ä»¥é›†ä¸­å¤„ç†çš„ä»»åŠ¡ã€‚</p>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>å¯èƒ½é¦–å…ˆæƒ³åˆ°çš„å®ç°æ˜¯ä¸€å †if elseã€æˆ–è€…ä¸€å †switch caseã€‚è¿™æ˜¯æœ€ç®€å•çš„å®ç°ï¼Œ ä½†è¿™ç§å¤ªéº»çƒ¦ã€‚<br>å…¶å®å¯ä»¥æ›´åŠ ç®€å•ã€‚<br>å‡è®¾é¡¹ç›®åˆ†ä¸ºå„ä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚æ–‡ä»¶å¤¹é‡Œé¢å­˜æ”¾çš„æ˜¯å„ä¸ªphpæ–‡ä»¶ã€‚<br>å®ç°ä»£ç å¦‚ä¸‹index.phpã€‚<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">$url = isset($_GET['url'])? $_GET['url']:'';  //ç›®å½•</div><div class="line">$action = isset($_GET['action'])? $_GET['action']:'';  //æ–‡ä»¶</div><div class="line"></div><div class="line">$filePath = $url.'/'.$action.'.php';</div><div class="line"></div><div class="line">if(file_exists($filePath))&#123;</div><div class="line">	include($filePath);//åŒ…å«å°±ä¼šç›´æ¥è°ƒç”¨</div><div class="line">&#125;else&#123;</div><div class="line">	header('HTTP/1.1 404 Not Found'); </div><div class="line">	header('status: 404 Not Found');</div><div class="line">	include("errors/404.html");//è·³è½¬åˆ°404é¡µé¢</div><div class="line">	exit(); </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å…¶ä¸­urlå¯¹åº”æ¨¡å—ç›®å½•ï¼Œactionå¯¹åº”æ–‡ä»¶åï¼Œæ‹¼æ¥ä¹‹åç›´æ¥includeå³å¯ã€‚<br>é‚£ä¹ˆè®¿é—®<strong>news/abc.php?id=1</strong>ï¼ˆnewsç›®å½•ä¸‹æœ‰ä¸ªabc.phpï¼Œéœ€è¦ä¼ idå‚æ•°ï¼‰çš„å½¢å¼å°±å˜ä¸º<strong>index.php?url=news&amp;action=abc&amp;id=1</strong>çš„å½¢å¼äº†ã€‚</p>
<p>è€Œä¸”æ—§ä»£ç ä¹Ÿä¸ç”¨åŠ¨ï¼Œåªæ˜¯å‚æ•°å˜å¤šäº†ã€‚</p>
<h2 id="URLè·¯ç”±ä¸ç¾åŒ–"><a href="#URLè·¯ç”±ä¸ç¾åŒ–" class="headerlink" title="URLè·¯ç”±ä¸ç¾åŒ–"></a>URLè·¯ç”±ä¸ç¾åŒ–</h2><p>ä¸Šé¢å•ä¸€å…¥å£è®¿é—®çš„URLæ— ç–‘çœ‹èµ·æ¥å¾ˆéš¾çœ‹ï¼Œç¦»æˆ‘ä»¬å¹³æ—¥é‡Œè§åˆ°çš„ç½‘ç«™URLç›¸å·®åä¸‡å…«åƒé‡Œã€‚æ¥ä¸‹æ¥å†™ç¾åŒ–URLã€‚<br>ä»¥apacheæœåŠ¡å™¨ä¸ºä¾‹ã€‚å¦‚æœè¦é‡æ–°å®šä¹‰URLéœ€è¦å¼€å¯apache çš„ mod_rewrite æ¨¡å—ã€‚<br>æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>1.å¼€å¯ apacheçš„mod_rewriteæ¨¡å—</p>
<blockquote>
<p>1.1 æ‰¾åˆ°apacheçš„é…ç½®æ–‡ä»¶httpd.confï¼›<br>1.2 å»æ‰LoadModule rewrite_module modules/mod_rewrite.soå‰çš„â€œ#â€ç¬¦å·ï¼›<br>1.3 æŸ¥æ‰¾httpd.confæ–‡ä»¶, æŠŠ AllowOverride None ä¿®æ”¹ä¸º AllowOverride Allï¼›</p>
</blockquote>
<p>2.ç¼–å†™.htaccessæ–‡ä»¶ä¸­çš„URLç¾åŒ–è§„åˆ™</p>
</blockquote>
<h3 id="htaccessæ–‡ä»¶ç¼–å†™è§„åˆ™"><a href="#htaccessæ–‡ä»¶ç¼–å†™è§„åˆ™" class="headerlink" title=".htaccessæ–‡ä»¶ç¼–å†™è§„åˆ™"></a>.htaccessæ–‡ä»¶ç¼–å†™è§„åˆ™</h3><p>æ³¨æ„: .htaccessæ–‡ä»¶åˆ›å»ºåœ¨index.phpå…¥å£æ–‡ä»¶åŒçº§ç›®å½•å³å¯ã€‚ï¼ˆwindowsä¸Šåˆ›å»ºæ—¶ï¼Œè¾“å…¥â€.htaccess.â€ï¼Œæœ€åå¤šåŠ ä¸€ä¸ªç‚¹å·ï¼‰</p>
<p>å¦‚ä¸‹ä¸€æ¡è§„åˆ™:<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">RewriteEngine on</div><div class="line"><span class="meta">#RewriteRule ^([a-zA-Z0-9_-]+)/([0-9]+)$ index.php?action=$1&amp;id=$2</span></div></pre></td></tr></table></figure></p>
<p>æ„æ€æ˜¯å½“è®¿é—®<strong>xxxx/index.php?action=abc&amp;id=123</strong>æ—¶ï¼Œå°†åœ°å€å˜ä¸º<strong>xxxx/abc/123</strong>çš„å½¢å¼ã€‚<br>è¿™æ ·æ—¢å»æ‰äº†index.phpï¼Œä¹Ÿç®€åŒ–äº†å‚æ•°æ ·å¼ã€‚<br>å‰åŠéƒ¨åˆ†ä¸­ï¼Œ^å·è¡¨ç¤ºå¼€å§‹ç¬¦å·ï¼Œ$è¡¨ç¤ºç»“æŸç¬¦å·ã€‚<br>([a-zA-Z0-9_-]+)æ‹¬å·ä¸­æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œç¬¬ä¸€ä¸ªæ‹¬å·ä¸­çš„å†…å®¹ä¸åé¢çš„$1å¯¹åº”ï¼Œ ç¬¬äºŒä¸ªæ‹¬å·ä¸­çš„å†…å®¹ä¸$2å¯¹åº”ã€‚<br>è€Œä¸”è¿˜å¯ä»¥ç›´æ¥åœ¨åé¢åŠ .htmlåšæˆä¼ªé™æ€é¡µé¢ã€‚(\.è¡¨ç¤ºè½¬ä¹‰)<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">RewriteEngine on</div><div class="line"><span class="meta">#RewriteRule ^([a-zA-Z0-9_-]+)/([0-9]+)\.html$ index.php?action=$1&amp;id=$2</span></div></pre></td></tr></table></figure></p>
<p>æœ€åè®¿é—®<strong>xxxx/abc/123.html</strong>å³å¯ã€‚</p>
<p>.htaccessæ–‡ä»¶ä¸­è¿˜å¯ä»¥è®¾ç½®é‡å®šå‘ï¼Œ404é¡µé¢ç­‰ã€‚</p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>åœ¨å…¥å£æ–‡ä»¶index.phpä¸­å¯ä»¥åŠ ä¸€äº›ç»Ÿè®¡ä¿¡æ¯ç­‰ã€‚ä½†ä¸èƒ½åŠ è¿‡å¤šï¼Œå› ä¸ºæ¯æ¬¡è¯·æ±‚éƒ½ä¼šè°ƒç”¨è¿™ä¸ªæ–‡ä»¶ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¤§éƒ¨åˆ†PHPæ¡†æ¶éƒ½æ˜¯åŸºäºå•ä¸€å…¥å£æ¨¡å¼ï¼Œå¦‚Laravelï¼Œyiiï¼Œciï¼Œtpç­‰ï¼Œä¸”é…ç½®éƒ½éå¸¸ç®€å•ã€‚æœ€è¿‘æƒ³æŠŠè‡ªå·±ä»¥å‰å†™çš„ä¸€ä¸ªé›¶æ•£çš„é¡¹ç›®(å…¨æ˜¯å•æ–‡ä»¶æ¨¡å¼)æ•´ç†æˆå•ä¸€å…¥å£æ¨¡å¼ï¼Œäºæ˜¯ç ”ç©¶äº†ä¸‹ï¼Œå®ç°äº†åŸºæœ¬å¯ç”¨çš„åŠŸèƒ½ã€‚åŒ…æ‹¬URLè·¯ç”±ï¼Œç¾åŒ–åŠŸèƒ½ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="PHP" scheme="http://blog.xigulu.com/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨LESSã€SASSè¯­è¨€ç¼–å†™CSS</title>
    <link href="http://blog.xigulu.com/2016/04/24/CSS_LESS_SASS/"/>
    <id>http://blog.xigulu.com/2016/04/24/CSS_LESS_SASS/</id>
    <published>2016-04-23T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘èŠ±æ—¶é—´ç ”ç©¶äº†ä¸‹LESSä¸SASSã€‚è¿™ä¸¤ç§è¯­è¨€ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–CSSçš„ç¼–å†™ï¼Œå¼•å…¥äº†å˜é‡ï¼Œè¿ç®—ï¼Œå‡½æ•°ç­‰ã€‚SASSæ¯”LESSå¼ºå¤§ä¸€äº›ï¼Œæ”¯æŒifã€elseç­‰ã€‚ä¸¤ç§è¯­è¨€åŸºæœ¬å†™æ³•è¿˜æ˜¯ä¸CSSç±»ä¼¼ï¼Œç®€å•ä¹Ÿå¾ˆå¥½ç†è§£ã€‚Bootstrapæ¡†æ¶çš„cssæ–‡ä»¶å°±æ˜¯ç”¨LESSæ¥ç¼–å†™çš„(ä¸è¿‡Bootstrap4.0æ”¹ä¸ºSASSç¼–å†™äº†)ã€‚<br><a id="more"></a></p>
<hr>
<h2 id="LESS"><a href="#LESS" class="headerlink" title="LESS"></a>LESS</h2><p><a href="http://lesscss.org/" target="_blank" rel="external">lesså®˜ç½‘</a><br><a href="http://lesscss.cn/" target="_blank" rel="external">http://lesscss.cn/</a><br><a href="http://www.1024i.com/demo/less/" target="_blank" rel="external">http://www.1024i.com/demo/less/</a></p>
<h3 id="ä¸€äº›LESS-SASSç›¸å…³å·¥å…·"><a href="#ä¸€äº›LESS-SASSç›¸å…³å·¥å…·" class="headerlink" title="ä¸€äº›LESS/SASSç›¸å…³å·¥å…·"></a>ä¸€äº›LESS/SASSç›¸å…³å·¥å…·</h3><p>è¦ç¼–è¯‘lesséœ€è¦lesscå·¥å…·ã€‚åœ¨sublimeç¼–è¾‘å™¨ä¸Šå¯ä»¥ä¸‹è½½lessã€lesscæ’ä»¶ï¼Œä¿å­˜çš„æ—¶å€™è‡ªåŠ¨ç¼–è¯‘cssæ–‡ä»¶ã€‚(æ¨èåªä¸‹è¯­æ³•é«˜äº®å³å¯, ç”¨ä»¥ä¸‹å·¥å…·è¿›è¡Œç¼–è¯‘)</p>
<p>windowsä¸Šç”¨<a href="http://koala-app.com/index-zh.html" target="_blank" rel="external">koala</a>ç¼–è¯‘å³å¯ï¼ˆå›½äººå¼€å‘ï¼‰ã€‚<br>macä¸Šä¹Ÿå¯ä»¥ç”¨koalaï¼Œè¿˜å¯ä»¥ç”¨Codekitã€‚<br>ä½¿ç”¨æ–¹å¼éƒ½æ˜¯æ‹–åŠ¨åŒ…å«less/sass/scssæ–‡ä»¶å³å¯ã€‚è®¾ç½®ä¸ºè‡ªåŠ¨ç¼–è¯‘åï¼Œä¿å­˜æ—¶å³å¯è‡ªåŠ¨ç¼–è¯‘å‡ºcssæ–‡ä»¶ã€‚</p>
<h2 id="LESSçš„åŸºæœ¬è¯­æ³•"><a href="#LESSçš„åŸºæœ¬è¯­æ³•" class="headerlink" title="LESSçš„åŸºæœ¬è¯­æ³•"></a>LESSçš„åŸºæœ¬è¯­æ³•</h2><p>å¼•å…¥å…¶ä»–lessæ–‡ä»¶ç”¨æ³•ï¼š</p>
<blockquote>
<p>@import â€œcommon.lessâ€;   //å¯¼å…¥å…¶ä»–lessæ–‡ä»¶, å¯ä»¥çœç•¥.less</p>
</blockquote>
<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å£°æ˜å˜é‡</span></div><div class="line"><span class="variable">@test_width:</span><span class="number">300px</span>;</div><div class="line"></div><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="variable">@test_width</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="variable">@test_width</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æ··åˆ"><a href="#æ··åˆ" class="headerlink" title="æ··åˆ"></a>æ··åˆ</h3><p>å°±æ˜¯å£°æ˜ä¸€æ®µä»£ç åå…¶ä»–åœ°æ–¹å¯ä»¥ç›´æ¥å¼•ç”¨<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.border</span>&#123;</div><div class="line">    <span class="attribute">border</span>: solid <span class="number">5px</span> palevioletred;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//æ··åˆ, å¯å¸¦å‚æ•°(å¸¦é»˜è®¤å‚æ•°)</span></div><div class="line"><span class="selector-class">.border_02</span>(<span class="variable">@param1</span>:<span class="number">2px</span>)&#123;</div><div class="line">    <span class="attribute">border</span>: solid <span class="variable">@param1</span> yellow;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">    <span class="selector-class">.border</span>;  <span class="comment">//æ··åˆ. ç›´æ¥å°†borderæ’å…¥åˆ°è¿™é‡Œ</span></div><div class="line">	<span class="selector-class">.border_02</span>(<span class="number">10px</span> + <span class="number">10</span>);  <span class="comment">//èƒ½è¿ç®—</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="åŒ¹é…æ¨¡å¼"><a href="#åŒ¹é…æ¨¡å¼" class="headerlink" title="åŒ¹é…æ¨¡å¼"></a>åŒ¹é…æ¨¡å¼</h3><p>æ ¹æ®ä¼ å…¥çš„å‚æ•°è‡ªåŠ¨åŒ¹é…ã€‚<br><figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//åŒ¹é…æ¨¡å¼========================================</span></div><div class="line"><span class="selector-class">.box</span>&#123;</div><div class="line">    <span class="selector-class">.triangle</span>(top,<span class="number">100px</span>);</div><div class="line">    <span class="comment">//.triangle(bottom,100px);</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//è¿™ä¸ªéƒ½ä¼šåŠ è½½</span></div><div class="line"><span class="selector-class">.triangle</span>(<span class="variable">@_</span>,<span class="variable">@width</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.triangle</span>(top,<span class="variable">@width</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</div><div class="line">    <span class="attribute">border-width</span>: <span class="variable">@width</span>;</div><div class="line">    <span class="attribute">border-color</span>: transparent transparent <span class="variable">@color</span> transparent;</div><div class="line">    <span class="attribute">border-style</span>: dashed dashed solid dashed; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.triangle</span>(bottom,<span class="variable">@width</span>:<span class="number">5px</span>,<span class="variable">@color</span>:<span class="number">#ccc</span>)&#123;</div><div class="line">    <span class="attribute">border-width</span>: <span class="variable">@width</span>;</div><div class="line">    <span class="attribute">border-color</span>: <span class="variable">@color</span> transparent  transparent  transparent;</div><div class="line">    <span class="attribute">border-style</span>: solid dashed dashed dashed; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="åµŒå¥—"><a href="#åµŒå¥—" class="headerlink" title="åµŒå¥—"></a>åµŒå¥—</h3><p>è¿™ä¸ªåº”è¯¥æ˜¯çœ‹èµ·æ¥æœ€ç›´è§‚ï¼Œæœ€å¥½ç”¨çš„äº†ã€‚å°±æ˜¯ç›´æ¥æ ¹æ®åŒ…å«å…³ç³»å†™cssã€‚ä¸ç”¨å†ä¸€å±‚å±‚é€‰æ‹©ã€‚</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//åµŒå¥—(ç®€åŒ–cssä¸­çš„åµŒå¥—)===============================</span></div><div class="line"><span class="comment">//.list li&#123;&#125;</span></div><div class="line"><span class="comment">//.list a&#123;&#125;</span></div><div class="line"></div><div class="line"><span class="selector-class">.list</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">0px</span>;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">0px</span> auto;</div><div class="line">    <span class="attribute">list-style</span>: none;</div><div class="line">    </div><div class="line">    <span class="selector-tag">li</span>&#123;</div><div class="line">        <span class="attribute">height</span>: <span class="number">30px</span>;</div><div class="line">        <span class="attribute">line-height</span>: <span class="number">30px</span>;</div><div class="line">        <span class="attribute">background</span>: yellow;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-tag">a</span>&#123;</div><div class="line">        <span class="attribute">float</span>: left;</div><div class="line">        </div><div class="line">        <span class="comment">//hoverå±æ€§</span></div><div class="line">        <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span>&#123;</div><div class="line">            <span class="attribute">color</span>: red;</div><div class="line">            </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå‡ ä¸ªéƒ½æ˜¯æœ€å¸¸ç”¨ä¹Ÿæ˜¯æœ€å¥½ç”¨çš„åŠŸèƒ½ï¼Œæ›´å¤šçš„è¯­æ³•å¯ä»¥å‚è§å®˜ç½‘ã€‚</p>
<hr>
<h2 id="SASS"><a href="#SASS" class="headerlink" title="SASS"></a>SASS</h2><p><a href="http://sass-lang.com/" target="_blank" rel="external">sasså®˜ç½‘</a><br><a href="http://www.w3cplus.com/sassguide/" target="_blank" rel="external">http://www.w3cplus.com/sassguide/</a><br><a href="http://sass.bootcss.com/" target="_blank" rel="external">http://sass.bootcss.com/</a></p>
<p>ç¼–è¯‘sassçš„å·¥å…·æ¨èè¿˜æ˜¯Koalaä¸Codekitï¼Œé‡Œé¢éƒ½æœ‰é›†æˆã€‚</p>
<h3 id="sassä¸scssæ–‡ä»¶çš„æœ€å¤§å·®åˆ«"><a href="#sassä¸scssæ–‡ä»¶çš„æœ€å¤§å·®åˆ«" class="headerlink" title="sassä¸scssæ–‡ä»¶çš„æœ€å¤§å·®åˆ«"></a>sassä¸scssæ–‡ä»¶çš„æœ€å¤§å·®åˆ«</h3><blockquote>
<p>sassä¸å¸¦èŠ±æ‹¬å·{} ä¸åˆ†å·;<br>scsså¸¦èŠ±æ‹¬å·{} ä¸åˆ†å·ç­‰;</p>
</blockquote>
<p>ä¸¤è€…éƒ½æ˜¯sassè¯­è¨€ï¼Œåªæ˜¯scssä¸ºæ–°è¯­æ³•ï¼Œä¸”æ›´åŠ å¸¸è§„æ˜“æ‡‚ã€‚æ‰€ä»¥æ¨èä½¿ç”¨scssæ–‡ä»¶è¿›è¡Œç¼–å†™ï¼Œä»¥ä¸‹éƒ½æ˜¯ç”¨scssçš„æ ¼å¼è¿›è¡Œç¼–å†™çš„ã€‚</p>
<h2 id="SASSçš„åŸºæœ¬è¯­æ³•"><a href="#SASSçš„åŸºæœ¬è¯­æ³•" class="headerlink" title="SASSçš„åŸºæœ¬è¯­æ³•"></a>SASSçš„åŸºæœ¬è¯­æ³•</h2><p>å¼•å…¥å…¶ä»–æ–‡ä»¶ç”¨æ³•ï¼š</p>
<blockquote>
<p>@import â€œa.cssâ€;</p>
</blockquote>
<h3 id="å˜é‡ä¸é»˜è®¤å€¼"><a href="#å˜é‡ä¸é»˜è®¤å€¼" class="headerlink" title="å˜é‡ä¸é»˜è®¤å€¼"></a>å˜é‡ä¸é»˜è®¤å€¼</h3><p>å˜é‡è¿˜æœ‰å¤šå€¼å˜é‡listï¼Œmapç­‰ã€‚<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$blue</span>:<span class="number">#aaa</span>;</div><div class="line"><span class="comment">//listç±»å‹ã€‚å¯ç”¨nth($var,$index)å–å€¼ã€‚</span></div><div class="line"><span class="variable">$mylist</span>: <span class="number">6px</span> <span class="number">10px</span> <span class="number">100px</span>;</div><div class="line"><span class="comment">//mapç±»å‹ã€‚å¯é€šè¿‡map-get($map,$key)å–å€¼ã€‚</span></div><div class="line"><span class="variable">$mymap</span>: (h1: <span class="number">2em</span>, h2: <span class="number">1.5em</span>, h3: <span class="number">1.2em</span>);</div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">color</span>: <span class="variable">$blue</span>;</div><div class="line">    <span class="attribute">width</span>: nth(<span class="variable">$mylist</span>,<span class="number">1</span>);  <span class="comment">//ç¬¬ä¸€ä¸ªå¼€å§‹</span></div><div class="line">    <span class="attribute">height</span>: map-get(<span class="variable">$mymap</span>,h1);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//&gt;é»˜è®¤å€¼.  åé¢åŠ ä¸Š!defaultå³å¯</span></div><div class="line"><span class="variable">$baseLineHeight</span>: <span class="number">2</span>;</div><div class="line"><span class="variable">$baseLineHeight</span>: <span class="number">1.5</span> !default;</div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">    <span class="attribute">line-height</span>: <span class="variable">$baseLineHeight</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.class1</span>&#123;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#FF3366</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//class2ç»§æ‰¿class1</span></div><div class="line"><span class="selector-class">.class2</span>&#123;</div><div class="line">    @<span class="keyword">extend</span> .class1;</div><div class="line">    <span class="attribute">font</span>: arial;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Mixin"><a href="#Mixin" class="headerlink" title="Mixin"></a>Mixin</h3><p>ç±»ä¼¼äºCè¯­è¨€ä¸­çš„å®å®šä¹‰, å¯é‡ç”¨çš„ä»£ç å—.<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">mixin</span> myleft(<span class="variable">$value</span>)&#123;</div><div class="line">    <span class="attribute">float</span>: left;</div><div class="line">    <span class="attribute">height</span>: <span class="variable">$value</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">div</span>&#123;</div><div class="line">    @<span class="keyword">include</span> myleft(<span class="number">100px</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="æ¡ä»¶è¯­å¥"><a href="#æ¡ä»¶è¯­å¥" class="headerlink" title="æ¡ä»¶è¯­å¥"></a>æ¡ä»¶è¯­å¥</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//8.æ¡ä»¶è¯­å¥</span></div><div class="line"><span class="selector-tag">p</span> &#123;</div><div class="line">  @<span class="keyword">if</span> 1 + 1 == 2 &#123; <span class="attribute">border</span>: <span class="number">1px</span> solid;  &#125;</div><div class="line">  @<span class="keyword">if</span> 5 &lt; 3      &#123; <span class="attribute">border</span>: <span class="number">2px</span> dotted; &#125;</div><div class="line">  @<span class="keyword">if</span> null       &#123; <span class="attribute">border</span>: <span class="number">3px</span> double; &#125;</div><div class="line">  </div><div class="line">  @<span class="keyword">if</span> 1&gt;<span class="number">2</span> &#123;</div><div class="line">      </div><div class="line">  &#125; @<span class="keyword">else</span> if 1 == 1 &#123;</div><div class="line">      </div><div class="line">  &#125; @<span class="keyword">else</span> &#123;</div><div class="line">      </div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å¾ªç¯for-while-each"><a href="#å¾ªç¯for-while-each" class="headerlink" title="å¾ªç¯for / while / each"></a>å¾ªç¯for / while / each</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">for</span> <span class="variable">$i</span> from 1 to 10 &#123;</div><div class="line">    <span class="selector-tag">p</span>&#123;</div><div class="line">        <span class="attribute">border</span>: <span class="number">10px</span>+<span class="variable">$i</span> solid <span class="number">#FF0000</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="variable">$i</span>: <span class="number">6</span>;</div><div class="line">@<span class="keyword">while</span> <span class="variable">$i</span> &gt; 0 &#123;</div><div class="line">  <span class="selector-class">.item-</span>#&#123;<span class="variable">$i</span>&#125; &#123; <span class="attribute">width</span>: <span class="number">2em</span> * <span class="variable">$i</span>; &#125;</div><div class="line">  <span class="variable">$i</span>: <span class="variable">$i</span> - <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@<span class="keyword">each</span> <span class="variable">$animal</span> in puma, sea-slug, egret, salamander &#123;</div><div class="line">  .#&#123;<span class="variable">$animal</span>&#125;-<span class="attribute">icon</span> &#123;</div><div class="line">    <span class="attribute">background-image</span>: url(<span class="string">'/images/#&#123;$animal&#125;.png'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦ä¸²-å ä½ç¬¦"><a href="#å­—ç¬¦ä¸²-å ä½ç¬¦" class="headerlink" title="å­—ç¬¦ä¸² / å ä½ç¬¦"></a>å­—ç¬¦ä¸² / å ä½ç¬¦</h3><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å­—ç¬¦ä¸². +å·è¿æ¥. é¢œè‰²ä¹Ÿå¯ä»¥ç›¸åŠ ç›¸ä¹˜.</span></div><div class="line"><span class="selector-tag">p</span>:before &#123;</div><div class="line">  <span class="attribute">font-family</span>: sans- + <span class="string">"serif"</span>;  <span class="comment">//æœ€åè¾“å‡ºsans-serif</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å ä½ç¬¦%</span></div><div class="line"><span class="comment">//abcåªæ˜¯å ç€åœ°æ–¹é¢„ç•™. åªæœ‰å½“ä½¿ç”¨extendåæ‰è°ƒç”¨</span></div><div class="line">%abc &#123;</div><div class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">div</span>&#123;</div><div class="line">    @<span class="keyword">extend</span> %abc;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="åµŒå¥—-1"><a href="#åµŒå¥—-1" class="headerlink" title="åµŒå¥—"></a>åµŒå¥—</h3><p>ä¸lessä¸­çš„ä¸€æ ·<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">div</span>&#123;</div><div class="line">    <span class="selector-tag">ul</span>&#123;</div><div class="line">        <span class="attribute">color</span>: red;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>LESS ä¸ SASSçš„è¯­æ³•ç›¸å·®ä¸å¤§ï¼Œå…¶å®LESSåŸºæœ¬å¤Ÿç”¨ï¼Œä½†SASSä¸­æœ‰å¤šç§ç±»å‹çš„å˜é‡ï¼Œå¾ªç¯ï¼Œæ¡ä»¶è¯­å¥ç­‰ï¼Œç›¸æ¯”æ›´åŠ å¼ºå¤§ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘èŠ±æ—¶é—´ç ”ç©¶äº†ä¸‹LESSä¸SASSã€‚è¿™ä¸¤ç§è¯­è¨€ä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–CSSçš„ç¼–å†™ï¼Œå¼•å…¥äº†å˜é‡ï¼Œè¿ç®—ï¼Œå‡½æ•°ç­‰ã€‚SASSæ¯”LESSå¼ºå¤§ä¸€äº›ï¼Œæ”¯æŒifã€elseç­‰ã€‚ä¸¤ç§è¯­è¨€åŸºæœ¬å†™æ³•è¿˜æ˜¯ä¸CSSç±»ä¼¼ï¼Œç®€å•ä¹Ÿå¾ˆå¥½ç†è§£ã€‚Bootstrapæ¡†æ¶çš„cssæ–‡ä»¶å°±æ˜¯ç”¨LESSæ¥ç¼–å†™çš„(ä¸è¿‡Bootstrap4.0æ”¹ä¸ºSASSç¼–å†™äº†)ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="CSS" scheme="http://blog.xigulu.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>ç¼–å†™jQueryæ’ä»¶</title>
    <link href="http://blog.xigulu.com/2016/04/15/JQuery_plus_in/"/>
    <id>http://blog.xigulu.com/2016/04/15/JQuery_plus_in/</id>
    <published>2016-04-14T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>jQueryæ’ä»¶åˆ†ä¸ºç±»çº§ä¸å¯¹è±¡çº§ï¼Œå‰è€…åŸºæœ¬ä¸ç”¨ã€‚æœ¬æ–‡ä¸»è¦å®ç°ä¸€ä¸ªå¯¼èˆªé¡µï¼Œå¹¶å°†è°ƒç”¨å°è£…æˆjQueryæ’ä»¶å½¢å¼ï¼Œå¯ä»¥é…ç½®äº‹ä»¶ï¼ŒCSSï¼ŒåŠæ”¯æŒjQueryé“¾å¼æ“ä½œç­‰ã€‚<br>æ‰¾æ’ä»¶çš„å‡ ä¸ªç½‘ç«™æ¨è<a href="http://plugins.jquery.com/" target="_blank" rel="external">plugins.jquery.com</a>ï¼Œ<a href="http://www.jq22.com/" target="_blank" rel="external">www.jq22.com</a> ï¼Œ<a href="http://www.htmleaf.com/" target="_blank" rel="external">www.htmleaf.com</a>ã€‚</p>
<a id="more"></a>
<hr>
<h2 id="ç±»çº§åˆ«æ’ä»¶"><a href="#ç±»çº§åˆ«æ’ä»¶" class="headerlink" title="ç±»çº§åˆ«æ’ä»¶"></a>ç±»çº§åˆ«æ’ä»¶</h2><p>ç±»çº§åˆ«æ’ä»¶å°±æ˜¯ç»™jQueryæ·»åŠ é™æ€æ–¹æ³•ã€‚æœ‰ä»¥ä¸‹3ç§æ–¹æ³•ã€‚</p>
<ul>
<li>æ·»åŠ å…¨å±€å‡½æ•°</li>
<li>ä½¿ç”¨$.extend()</li>
<li>ä½¿ç”¨å‘½åç©ºé—´</li>
</ul>
<p>æ’ä»¶å¼€å‘ä¸­åŸºæœ¬ä¸ç”¨è¿™ç§æ–¹å¼ã€‚</p>
<h3 id="æ·»åŠ å…¨å±€å‡½æ•°"><a href="#æ·»åŠ å…¨å±€å‡½æ•°" class="headerlink" title="æ·»åŠ å…¨å±€å‡½æ•°"></a>æ·»åŠ å…¨å±€å‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">jQuery.myAlert = <span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</div><div class="line">    alert(str);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨-extend"><a href="#ä½¿ç”¨-extend" class="headerlink" title="ä½¿ç”¨$.extend()"></a>ä½¿ç”¨$.extend()</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">jQuery.extend(&#123;</div><div class="line">   myAlert:<span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</div><div class="line">       alert(str);</div><div class="line">   &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Š2ç§çš„è°ƒç”¨æ–¹æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$.myAlert(<span class="string">"å“ˆå“ˆå“ˆ!"</span>);</div></pre></td></tr></table></figure></p>
<h3 id="ä½¿ç”¨å‘½åç©ºé—´"><a href="#ä½¿ç”¨å‘½åç©ºé—´" class="headerlink" title="ä½¿ç”¨å‘½åç©ºé—´"></a>ä½¿ç”¨å‘½åç©ºé—´</h3><p>xnspaceä¸ºè‡ªå·±å–çš„åå­—<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">jQuery.xnspace = &#123;</div><div class="line">    myAlert:<span class="function"><span class="keyword">function</span>(<span class="params">str</span>)</span>&#123;</div><div class="line">        alert(str);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è°ƒç”¨æ–¹æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$.xnspace.myAlert(<span class="string">"å“¦å“¦å“¦!"</span>);</div></pre></td></tr></table></figure></p>
<h3 id="æ”¯æŒé“¾å¼æ“ä½œ"><a href="#æ”¯æŒé“¾å¼æ“ä½œ" class="headerlink" title="æ”¯æŒé“¾å¼æ“ä½œ"></a>æ”¯æŒé“¾å¼æ“ä½œ</h3><p>ä»¥æ·»åŠ å…¨å±€å‡½æ•°ä¸ºä¾‹ï¼Œå¯ä»¥è¿™æ ·åšï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">jQuery.myAppend = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">    obj.append(<span class="string">"test"</span>);</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>åªè¦è¿”å›ä¼ å…¥çš„å¯¹è±¡å³å¯ã€‚è°ƒç”¨å½¢å¦‚: </p>
<blockquote>
<p>$.myAppend(â€œ#some_idâ€).text() ;</p>
</blockquote>
<h2 id="å¯¹è±¡çº§åˆ«æ’ä»¶"><a href="#å¯¹è±¡çº§åˆ«æ’ä»¶" class="headerlink" title="å¯¹è±¡çº§åˆ«æ’ä»¶"></a>å¯¹è±¡çº§åˆ«æ’ä»¶</h2><p>å¯¹è±¡çº§å°±æ˜¯å¯¹jQueryå¯¹è±¡è€Œéç›´æ¥ç»™jQueryæ·»åŠ é™æ€æ–¹æ³•ã€‚</p>
<h3 id="æ’ä»¶å¼€å‘åŸºæœ¬æ¨¡ç‰ˆ"><a href="#æ’ä»¶å¼€å‘åŸºæœ¬æ¨¡ç‰ˆ" class="headerlink" title="æ’ä»¶å¼€å‘åŸºæœ¬æ¨¡ç‰ˆ"></a>æ’ä»¶å¼€å‘åŸºæœ¬æ¨¡ç‰ˆ</h3><p>ç„¶åæœ‰ä¸€ä¸ªåŸºæœ¬çš„æ¨¡ç‰ˆï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">;(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</div><div class="line">    $.fn.your_plusin_name = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> defaults = &#123;</div><div class="line">            <span class="comment">//å„ç§å‚æ•°è®¾ç½®</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        options = $.extend(defaults, options);</div><div class="line"></div><div class="line">        <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="comment">//å®ç°å„ç§åŠŸèƒ½çš„ä»£ç </span></div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">//æ”¯æŒé“¾å¼æ“ä½œ</span></div><div class="line">    &#125;</div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure></p>
<h2 id="ä¸€ä¸ªå¯¼èˆªæ’ä»¶å®ä¾‹"><a href="#ä¸€ä¸ªå¯¼èˆªæ’ä»¶å®ä¾‹" class="headerlink" title="ä¸€ä¸ªå¯¼èˆªæ’ä»¶å®ä¾‹"></a>ä¸€ä¸ªå¯¼èˆªæ’ä»¶å®ä¾‹</h2><p>åŸºæœ¬çš„HTMLä¸CSSå¸ƒå±€ï¼Œä¸‹é¢æ˜¯å®ç°ä¸€ä¸ªå¯¼èˆªã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../jquery-2.2.2.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery-NavDemo-1.0.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line"></div><div class="line">    /*æ¸…é™¤lié»˜è®¤é—´è·*/</div><div class="line">    *&#123;</div><div class="line">        padding: 0px;</div><div class="line">        margin: 0px;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    .myTabNav&#123;</div><div class="line">        list-style-type: none; /*åˆ—è¡¨åœ†ç‚¹å»æ‰*/</div><div class="line">    &#125;</div><div class="line">    .myTabNav li&#123;</div><div class="line">        float: left;</div><div class="line">        width: 150px;</div><div class="line">        height: 30px;</div><div class="line">        line-height: 30px;  /*æ•´è¡Œ*/</div><div class="line">        text-align: center;</div><div class="line">        border: 1px solid darkorchid;</div><div class="line">        border-bottom: none;</div><div class="line">        cursor: pointer; /*æ‰‹å½¢*/</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    .myTabNav li.current&#123;</div><div class="line">        background: orange;</div><div class="line">        color: #0099ff;</div><div class="line">        font-weight: 700;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    .myTabNavContent&#123;</div><div class="line">        clear: both; /*æ˜¾ç¤ºç¬¬ä¸€ä¸ª*/</div><div class="line">    &#125;</div><div class="line">    .myTabNavContent div&#123;</div><div class="line">        border: 1px solid indigo;</div><div class="line">        width: 453px;/**151*3*/</div><div class="line">        height: 300px;</div><div class="line">        display: none;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   		<span class="comment">//è°ƒç”¨æ’ä»¶</span></div><div class="line">        $(<span class="string">".myTab"</span>).myNavPlusin(&#123;</div><div class="line">            currentClass:<span class="string">'current'</span>,</div><div class="line">            nav:<span class="string">'.myTabNav&gt;li'</span>,</div><div class="line">            navContent:<span class="string">'.myTabNavContent&gt;div'</span>,</div><div class="line">            eventType:<span class="string">'mouseover'</span></div><div class="line">        &#125;);</div><div class="line">        <span class="comment">//&#125;).find(".myTabNav&gt;li").css("background","yellow");  //é“¾å¼æ“ä½œ</span></div><div class="line"></div><div class="line">    &#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"myTab"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"myTabNav"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"current"</span>&gt;</span>ä¸»é¡µ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸‹è½½<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"myTabNavContent"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"display: block"</span>&gt;</span>è¿™æ˜¯ä¸»é¡µçš„å†…å®¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>è¿™æ˜¯ä¸‹è½½é¡µçš„å†…å®¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>è¿™æ˜¯å…³äºé¡µé¢<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>åšæˆæ’ä»¶å½¢å¼ï¼Œå‘½åjquery-NavDemo-1.0.jsã€‚<br>ç„¶åå°†JavaScriptä»£ç å°è£…åˆ°jsæ–‡ä»¶ä¸­ï¼Œåªéœ€åœ¨htmlæ–‡ä»¶ä¸­å¼•å…¥ï¼Œä½œç®€å•é…ç½®å³å¯å®ç°åŠŸèƒ½ã€‚</p>
<p>htmlä¸­è°ƒç”¨çš„jsæ¡†æ¶éƒ¨åˆ†ä»£ç ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   		<span class="comment">//è°ƒç”¨æ’ä»¶. ä¸è®¾ç½®å‚æ•°çš„è¯, ä¼šç”¨é»˜è®¤å‚æ•°.</span></div><div class="line">        $(<span class="string">".myTab"</span>).myNavPlusin(&#123;</div><div class="line">            currentClass:<span class="string">'current'</span>,</div><div class="line">            nav:<span class="string">'.myTabNav&gt;li'</span>,</div><div class="line">            navContent:<span class="string">'.myTabNavContent&gt;div'</span>,</div><div class="line">            eventType:<span class="string">'mouseover'</span></div><div class="line">        &#125;);</div><div class="line">        <span class="comment">//&#125;).find(".myTabNav&gt;li").css("background","yellow");  //é“¾å¼æ“ä½œ</span></div><div class="line"></div><div class="line">    &#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>jquery-TableDemo-1.0.jsä¸­çš„ä»£ç ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">;(<span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</div><div class="line">    $.fn.myNavPlusin = <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> defaults = &#123;</div><div class="line">            <span class="comment">//å„ç§å¯ä»¥è‡ªå®šä¹‰çš„å‚æ•°</span></div><div class="line">            currentClass:<span class="string">'current'</span>,</div><div class="line">            nav:<span class="string">'.myTabNav&gt;li'</span>,</div><div class="line">            navContent:<span class="string">'.myTabNavContent&gt;div'</span>,</div><div class="line">            eventType:<span class="string">'click'</span>,</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        options = $.extend(defaults, options);</div><div class="line"></div><div class="line">        <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="comment">//å®ç°å„ç§åŠŸèƒ½çš„ä»£ç </span></div><div class="line">            <span class="keyword">var</span> _this = $(<span class="keyword">this</span>);</div><div class="line">            _this.find(options.nav).bind(options.eventType,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                <span class="comment">//ä¸ºæ‰¾åˆ°çš„æ·»åŠ currentClass, å¹¶ç§»é™¤æ‰€æœ‰åŒèƒå­å…ƒç´ çš„currentClass</span></div><div class="line">                $(<span class="keyword">this</span>).addClass(options.currentClass).siblings().removeClass(options.currentClass);</div><div class="line"></div><div class="line">                <span class="comment">//navçš„contentè®¾ç½®: æ‰¾åˆ°å½“å‰ç‚¹å‡»çš„æ˜¾ç¤º, å¹¶ä¸”éšè—åŒèƒå­å…ƒç´ .</span></div><div class="line">                <span class="keyword">var</span> index = $(<span class="keyword">this</span>).index();</div><div class="line">                _this.find(options.navContent).eq(index).show().siblings().hide();</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;  <span class="comment">//æ”¯æŒé“¾å¼æ“ä½œ</span></div><div class="line">    &#125;</div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure></p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>åœ¨ä½¿ç”¨åˆ«äººçš„jQueryæ’ä»¶æ—¶ï¼Œä¼šå‘ç°ä¹Ÿæ˜¯è¿™ç§è°ƒç”¨ä¸é…ç½®æ–¹å¼ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;jQueryæ’ä»¶åˆ†ä¸ºç±»çº§ä¸å¯¹è±¡çº§ï¼Œå‰è€…åŸºæœ¬ä¸ç”¨ã€‚æœ¬æ–‡ä¸»è¦å®ç°ä¸€ä¸ªå¯¼èˆªé¡µï¼Œå¹¶å°†è°ƒç”¨å°è£…æˆjQueryæ’ä»¶å½¢å¼ï¼Œå¯ä»¥é…ç½®äº‹ä»¶ï¼ŒCSSï¼ŒåŠæ”¯æŒjQueryé“¾å¼æ“ä½œç­‰ã€‚&lt;br&gt;æ‰¾æ’ä»¶çš„å‡ ä¸ªç½‘ç«™æ¨è&lt;a href=&quot;http://plugins.jquery.com/&quot;&gt;plugins.jquery.com&lt;/a&gt;ï¼Œ&lt;a href=&quot;http://www.jq22.com/&quot;&gt;www.jq22.com&lt;/a&gt; ï¼Œ&lt;a href=&quot;http://www.htmleaf.com/&quot;&gt;www.htmleaf.com&lt;/a&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="jQuery" scheme="http://blog.xigulu.com/tags/jQuery/"/>
    
      <category term="æ’ä»¶" scheme="http://blog.xigulu.com/tags/%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>JSONPå¤„ç†è·¨åŸŸè¯·æ±‚åŠWEBä¸­JSONå¤„ç†</title>
    <link href="http://blog.xigulu.com/2016/04/09/JQuery_JS_JSON_JSONP_data/"/>
    <id>http://blog.xigulu.com/2016/04/09/JQuery_JS_JSON_JSONP_data/</id>
    <published>2016-04-08T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>Ajaxä¸­é»˜è®¤æ˜¯ä¸å…è®¸è·¨åŸŸè®¿é—®çš„ï¼Œæ„æ€å°±æ˜¯Ajaxä¸èƒ½è¯·æ±‚å…¶ä»–æœåŠ¡å™¨çš„æ•°æ®ã€‚ç”¨jsonpï¼ˆjson with paddingï¼Œç¿»è¯‘æ˜¯å¡«å……å¼jsonï¼Œå‚æ•°å¼jsonï¼‰å¯ä»¥é—´æ¥è§£å†³è·¨åŸŸé—®é¢˜ã€‚å› ä¸ºWEBç«¯ä¹Ÿç»å¸¸éœ€è¦å¤„ç†JSONæ•°æ®ï¼Œè®°å½•ä¸€ä¸‹WEBç«¯æ¥æ”¶JSONåçš„ä¸€äº›å¤„ç†æ–¹æ³•ã€‚</p>
<a id="more"></a>
<hr>
<h2 id="getJSONå¤„ç†è·¨åŸŸæ–¹æ³•"><a href="#getJSONå¤„ç†è·¨åŸŸæ–¹æ³•" class="headerlink" title="getJSONå¤„ç†è·¨åŸŸæ–¹æ³•"></a>getJSONå¤„ç†è·¨åŸŸæ–¹æ³•</h2><p>JQueryå°è£…çš„Ajaxæ–¹æ³•å¾ˆå¥½ç”¨ï¼Œç›´æ¥ç”¨getJSONæ¥å®ç°è·¨åŸŸæ¯”è¾ƒç›´è§‚ï¼Œç”¨çš„å°±æ˜¯JSONPã€‚</p>
<h3 id="WEBç«¯ä»£ç -åªèƒ½get"><a href="#WEBç«¯ä»£ç -åªèƒ½get" class="headerlink" title="WEBç«¯ä»£ç (åªèƒ½get)"></a>WEBç«¯ä»£ç (åªèƒ½get)</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>getJSONæµ‹è¯•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../JQuery/jquery-2.2.2.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">    $(document).ready(function()&#123;</div><div class="line"></div><div class="line">        //æœ¬æœåŠ¡å™¨</div><div class="line">        $("#btn1").click(function()&#123;</div><div class="line">            $.getJSON("server.php", function (data) &#123;</div><div class="line">                alert(data);</div><div class="line">                alert(data.name); //è·å–name</div><div class="line">            &#125;);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        //å…¶ä»–æœåŠ¡å™¨ï¼š è·¨åŸŸ.</div><div class="line">        $("#btn2").click(function()&#123;</div><div class="line">            var url ="http://localhost:8088/server.php?jsoncallback=?";</div><div class="line">            $.getJSON(url,function(data)&#123;</div><div class="line">                alert(data.name+"\n"+data.age);</div><div class="line">            &#125;);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">    &#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn1"</span>&gt;</span>getJSONæœ¬æœåŠ¡å™¨<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">id</span>=<span class="string">"btn2"</span>&gt;</span>getJSONè·¨åŸŸæœåŠ¡å™¨<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>æœ¬åœ°å¼€2ä¸ªæœåŠ¡å™¨ï¼Œå¦ä¸€ä¸ªç«¯å£è®¾ä¸º8088ã€‚<br>è·¨åŸŸè®¿é—®è¦æ±‚æ ¼å¼ï¼š<br><strong>xx.php?å‚æ•°å=?</strong></p>
<p>å¯¹åº”çš„æœåŠ¡å™¨ç«¯è¾“å‡ºjsonæ ¼å¼(å¸¦æ‹¬å·):<br><strong>å‚æ•°åå¯¹åº”å€¼ (jsonæ•°æ®)</strong></p>
<h3 id="å¯¹åº”æœåŠ¡å™¨ç«¯ä»£ç "><a href="#å¯¹åº”æœåŠ¡å™¨ç«¯ä»£ç " class="headerlink" title="å¯¹åº”æœåŠ¡å™¨ç«¯ä»£ç :"></a>å¯¹åº”æœåŠ¡å™¨ç«¯ä»£ç :</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$arr = <span class="keyword">array</span>(<span class="string">"name"</span>=&gt;<span class="string">"xuneng"</span>,<span class="string">"age"</span>=&gt;<span class="string">"12"</span>);</div><div class="line"></div><div class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[<span class="string">'jsoncallback'</span>]))&#123;</div><div class="line">	<span class="comment">//è·¨åŸŸ</span></div><div class="line">    <span class="keyword">echo</span> $_GET[<span class="string">'jsoncallback'</span>].<span class="string">"("</span>.json_encode($arr).<span class="string">")"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">echo</span> json_encode($arr);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="JSä¸­JSONæ•°æ®å¤„ç†æ–¹æ³•"><a href="#JSä¸­JSONæ•°æ®å¤„ç†æ–¹æ³•" class="headerlink" title="JSä¸­JSONæ•°æ®å¤„ç†æ–¹æ³•"></a>JSä¸­JSONæ•°æ®å¤„ç†æ–¹æ³•</h2><h3 id="JSON-gt-å­—ç¬¦ä¸²"><a href="#JSON-gt-å­—ç¬¦ä¸²" class="headerlink" title="JSON ==&gt; å­—ç¬¦ä¸²"></a>JSON ==&gt; å­—ç¬¦ä¸²</h3><ul>
<li>æ–¹æ³•ï¼š<strong>eval</strong><br>var jsonObj = eval(â€˜(â€˜ + str + â€˜)â€™);<br>JSONä¸­å¼•å·å¯ä»¥å•åŒé€šç”¨ï¼Œè¿™ä¸ªæœ€å¸¸ç”¨ã€‚</li>
<li>æ–¹æ³•ï¼š<strong>parseJSON</strong><br>jQuery.parseJSON(str);<br>åªæ”¯æŒæ ‡å‡†JSON</li>
<li>æ–¹æ³•ï¼š<strong>parse</strong><br>JSON.parse(str);<br>åªæ”¯æŒæ ‡å‡†JSON</li>
</ul>
<h3 id="å­—ç¬¦ä¸²-gt-JSON"><a href="#å­—ç¬¦ä¸²-gt-JSON" class="headerlink" title="å­—ç¬¦ä¸² ==&gt; JSON"></a>å­—ç¬¦ä¸² ==&gt; JSON</h3><ul>
<li>æ–¹æ³•ï¼š<strong>toJSONString</strong><br>obj.toJSONString()<br>JSONä¸­å¼•å·å¯ä»¥å•åŒé€šç”¨ï¼Œè¿™ä¸ªæœ€å¸¸ç”¨ã€‚</li>
<li>æ–¹æ³•ï¼š<strong>stringify</strong><br>JSON.stringify(obj);</li>
</ul>
<h3 id="JSONè¯»å–ä¸éå†"><a href="#JSONè¯»å–ä¸éå†" class="headerlink" title="JSONè¯»å–ä¸éå†"></a>JSONè¯»å–ä¸éå†</h3><p>ç”¨ç‚¹å·ï¼Œä¸‹æ ‡è¿›è¡Œè¯»å–ã€‚</p>
<p>ç›´æ¥ä¸Šä¸€æ®µç»¼åˆä»£ç ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>JSONå¤„ç†<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../jquery-2.2.2.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="xml"></span></div><div class="line">        $(function () &#123;</div><div class="line"></div><div class="line">            $("#myBtn1").click(function () &#123;</div><div class="line">                //å­—ç¬¦ä¸²==&gt;JSON</div><div class="line">                var str = '&#123; "username": "John" &#125;';  //èƒ½è§£æjson, å¼•å·å•åŒæ— æ‰€è°“.</div><div class="line">                var jsonObj = eval('(' + str + ')');</div><div class="line">                alert(jsonObj.username);</div><div class="line">                /*</div><div class="line">                 è¿™ä¸¤è€…åªæ”¯æŒæ ‡å‡†çš„JSONæ ¼å¼</div><div class="line">                 jQuery.parseJSON(str)</div><div class="line">                 JSON.parse(str);</div><div class="line">                 è¦è§£æè·Ÿä¸æ ‡å‡†çš„JSON, å¯ä»¥ç”¨JQueryæ‰©å±•.</div><div class="line">                 */</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            $("#myBtn2").click(function () &#123;</div><div class="line">                //JSON==&gt;å­—ç¬¦ä¸²</div><div class="line">                //obj.toJSONString();</div><div class="line">                //æˆ–è€…JSON.stringify(obj);</div><div class="line">                var jsonObj = &#123;"username": "Tim"&#125;;  //è¿™å°±æ˜¯JSON</div><div class="line">                alert(jsonObj.username);</div><div class="line">                alert(jsonObj.toString());</div><div class="line">                alert(JSON.stringify(jsonObj));</div><div class="line"></div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            $("#myBtn3").click(function () &#123;</div><div class="line">                //JSONè¯»å–</div><div class="line">                var jsonObj = &#123;</div><div class="line">                    root: [&#123;'name': '6200', 'value': '0'&#125;, &#123;'name': '6101', 'value': 'xa'&#125;, &#123;</div><div class="line">                        'name': '6102',</div><div class="line">                        'value': 'beijing'</div><div class="line">                    &#125;, &#123;'name': '6103', 'value': 'haerbin'&#125;]</div><div class="line">                &#125;;</div><div class="line">                //ç®€å•è¯»å–</div><div class="line">                alert(jsonObj.root[0].name);</div><div class="line"></div><div class="line">                //å¾ªç¯è¯»å–</div><div class="line">                $.each(jsonObj.root, function(index,item)&#123;</div><div class="line">                    $("#jsonData").append(</div><div class="line">                            "<span class="tag">&lt;<span class="name">p</span>&gt;</span>" +index+ " : " +item.name+ "<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">hr</span>/&gt;</span>"</div><div class="line">                    )</div><div class="line"></div><div class="line">                &#125;);</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">        &#125;);</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"myBtn1"</span>&gt;</span>string=&gt;JSON<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"myBtn2"</span>&gt;</span>JSON=&gt;string<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"myBtn3"</span>&gt;</span>JSONæ•°æ®è§£æ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"jsonData"</span>&gt;</span>æ•°æ®<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>ä»¥ä¸Šè®°å½•ä¸€äº›webç«¯å…³äºJSONç›¸å…³çš„ä¸œè¥¿ã€‚æœ‰äº›é€šè¿‡å­¦ä¹ JavaScriptä¸JQueryæ–‡æ¡£è®°å½•ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Ajaxä¸­é»˜è®¤æ˜¯ä¸å…è®¸è·¨åŸŸè®¿é—®çš„ï¼Œæ„æ€å°±æ˜¯Ajaxä¸èƒ½è¯·æ±‚å…¶ä»–æœåŠ¡å™¨çš„æ•°æ®ã€‚ç”¨jsonpï¼ˆjson with paddingï¼Œç¿»è¯‘æ˜¯å¡«å……å¼jsonï¼Œå‚æ•°å¼jsonï¼‰å¯ä»¥é—´æ¥è§£å†³è·¨åŸŸé—®é¢˜ã€‚å› ä¸ºWEBç«¯ä¹Ÿç»å¸¸éœ€è¦å¤„ç†JSONæ•°æ®ï¼Œè®°å½•ä¸€ä¸‹WEBç«¯æ¥æ”¶JSONåçš„ä¸€äº›å¤„ç†æ–¹æ³•ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="JQuery" scheme="http://blog.xigulu.com/tags/JQuery/"/>
    
  </entry>
  
  <entry>
    <title>ç‚¹èµåŠŸèƒ½ï¼šä»æ•°æ®åº“è®¾è®¡åˆ°Webç«¯å®ç°åˆ†æ</title>
    <link href="http://blog.xigulu.com/2016/04/06/PHP_dian_like_design/"/>
    <id>http://blog.xigulu.com/2016/04/06/PHP_dian_like_design/</id>
    <published>2016-04-05T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç‚¹èµåŠŸèƒ½éœ€æ±‚ï¼šç”¨æˆ·èƒ½ç‚¹èµï¼Œèƒ½å–æ¶ˆèµï¼ŒåŒæ—¶èƒ½æŸ¥çœ‹èµäº†è¯¥æ¡çŠ¶æ€çš„æ‰€æœ‰äººï¼Œå¯èƒ½è¿˜éœ€è¦æé†’å‘è¯¥æ¡çŠ¶æ€çš„äººè°è°è°èµäº†ä½ ã€‚<br>webç«¯å®ç°ï¼šæ˜¾ç¤ºç‚¹èµæ•°ï¼Œå½“æœ‰ç”¨æˆ·èµäº†è¯¥çŠ¶æ€ï¼Œåˆ™ç‚¹èµæ•°+1ç­‰ã€‚<br>æœ¬æ–‡ä»ç‚¹èµåŠŸèƒ½çš„æ•°æ®åº“è®¾è®¡è¯´èµ·ï¼Œä¸€æ­¥æ­¥åˆ°å„ä¸ªåŠŸèƒ½çš„åŸºæœ¬å®ç°æ–¹æ³•ã€‚<br><a id="more"></a></p>
<h2 id="æ•°æ®åº“è®¾è®¡"><a href="#æ•°æ®åº“è®¾è®¡" class="headerlink" title="æ•°æ®åº“è®¾è®¡"></a>æ•°æ®åº“è®¾è®¡</h2><p>é¦–å…ˆæ˜¯2å¼ è¡¨ï¼Œt_userè¡¨ä¸t_tatusè¡¨ï¼Œåˆ†åˆ«è¡¨ç¤ºç”¨æˆ·è¡¨ä¸çŠ¶æ€è¡¨ã€‚Psï¼šè¿™ä¸ªç‚¹èµåŠŸèƒ½æ˜¯éœ€è¦ç™»å½•çš„ã€‚ï¼ˆå¦‚æœæ˜¯ä¸éœ€è¦ç™»å½•å°±èƒ½ç‚¹èµï¼Œæœ€å¥½è¿˜éœ€è¦å¤šä¸ªå­—æ®µæˆ–æ–°è¡¨æ¥è®°å½•ç”¨æˆ·IPï¼Œé˜²æ­¢é‡å¤ç‚¹èµï¼‰<br>é‚£ä¹ˆå…³é”®æ˜¯ç‚¹èµåŠŸèƒ½æ€ä¹ˆåœ¨æ•°æ®åº“ä¸­è¡¨ç°å‡ºæ¥ã€‚</p>
<p>åˆšå¼€å§‹æˆ‘è§‰å¾—ç›´æ¥åœ¨t_tatusè¡¨ä¸­åŠ ä¸€ä¸ªlikeå­—æ®µï¼Œå½“æœ‰ç”¨æˆ·ç‚¹äº†èµï¼Œç›´æ¥æ‹¼ä¸ªuser_idç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç”¨é€—å·éš”å¼€ï¼Œ å½¢å¦‚1,2,3,4å†™å…¥å³å¯ã€‚éº»çƒ¦çš„æ˜¯æ¯æ¬¡å†™å…¥æ–°çš„idéƒ½è¦é‡æ–°æ‹¼ä¸€æ¬¡å­—ç¬¦ä¸²ï¼Œå–æ¶ˆèµä¹Ÿè¦æ“ä½œä¸€æ¬¡å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡å–å¾—èµçš„æ‰€æœ‰äººä¹Ÿè¦å¤„ç†å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡è®¡ç®—èµçš„äººæ•°ä¹Ÿè¦æ‹†ä¸€æ¬¡å­—ç¬¦ä¸²ã€‚<br>å½“æ˜¯è¿™ç§å†™æ³•ä¹Ÿä¸æ˜¯æ²¡å¥½å¤„ï¼ŒèŠ‚çœç©ºé—´ï¼Œä¸ç”¨æ–°è¡¨ï¼Œæ•°æ®åº“å¼€é”€å°ã€‚æ— éè®¡ç®—å­—ç¬¦ä¸²æ¥æ¥å›å›æ¯”è¾ƒæµªè´¹æ—¶é—´ã€‚<br>ä¸ºäº†ä»¥åæŸ¥è¯¢å¥½å¤„ç†ä¸€ç‚¹ï¼Œæˆ‘çš„å®ç°è¿˜æ˜¯æ–°å»ºäº†ä¸€å¼ t_likeè¡¨ï¼ˆæœ‰æ–°æ–¹æ¡ˆçš„å°ä¼™ä¼´å¯ä»¥è¯„è®ºç•™è¨€è®¨è®ºï¼‰ï¼Œç»“æ„å¦‚ä¸‹ã€‚</p>
<p>è¡¨t_userç»“æ„ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`t_user`</span> (</div><div class="line"><span class="string">`userID`</span>  <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</div><div class="line"><span class="string">`username`</span>  <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">UNIQUE</span>,</div><div class="line"><span class="string">`nickname`</span>  <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> ,</div><div class="line"><span class="string">`pwd`</span>  <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> ,</div><div class="line"><span class="string">`phoneno`</span>  <span class="built_in">varchar</span>(<span class="number">64</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> ,  </div><div class="line">PRIMARY <span class="keyword">KEY</span> (<span class="string">`userID`</span>)</div><div class="line">)</div></pre></td></tr></table></figure>
<p>è¡¨t_tatusç»“æ„ï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`t_tatus`</span> (</div><div class="line"><span class="string">`statusID`</span>  <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</div><div class="line"><span class="string">`userID`</span>  <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> ,</div><div class="line"><span class="string">`statusContent`</span>  <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> ,</div><div class="line">PRIMARY <span class="keyword">KEY</span> (<span class="string">`statusID`</span>)</div><div class="line">)</div></pre></td></tr></table></figure></p>
<p>è¡¨t_likeç»“æ„ï¼šï¼ˆåŒä¸»é”®ï¼‰<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`t_like`</span> (</div><div class="line"><span class="string">`statusID`</span>  <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> ,</div><div class="line"><span class="string">`userID`</span>  <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> ,</div><div class="line"><span class="string">`createTime`</span>  <span class="built_in">varchar</span>(<span class="number">45</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> ,</div><div class="line">PRIMARY <span class="keyword">KEY</span> (<span class="string">`statusID`</span>,<span class="string">`userID`</span>)</div><div class="line">)</div></pre></td></tr></table></figure></p>
<h2 id="æœåŠ¡å™¨ç«¯"><a href="#æœåŠ¡å™¨ç«¯" class="headerlink" title="æœåŠ¡å™¨ç«¯"></a>æœåŠ¡å™¨ç«¯</h2><p>æœåŠ¡å™¨ç«¯ä¸»è¦åšçš„å°±æ˜¯ç‚¹èµæ—¶åœ¨t_likeè¡¨ä¸­æ’å…¥ä¸€æ¡æ•°æ®ï¼Œå–æ¶ˆèµæ—¶æ‰¾åˆ°t_likeè¡¨ä¸­çš„å¯¹åº”æ•°æ®åˆ é™¤ï¼Œå¾ˆeasyã€‚PSï¼šå¯èƒ½è¿˜éœ€è¦ç»Ÿè®¡èµçš„ä¸ªæ•°å¹¶è¿”å›ï¼Œsqlè¯­å¥count()ä¸€ä¸‹ã€‚<br>æ–‡ä»¶ålike.php<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">require_once</span>(<span class="string">'common.php'</span>);</div><div class="line"></div><div class="line"><span class="comment">//http:localhost/like.php?userID=1&amp;statusID=1&amp;getMethod=web&amp;do=auto</span></div><div class="line"></div><div class="line">$userID = $_GET[<span class="string">'userID'</span>];</div><div class="line">$statusID = $_GET[<span class="string">'statusID'</span>];</div><div class="line">$getMethod = $_GET[<span class="string">'getMethod'</span>];  <span class="comment">//è¯·æ±‚æ–¹å¼, å¦‚æœæ˜¯web, åˆ™è¿”å›åœ°å€</span></div><div class="line">$do = $_GET[<span class="string">'do'</span>];  <span class="comment">//like æˆ–è€… unlike æˆ–è€… auto(è‡ªåŠ¨åˆ¤æ–­)</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> (!<span class="keyword">isset</span>($userID) || !<span class="keyword">isset</span>($statusID)) &#123;</div><div class="line">    <span class="keyword">return</span> Response::show(<span class="number">401</span>, <span class="string">'å‚æ•°ä¸åˆæ³•'</span>);</div><div class="line">    eixt();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//ç™»å½•æ£€æµ‹</span></div><div class="line"><span class="comment">//xxxx</span></div><div class="line"></div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">    $connect = Db::getInstance()-&gt;connect();</div><div class="line">&#125; <span class="keyword">catch</span> (<span class="keyword">Exception</span> $e) &#123;</div><div class="line">    <span class="keyword">return</span> Response::show(<span class="number">403</span>, <span class="string">'æ•°æ®åº“è¿æ¥å¤±è´¥'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">do_like</span><span class="params">($connect,$getMethod,$statusID,$userID)</span></span>&#123;</div><div class="line">    $nowTime = date(<span class="string">'Y-m-d H:i:s'</span>, time());</div><div class="line"></div><div class="line">    $sql = <span class="string">"INSERT INTO t_like(statusID,userID,createTime) VALUES ($statusID,$userID,'$nowTime')"</span>;</div><div class="line">    $result = mysql_query($sql, $connect);</div><div class="line"></div><div class="line">    <span class="keyword">if</span> ($result) &#123;</div><div class="line">        <span class="keyword">if</span> ($getMethod == <span class="string">"web"</span>) &#123;</div><div class="line">            <span class="keyword">echo</span> <span class="string">"Y"</span>;</div><div class="line">        &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> Response::show(<span class="number">402</span>, <span class="string">'ç‚¹èµå¤±è´¥'</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">do_unlike</span><span class="params">($connect,$getMethod,$statusID,$userID)</span></span>&#123;</div><div class="line"></div><div class="line">    $sql = <span class="string">"delete from t_like where statusID=$statusID and userID=$userID"</span>;</div><div class="line">    $result = mysql_query($sql, $connect);</div><div class="line"></div><div class="line">    <span class="keyword">if</span> ($result) &#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> ($getMethod == <span class="string">"web"</span>) &#123;</div><div class="line">            <span class="keyword">echo</span> <span class="string">"N"</span>;</div><div class="line">        &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> Response::show(<span class="number">403</span>, <span class="string">'å–æ¶ˆèµå¤±è´¥'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($do == <span class="string">"auto"</span>)&#123;</div><div class="line">    <span class="comment">//1.åˆ¤æ–­æ˜¯å¦èµè¿‡.èµè¿‡-&gt;å–æ¶ˆèµ; æœªèµè¿‡, ç‚¹èµ.</span></div><div class="line">    $sql = <span class="string">"SELECT createTime FROM t_like WHERE statusID=$statusID and userID=$userID"</span>;</div><div class="line"></div><div class="line">    $query = mysql_query($sql,$connect);</div><div class="line">    <span class="keyword">if</span> ($query) &#123;</div><div class="line">        <span class="keyword">if</span> ($rs = mysql_fetch_array($query)) &#123;</div><div class="line">            <span class="comment">//æœ‰å€¼, è¡¨ç¤ºå·²ç»èµ</span></div><div class="line">            do_unlike($connect,$getMethod,$statusID,$userID);</div><div class="line">        &#125;<span class="keyword">else</span> &#123;</div><div class="line">            <span class="comment">//æœªèµ</span></div><div class="line">            do_like($connect,$getMethod,$statusID,$userID);</div><div class="line">        &#125;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> Response::show(<span class="number">401</span>, <span class="string">'æŸ¥è¯¢å¤±è´¥'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;<span class="keyword">else</span></div><div class="line"><span class="keyword">if</span> ($do == <span class="string">"like"</span>) &#123;</div><div class="line"></div><div class="line">    do_like($connect,$getMethod);</div><div class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> ($do == <span class="string">"unlike"</span>) &#123;</div><div class="line"></div><div class="line">    do_unlike($connect,$getMethod,$statusID,$userID);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">return</span> Response::show(<span class="number">401</span>, <span class="string">'å‚æ•°ä¸åˆæ³•'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>common.phpæ–‡ä»¶ä¸­åŒ…å«äº†ä¸€äº›å°è£…çš„è¿”å›ä¿¡æ¯ï¼Œæ•°æ®åº“è¿æ¥å°è£…ã€‚</p>
<h2 id="webç«¯"><a href="#webç«¯" class="headerlink" title="webç«¯"></a>webç«¯</h2><h3 id="Ajaxå®ç°webç«¯ç‚¹èµ"><a href="#Ajaxå®ç°webç«¯ç‚¹èµ" class="headerlink" title="Ajaxå®ç°webç«¯ç‚¹èµ"></a>Ajaxå®ç°webç«¯ç‚¹èµ</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span> = <span class="string">"zanName"</span> <span class="attr">onclick</span>=<span class="string">"demo()"</span>&gt;</span>èµ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    ajaxç‚¹å‡»æ›´æ–°èµçš„æ•°ç›®</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">//1.åˆ›å»ºXMLHttpRequest å¯¹è±¡</span></div><div class="line">        <span class="keyword">var</span> xmlhttp;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;<span class="comment">// code for IE7+, Firefox, Chrome, Opera, Safari</span></div><div class="line">            xmlhttp = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;<span class="comment">// code for IE6, IE5</span></div><div class="line">            xmlhttp = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">//2.å‘é€getè¯·æ±‚</span></div><div class="line">        xmlhttp.open(<span class="string">"GET"</span>, <span class="string">"like.php?userID=1&amp;statusID=1&amp;getMethod=web&amp;do=auto"</span>, <span class="literal">true</span>);</div><div class="line">        xmlhttp.send();</div><div class="line"></div><div class="line">        <span class="comment">//3.è·å–å“åº”å¹¶æ˜¾ç¤º</span></div><div class="line">        <span class="comment">//å¦‚æœæ¥è‡ªæœåŠ¡å™¨çš„å“åº”å¹¶é XMLï¼Œè¯·ä½¿ç”¨ responseText å±æ€§ã€‚</span></div><div class="line">        <span class="comment">//å¦‚æœæ¥è‡ªæœåŠ¡å™¨çš„å“åº”æ˜¯ XMLï¼Œè€Œä¸”éœ€è¦ä½œä¸º XML å¯¹è±¡è¿›è¡Œè§£æï¼Œè¯·ä½¿ç”¨ responseXML å±æ€§.</span></div><div class="line">        <span class="comment">//document.getElementById("myDiv").innerHTML = xmlhttp.responseText;</span></div><div class="line">        xmlhttp.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (xmlhttp.readyState == <span class="number">4</span> &amp;&amp; xmlhttp.status == <span class="number">200</span>) &#123;</div><div class="line"></div><div class="line">                <span class="keyword">var</span> isLike = xmlhttp.responseText;</div><div class="line"></div><div class="line">                <span class="keyword">if</span>(isLike == <span class="string">'Y'</span>)&#123;</div><div class="line">                    <span class="built_in">document</span>.getElementById(<span class="string">"zanName"</span>).innerHTML = <span class="string">"å·²èµ"</span>;</div><div class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(isLike == <span class="string">'N'</span>)&#123;</div><div class="line">                    <span class="built_in">document</span>.getElementById(<span class="string">"zanName"</span>).innerHTML = <span class="string">"èµ"</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&lt;<span class="regexp">/script&gt;</span></div></pre></td></tr></table></figure>
<p>é€šè¿‡è·å–æœåŠ¡å™¨è¿”å›çš„Yï¼Œæˆ–è€…Næ¥è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦ç‚¹è¿‡èµã€‚ç‚¹è¿‡èµåˆ™æ˜¾ç¤ºå·²èµï¼Œå†æ¬¡ç‚¹å‡»åˆ™å–æ¶ˆèµã€‚</p>
<h3 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h3><p>å¯ä»¥ç”¨å®¢æˆ·ç«¯Cookieè®°å½•ç”¨æˆ·æ˜¯å¦ç‚¹èµï¼Œä¹Ÿå¯ä»¥ç”¨Sessionåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œå¹¶è®°å½•ç”¨æˆ·æ˜¯å¦ç‚¹èµã€‚ç„¶åå†å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œã€‚</p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><h3 id="æ½œåœ¨é—®é¢˜"><a href="#æ½œåœ¨é—®é¢˜" class="headerlink" title="æ½œåœ¨é—®é¢˜"></a>æ½œåœ¨é—®é¢˜</h3><p>å› ä¸ºå®é™…éœ€æ±‚ä¸­ç‚¹èµæ•°é‡å¯èƒ½å¾ˆåºå¤§ï¼Œå¤šç”¨æˆ·+å¤šstatusæ—¶æ›´æ˜¯æƒŠäººã€‚ä½¿å¾—è¿™å¼ t_likeè¡¨å¯èƒ½å˜å¾—å·¨å¤§ï¼Œä¸”æ²¡å¿…è¦ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³ï¼Ÿ</p>
<h3 id="æˆ‘çš„ä¼˜åŒ–æ€è·¯"><a href="#æˆ‘çš„ä¼˜åŒ–æ€è·¯" class="headerlink" title="æˆ‘çš„ä¼˜åŒ–æ€è·¯"></a>æˆ‘çš„ä¼˜åŒ–æ€è·¯</h3><p>å®šæœŸæ¸…ç†t_likeè¡¨ä¸­çš„æ•°æ®ï¼Œå¦‚ç”¨æˆ·åˆ é™¤äº†statusçš„ï¼›æ—¶é—´è¿‡å»ä¹…è¿œçš„statuså¯ä»¥åªè®°å½•ç‚¹èµçš„æ€»æ¡æ•°ï¼ŒæŠŠå¯¹åº”çš„t_likeä¸­æ•°æ®åˆ é™¤ã€‚</p>
<p>åŠŸèƒ½ä¸å°½å®Œå–„ï¼Œå®é™…éœ€æ±‚æ—¶å¾ˆå¤šç»†èŠ‚åŠŸèƒ½è¦å¤æ‚å¾ˆå¤šï¼Œæœ¬æ–‡ä»…æä¾›ä¸€äº›æ€è·¯ï¼Œä¸è´´å®Œæ•´ä»£ç ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç‚¹èµåŠŸèƒ½éœ€æ±‚ï¼šç”¨æˆ·èƒ½ç‚¹èµï¼Œèƒ½å–æ¶ˆèµï¼ŒåŒæ—¶èƒ½æŸ¥çœ‹èµäº†è¯¥æ¡çŠ¶æ€çš„æ‰€æœ‰äººï¼Œå¯èƒ½è¿˜éœ€è¦æé†’å‘è¯¥æ¡çŠ¶æ€çš„äººè°è°è°èµäº†ä½ ã€‚&lt;br&gt;webç«¯å®ç°ï¼šæ˜¾ç¤ºç‚¹èµæ•°ï¼Œå½“æœ‰ç”¨æˆ·èµäº†è¯¥çŠ¶æ€ï¼Œåˆ™ç‚¹èµæ•°+1ç­‰ã€‚&lt;br&gt;æœ¬æ–‡ä»ç‚¹èµåŠŸèƒ½çš„æ•°æ®åº“è®¾è®¡è¯´èµ·ï¼Œä¸€æ­¥æ­¥åˆ°å„ä¸ªåŠŸèƒ½çš„åŸºæœ¬å®ç°æ–¹æ³•ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="PHP" scheme="http://blog.xigulu.com/tags/PHP/"/>
    
      <category term="WEB" scheme="http://blog.xigulu.com/tags/WEB/"/>
    
  </entry>
  
  <entry>
    <title>iOSå®ç”¨åˆ†ç±»ï¼šXNCategory</title>
    <link href="http://blog.xigulu.com/2016/03/02/iOS-XNCategory/"/>
    <id>http://blog.xigulu.com/2016/03/02/iOS-XNCategory/</id>
    <published>2016-03-01T16:00:00.000Z</published>
    <updated>2016-11-27T10:46:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/xn4545945/XNCategory" target="_blank" rel="external">XNCategory</a>æ˜¯ä¸€ä¸ªå®ç”¨åˆ†ç±»é›†åˆæ¡†æ¶ï¼Œ ä¸€è¡Œä»£ç æå®šä¸€ä¸ªå°åŠŸèƒ½! æ¶µç›–iOSåº”ç”¨å¼€å‘ä¸­æœ€å¸¸ç”¨çš„ä¸€äº›åŠŸèƒ½ã€‚ç›®å‰åŒ…æ‹¬å¯¹NSFoundationï¼ŒUIKitï¼Œç½‘ç»œä¸€äº›ç±»æ‰©å±•çš„å®ç”¨åŠŸèƒ½ã€‚å¦‚NSArrayã€NSDictionaryæ§åˆ¶å°è¾“å‡ºä¸­æ–‡é—®é¢˜ï¼ŒUIViewåæ ‡ç®€åŒ–è°ƒç”¨åŠåœ†è§’ç­‰ï¼ŒNSDateç®€åŒ–æ—¶é—´å¤„ç†ï¼ŒNSStringåŠ¨æ€è®¡ç®—å®½åº¦ç­‰ã€‚åç»­è¿˜ä¼šç»§ç»­æ·»åŠ æ›´å®ç”¨çš„åˆ†ç±»ï¼Œç²¾ç®€è°ƒç”¨æ–¹æ³•ï¼Œå¹¶æ•´ç†ä¸€ä»½æ¯”è¾ƒå®Œå–„çš„æ–‡æ¡£ã€‚ï¼ˆé•¿æœŸç»´æŠ¤æ›´æ–°ï¼Œæ¬¢è¿ä½¿ç”¨æˆ–åé¦ˆIssues <a href="https://github.com/xn4545945/XNCategory" target="_blank" rel="external">ä¼ é€é—¨XNCategory</a>ï¼‰</p>
<a id="more"></a>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h4 id="ç¯å¢ƒè¦æ±‚"><a href="#ç¯å¢ƒè¦æ±‚" class="headerlink" title="ç¯å¢ƒè¦æ±‚"></a>ç¯å¢ƒè¦æ±‚</h4><ul>
<li>iOS 7.0+</li>
<li>Xcode 8+</li>
</ul>
<h4 id="ç”¨CocoaPodså®‰è£…"><a href="#ç”¨CocoaPodså®‰è£…" class="headerlink" title="ç”¨CocoaPodså®‰è£…"></a>ç”¨CocoaPodså®‰è£…</h4><p>åœ¨<code>Podfile</code>æ–‡ä»¶ä¸­:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod <span class="string">'XNCategory'</span>, <span class="string">'~&gt; 0.0.2'</span></div></pre></td></tr></table></figure>
<p>ç„¶åè¿è¡Œ:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ pod install</div></pre></td></tr></table></figure></p>
<h4 id="ä¼ ç»Ÿæ–¹å¼å®‰è£…"><a href="#ä¼ ç»Ÿæ–¹å¼å®‰è£…" class="headerlink" title="ä¼ ç»Ÿæ–¹å¼å®‰è£…"></a>ä¼ ç»Ÿæ–¹å¼å®‰è£…</h4><ol>
<li>Download all the files in the <code>XNCategory</code> subdirectory.</li>
<li>Add the source files to your Xcode project.</li>
</ol>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h4 id="UIKit"><a href="#UIKit" class="headerlink" title="UIKit"></a>UIKit</h4><p><img src="https://github.com/xn4545945/XNCategory/blob/master/screenshot/UIKit.gif" alt="UIKit"></p>
<p>ç»˜åˆ¶ä¸€ä¸ªçº¯è‰²çš„image<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"UIImage+DrawImage.h"</span></span></div><div class="line"></div><div class="line">[<span class="built_in">UIImage</span> drawPlaceHolderImage]</div></pre></td></tr></table></figure></p>
<p>åˆ›å»ºä¸€ä¸ªæ‹‰ä¼¸ä¸å˜å½¢çš„image<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"UIImage+ResizeImage.h"</span></span></div><div class="line"></div><div class="line">[<span class="built_in">UIImage</span> resizableImageNamed:<span class="string">@"chat_bg.png"</span>]</div></pre></td></tr></table></figure></p>
<p>UIImageViewæ’­æ”¾åŠ¨ç”»<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"UIImageView+RunAnimation.h"</span></span></div><div class="line"></div><div class="line">[imgIV runAnimationWithCount:<span class="number">6</span> name:<span class="string">@"runningman_"</span> delatTime:<span class="number">0.1</span> repeatCount:INT_MAX];</div></pre></td></tr></table></figure></p>
<p>ä¾¿æ·è®¾ç½®ä¸è®¿é—®frame<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"UIView+AccessFrameComponent.h"</span></span></div><div class="line">testView.x = <span class="number">50</span>;</div><div class="line">testView.y = <span class="number">100</span>;</div><div class="line">testView.width = <span class="number">100</span>;</div><div class="line">testView.height = <span class="number">100</span>;</div></pre></td></tr></table></figure></p>
<p>åœ†è§’<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#import <span class="meta-string">"UIView+RoundCorner.h"</span></span></div><div class="line">[imgIV roundCorner];  <span class="comment">//åœ†è§’</span></div><div class="line">[imgIV1 circularClipping];  <span class="comment">//åœ†å½¢</span></div><div class="line">[imgIV2 roundCornerWithBorderWidth:<span class="number">2.0</span> borderColor:[<span class="built_in">UIColor</span> greenColor] cornerRadius:<span class="number">20</span>];  <span class="comment">//è‡ªå®šä¹‰</span></div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/xn4545945/XNCategory&quot;&gt;XNCategory&lt;/a&gt;æ˜¯ä¸€ä¸ªå®ç”¨åˆ†ç±»é›†åˆæ¡†æ¶ï¼Œ ä¸€è¡Œä»£ç æå®šä¸€ä¸ªå°åŠŸèƒ½! æ¶µç›–iOSåº”ç”¨å¼€å‘ä¸­æœ€å¸¸ç”¨çš„ä¸€äº›åŠŸèƒ½ã€‚ç›®å‰åŒ…æ‹¬å¯¹NSFoundationï¼ŒUIKitï¼Œç½‘ç»œä¸€äº›ç±»æ‰©å±•çš„å®ç”¨åŠŸèƒ½ã€‚å¦‚NSArrayã€NSDictionaryæ§åˆ¶å°è¾“å‡ºä¸­æ–‡é—®é¢˜ï¼ŒUIViewåæ ‡ç®€åŒ–è°ƒç”¨åŠåœ†è§’ç­‰ï¼ŒNSDateç®€åŒ–æ—¶é—´å¤„ç†ï¼ŒNSStringåŠ¨æ€è®¡ç®—å®½åº¦ç­‰ã€‚åç»­è¿˜ä¼šç»§ç»­æ·»åŠ æ›´å®ç”¨çš„åˆ†ç±»ï¼Œç²¾ç®€è°ƒç”¨æ–¹æ³•ï¼Œå¹¶æ•´ç†ä¸€ä»½æ¯”è¾ƒå®Œå–„çš„æ–‡æ¡£ã€‚ï¼ˆé•¿æœŸç»´æŠ¤æ›´æ–°ï¼Œæ¬¢è¿ä½¿ç”¨æˆ–åé¦ˆIssues &lt;a href=&quot;https://github.com/xn4545945/XNCategory&quot;&gt;ä¼ é€é—¨XNCategory&lt;/a&gt;ï¼‰&lt;/p&gt;
    
    </summary>
    
    
      <category term="XNCategory" scheme="http://blog.xigulu.com/tags/XNCategory/"/>
    
  </entry>
  
  <entry>
    <title>Bootstrapå¸ƒå±€åŠç½‘ç«™å®ä¾‹</title>
    <link href="http://blog.xigulu.com/2016/01/01/Bootstrap_learning_notes/"/>
    <id>http://blog.xigulu.com/2016/01/01/Bootstrap_learning_notes/</id>
    <published>2015-12-31T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>Bootstrapï¼Œè®²é“ç†ï¼Œå†™å¾ˆå°‘ä»£ç å°±èƒ½å¸ƒå±€ä¸€ä¸ªéå¸¸æ¼‚äº®çš„é¡µé¢ã€‚å…³é”®æ˜¯ç§»åŠ¨ä¸ºå…ˆçš„ç†å¿µï¼Œæƒ³æƒ³éƒ½å¾ˆèµï¼Psï¼šæƒ³æƒ³è‹¦é€¼çš„å†™iOS/Androidç•Œé¢çš„åŒå­¦ï¼Œè¿™ä¸œè¥¿ç®€ç›´ä¸èƒ½å†å¥½ã€‚æœ¬æ–‡ä¸»è¦å†™æ …æ ¼ç³»ç»Ÿï¼Œå¸ƒå±€åŠåº”ç”¨ï¼Œè‡³äºæ§ä»¶ï¼Œè¦ç”¨çš„æ—¶å€™å»å®˜ç½‘æ–‡æ¡£çœ‹å®ä¾‹æœ€å¥½ã€‚<br><a id="more"></a></p>
<hr>
<h2 id="Bootstrapä¸­çš„å¸ƒå±€"><a href="#Bootstrapä¸­çš„å¸ƒå±€" class="headerlink" title="Bootstrapä¸­çš„å¸ƒå±€"></a>Bootstrapä¸­çš„å¸ƒå±€</h2><p>é¦–å…ˆæ‰¾åˆ°ä¸ªwebç«¯çš„ç¼–è¾‘å·¥å…·ã€‚<a href="http://www.bootcss.com/p/layoutit/" target="_blank" rel="external">http://www.bootcss.com/p/layoutit/</a> æˆ–è€… <a href="http://www.layoutit.com/build" target="_blank" rel="external">http://www.layoutit.com/build</a> </p>
<p>è¿˜æœ‰å®˜ç½‘çš„å‡ ä¸ªç»å…¸æ¡ˆä¾‹ã€‚<a href="http://caibaojian.com/bootstrap/getting-started.html#examples" target="_blank" rel="external">http://caibaojian.com/bootstrap/getting-started.html#examples</a></p>
<h3 id="æ …æ ¼ç³»ç»Ÿ-ç½‘æ ¼ç³»ç»Ÿ"><a href="#æ …æ ¼ç³»ç»Ÿ-ç½‘æ ¼ç³»ç»Ÿ" class="headerlink" title="æ …æ ¼ç³»ç»Ÿ(ç½‘æ ¼ç³»ç»Ÿ)"></a>æ …æ ¼ç³»ç»Ÿ(ç½‘æ ¼ç³»ç»Ÿ)</h3><p>ä»€ä¹ˆæ˜¯Grid System? ç³»ç»Ÿéšç€å±å¹•æˆ–è§†å£ï¼ˆviewportï¼‰å°ºå¯¸çš„å¢åŠ ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†ä¸ºæœ€å¤š12åˆ—ã€‚<br><img src="http://ww2.sinaimg.cn/large/4b274f16jw1f2hvinugi4j20q507374t.jpg" alt=""></p>
<p>ç½‘æ ¼ç³»ç»Ÿéœ€è¦æ³¨æ„çš„:</p>
<ol>
<li>è¡Œå¿…é¡»æ”¾ç½®åœ¨ .container class å†…ï¼Œä»¥ä¾¿è·å¾—é€‚å½“çš„å¯¹é½ï¼ˆalignmentï¼‰å’Œå†…è¾¹è·ï¼ˆpaddingï¼‰ã€‚</li>
<li>ä½¿ç”¨è¡Œæ¥åˆ›å»ºåˆ—çš„æ°´å¹³ç»„ã€‚</li>
<li>å†…å®¹åº”è¯¥æ”¾ç½®åœ¨åˆ—å†…ï¼Œä¸”å”¯æœ‰åˆ—å¯ä»¥æ˜¯è¡Œçš„ç›´æ¥å­å…ƒç´ ã€‚</li>
</ol>
<p>ä¸‹é¢ä¸€å¼ å›¾åˆ—å‡ºäº†åœ¨ä»€ä¹ˆæ ·çš„å±å¹•ä¸‹ç”¨ä»€ä¹ˆå‰ç¼€çš„girdã€‚<br><img src="http://ww4.sinaimg.cn/large/4b274f16jw1f2hvh0myisj20qe0f840w.jpg" alt=""></p>
<h4 id="demo-1ï¼šæ°´å¹³æ’åˆ—ã€‚"><a href="#demo-1ï¼šæ°´å¹³æ’åˆ—ã€‚" class="headerlink" title="demo 1ï¼šæ°´å¹³æ’åˆ—ã€‚"></a>demo 1ï¼šæ°´å¹³æ’åˆ—ã€‚</h4><p>åœ¨å¤§å±å¹•ä¸Š12åˆ†ä¸º1åˆ—4ä¸ªï¼Œ åœ¨å°å±ä¸Š2åˆ—å„2ä¸ªã€‚ï¼ˆå¯ä»¥é€šè¿‡è°ƒæ•´æµè§ˆå™¨å®½å£å¤§å°æ¥è§‚å¯Ÿå˜åŒ–ï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 col-sm-3"</span>&gt;</span>111111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 col-sm-3"</span>&gt;</span>222222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 col-sm-3"</span>&gt;</span>333333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6 col-sm-3"</span>&gt;</span>444444<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="demo2ï¼šåç§»åˆ—ã€‚"><a href="#demo2ï¼šåç§»åˆ—ã€‚" class="headerlink" title="demo2ï¼šåç§»åˆ—ã€‚"></a>demo2ï¼šåç§»åˆ—ã€‚</h4><p>é€šä¿—çš„æ„æ€å°±æ˜¯éš”å¼€å‡ åˆ—ã€‚ï¼ˆè°ƒæ•´æµè§ˆå™¨å®½å£å¤§å°ï¼Œä¼šå‘ç°çª—å£å¾ˆå°æ—¶æ˜¯é æœ€å·¦è¾¹çš„ã€‚å½“æ‹–åŠ¨åˆ°ä¸€å®šå¤§å°åï¼Œä¼šå˜å¾—é å³ä¸€ç‚¹ï¼‰<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-offset-3"</span>&gt;</span>1111111111111111111111111111111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="demo3ï¼šåµŒå¥—åˆ—ã€‚"><a href="#demo3ï¼šåµŒå¥—åˆ—ã€‚" class="headerlink" title="demo3ï¼šåµŒå¥—åˆ—ã€‚"></a>demo3ï¼šåµŒå¥—åˆ—ã€‚</h4><p>å°±æ˜¯åˆ—ä¸­åµŒå¥—å…¶ä»–åˆ—ã€‚ä¸ºäº†åœ¨å†…å®¹ä¸­åµŒå¥—é»˜è®¤çš„ç½‘æ ¼ï¼Œè¯·æ·»åŠ ä¸€ä¸ªæ–°çš„.rowã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-4"</span>&gt;</span>111111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-4"</span>&gt;</span>222222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-4"</span>&gt;</span>333333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span>111111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span>222222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span>111111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span>222222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="demo4ï¼šåˆ—æ’åºã€‚"><a href="#demo4ï¼šåˆ—æ’åºã€‚" class="headerlink" title="demo4ï¼šåˆ—æ’åºã€‚"></a>demo4ï¼šåˆ—æ’åºã€‚</h4><p>æ„æ€å°±æ˜¯ä½ ç¼–å†™çš„é¡ºåºå¹¶ä¸ä»£è¡¨ä½ æ˜¾ç¤ºçš„é¡ºåºã€‚ä½ å¯ä»¥pushå³æ¨ï¼Œ pullå·¦è¾¹æ‹‰è¿‡æ¥ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ’åºå‰<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-4"</span>&gt;</span>æˆ‘åœ¨å·¦è¾¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-8"</span>&gt;</span>æˆ‘åœ¨å³è¾¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    </div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ’åºå<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-4 col-md-push-8"</span>&gt;</span>æˆ‘åœ¨å·¦è¾¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-8 col-md-pull-4"</span>&gt;</span>æˆ‘åœ¨å³è¾¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="å›ºå®šå¸ƒå±€"><a href="#å›ºå®šå¸ƒå±€" class="headerlink" title="å›ºå®šå¸ƒå±€"></a>å›ºå®šå¸ƒå±€</h3><p>å°±æ˜¯ä¸ç¼©æ”¾ã€‚å¦‚æœæ‚¨æƒ³è¦åˆ›å»ºåŸºäºå›ºå®šåƒç´ æ•°çš„ç½‘é¡µã€‚ç›´æ¥ç”¨containerã€‚(ä¹Ÿå¯ä»¥å˜ä¸ºå“åº”å¼)<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    ...</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="æµå¼å¸ƒå±€"><a href="#æµå¼å¸ƒå±€" class="headerlink" title="æµå¼å¸ƒå±€"></a>æµå¼å¸ƒå±€</h3><p>æµå¸ƒå±€æ˜¯ä¸€ç§é€‚åº”å±å¹•çš„åšæ³•ã€‚å³ä¸å›ºå®šå—çš„å®½åº¦ï¼Œè€Œæ˜¯é‡‡ç”¨ç™¾åˆ†æ¯”ä½œä¸ºå•ä½æ¥ç¡®å®šæ¯ä¸€å—çš„å®½åº¦ã€‚è¿™ç§å¸ƒå±€éå¸¸é€‚åº”å„ç§ä¸åŒå¤§å°çš„å±å¹•ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row-fluid"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"span2"</span>&gt;</span></div><div class="line">      <span class="comment">&lt;!--Sidebar content--&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"span10"</span>&gt;</span></div><div class="line">      <span class="comment">&lt;!--Body content--&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="åŸºæœ¬ç½‘ç«™å¸ƒå±€å®ä¾‹"><a href="#åŸºæœ¬ç½‘ç«™å¸ƒå±€å®ä¾‹" class="headerlink" title="åŸºæœ¬ç½‘ç«™å¸ƒå±€å®ä¾‹"></a>åŸºæœ¬ç½‘ç«™å¸ƒå±€å®ä¾‹</h2><p>åœ¨Bootstrapæ–‡æ¡£ä¸­æœ‰ä¸€ä¸ªåä¸ºcarouselçš„exampleï¼Œç®—æ˜¯é‡Œé¢æœ€å¤æ‚çš„ä¸€ä¸ªã€‚ä»¥ä¸‹åˆ—ä¸€äº›æ„å»ºè¯¥ç½‘é¡µçš„åŸºæœ¬æ¡†æ¶ï¼Œæ³¨æ„ç‚¹ä¾›å¤§å®¶å‚è€ƒï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±å†™å†™ã€‚<a href="http://caibaojian.com/bootstrap/examples/carousel.html" target="_blank" rel="external">http://caibaojian.com/bootstrap/examples/carousel.html</a><br><img src="http://ww2.sinaimg.cn/large/4b274f16jw1f2hvhrhwh9j20ym0iimz7.jpg" alt=""></p>
<h3 id="ä¸»è¦ç»“æ„åˆ†æ"><a href="#ä¸»è¦ç»“æ„åˆ†æ" class="headerlink" title="ä¸»è¦ç»“æ„åˆ†æ"></a>ä¸»è¦ç»“æ„åˆ†æ</h3><ol>
<li>æœ€ä¸Šéƒ¨navbar</li>
<li>æ»‘åŠ¨æ§ä»¶(å®˜ç½‘ä¸Šæœ‰ç›´æ¥demo, è¿™ä¸ªä»£ç å›ºå®š)</li>
<li>ä¸»ä½“éƒ¨åˆ†: å¤´éƒ¨3ä¸ªç­‰åˆ†çš„ä¸€è¡Œï¼ŒåŠä¸‹éƒ¨3ä¸ªäº¤é”™çš„åˆ—ï¼Œæœ€åæ˜¯footer</li>
</ol>
<p>ä»¥ä¸‹å‚è€ƒäº†æºä»£ç ï¼Œä¸»è¦æ˜¯å†™é¡µé¢ç»“æ„ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--åŒ…è£¹navbar--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"myNavbar-wrapper"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!--è¿™ä¸ªcontainerèƒ½ä½¿navä¸å…¨å±--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"navbar navbar-inverse navbar-static-top"</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="comment">&lt;!--æ ‡é¢˜--&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-header"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"navbar-brand"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Project name<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="comment">&lt;!--åˆ—è¡¨--&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"navbar-collapse collapse"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav navbar-nav"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>è”ç³»<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>èœå•<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">&lt;!--------------å›ºå®šçš„æ»‘åŠ¨å±•ç¤ºæ¨¡å—-----------------&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"myCarousel"</span> <span class="attr">class</span>=<span class="string">"carousel slide"</span> <span class="attr">data-ride</span>=<span class="string">"carousel"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- Indicators --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">"carousel-indicators"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-target</span>=<span class="string">"#myCarousel"</span> <span class="attr">data-slide-to</span>=<span class="string">"0"</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-target</span>=<span class="string">"#myCarousel"</span> <span class="attr">data-slide-to</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ol</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"carousel-inner"</span> <span class="attr">role</span>=<span class="string">"listbox"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item active"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"first-slide"</span> <span class="attr">src</span>=<span class="string">"images/slide-01.jpg"</span> <span class="attr">alt</span>=<span class="string">"First slide"</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"carousel-caption"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Example headline.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ã€‚ã€‚ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn btn-lg btn-primary"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">role</span>=<span class="string">"button"</span>&gt;</span>Sign up today<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"second-slide"</span> <span class="attr">src</span>=<span class="string">"images/slide-02.jpg"</span> <span class="attr">alt</span>=<span class="string">"Second slide"</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"carousel-caption"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Another example headline.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"></div><div class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ã€‚ã€‚ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">                    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn btn-lg btn-primary"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">role</span>=<span class="string">"button"</span>&gt;</span>Learn more<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left carousel-control"</span> <span class="attr">href</span>=<span class="string">"#myCarousel"</span> <span class="attr">role</span>=<span class="string">"button"</span> <span class="attr">data-slide</span>=<span class="string">"prev"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-chevron-left"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>Previous<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"right carousel-control"</span> <span class="attr">href</span>=<span class="string">"#myCarousel"</span> <span class="attr">role</span>=<span class="string">"button"</span> <span class="attr">data-slide</span>=<span class="string">"next"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-chevron-right"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>Next<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">&lt;!--ä¸»ä½“éƒ¨åˆ†å¸ƒå±€, åŒ…æ‹¬åº•éƒ¨--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"marketing container"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-4"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"img-circle"</span> <span class="attr">src</span>=<span class="string">"images/blank.png"</span> <span class="attr">width</span>=<span class="string">"140"</span> <span class="attr">height</span>=<span class="string">"140"</span> <span class="attr">alt</span>=<span class="string">"placeholder"</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>blog.xigulu.com<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>xn4545945 xn4545945<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>æŸ¥çœ‹æ›´å¤š...<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-4"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"img-circle"</span> <span class="attr">src</span>=<span class="string">"images/blank.png"</span> <span class="attr">width</span>=<span class="string">"140"</span> <span class="attr">height</span>=<span class="string">"140"</span> <span class="attr">alt</span>=<span class="string">"placeholder"</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>blog.xigulu.com<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>xn4545945 xn4545945 xn4545945<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">role</span>=<span class="string">"button"</span>&gt;</span>æŸ¥çœ‹æ›´å¤š...<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-4"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"img-circle"</span> <span class="attr">src</span>=<span class="string">"images/blank.png"</span> <span class="attr">width</span>=<span class="string">"140"</span> <span class="attr">height</span>=<span class="string">"140"</span> <span class="attr">alt</span>=<span class="string">"placeholder"</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>blog.xigulu.com<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>xn4545945 xn4545945 xn4545945 xn4545945<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>æŸ¥çœ‹æ›´å¤š...<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!--åˆ†å‰²çº¿--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">"featurette-divider"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row featurette"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-7 featurette-heading"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™ä¸ªChromeæµè§ˆå™¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>  <span class="attr">class</span>=<span class="string">"lead"</span>&gt;</span>è¿™ä¸ªChromeæµè§ˆå™¨è¿™ä¸ªChromeæµè§ˆå™¨<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-5"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/browser-icon-chrome.png"</span> <span class="attr">alt</span>=<span class="string">"chrome!!"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!--åˆ†å‰²çº¿--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">"featurette-divider"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row featurette"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-5"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/browser-icon-firefox.png"</span> <span class="attr">alt</span>=<span class="string">"Firefox"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-7 featurette-heading"</span> &gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯ç«ç‹æµè§ˆå™¨!<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span>  <span class="attr">class</span>=<span class="string">"lead"</span>&gt;</span>è¿™æ˜¯ç«ç‹æµè§ˆå™¨!è¿™æ˜¯ç«ç‹æµè§ˆå™¨!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!--åˆ†å‰²çº¿--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">"featurette-divider"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row featurette"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-7 featurette-heading"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¿™æ˜¯Safariæµè§ˆå™¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"lead"</span>&gt;</span>è¿™æ˜¯Safariæµè§ˆå™¨è¿™æ˜¯Safariæµè§ˆå™¨<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-5"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/browser-icon-safari.png"</span> <span class="attr">alt</span>=<span class="string">"Safari"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!--åº•éƒ¨--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">hr</span> <span class="attr">class</span>=<span class="string">"featurette-divider"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"pull-right"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>è¿”å›é¡¶éƒ¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&amp;copy; 2016 xn545945.  &amp;middot;  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>éšç§<span class="tag">&lt;/<span class="name">a</span>&gt;</span>  &amp;middot;  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>åŸºæœ¬ç»“æ„å°±æ˜¯è¿™æ ·ã€‚å½“ç„¶è¿˜æœ‰éƒ¨åˆ†CSSä»£ç ã€‚åªè®¾å®šäº†å‡ ä¸ªä¸»è¦çš„ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="xml"></span></div><div class="line">        body&#123;</div><div class="line">            padding-bottom: 40px;</div><div class="line">            color: #5a5a5a;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        /*navbarä¸‹ç§»*/</div><div class="line">        .myNavbar-wrapper &#123;</div><div class="line">            position: absolute;</div><div class="line">            top: 0;</div><div class="line">            left: 0;</div><div class="line">            right: 0;</div><div class="line">            z-index: 10;</div><div class="line">            margin-top: 20px;</div><div class="line">            margin-bottom: -90px; /* Negative margin to pull up carousel. 90px is roughly margins and height of navbar. */</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        /* marketing------------------------- */</div><div class="line">        .marketing .col-lg-4 &#123;</div><div class="line">            margin-bottom: 20px;</div><div class="line">            text-align: center;</div><div class="line">        &#125;</div><div class="line">        .marketing h2 &#123;</div><div class="line">            font-weight: normal;</div><div class="line">        &#125;</div><div class="line">        .marketing .col-lg-4 p &#123;</div><div class="line">            margin-right: 10px;</div><div class="line">            margin-left: 10px;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        /* Featurettes------------------------- */</div><div class="line"></div><div class="line">        .featurette-divider &#123;</div><div class="line">            margin: 80px 0; /* Space out the Bootstrap <span class="tag">&lt;<span class="name">hr</span>&gt;</span> more */</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        /* Thin out the marketing headings */</div><div class="line">        .featurette-heading &#123;</div><div class="line">            font-weight: 300;</div><div class="line">            line-height: 1;</div><div class="line">            letter-spacing: -1px;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="å¼•å…¥CDN"><a href="#å¼•å…¥CDN" class="headerlink" title="å¼•å…¥CDN"></a>å¼•å…¥CDN</h3><p>æ³¨æ„ï¼š å½“ç”¨æœ¬åœ°æ–‡ä»¶æ–¹å¼å¼•å…¥Bootstrapæ—¶ï¼Œ å·¦å³å›¾ç‰‡æ»‘åŠ¨æ¨¡å—æ˜¯ä¸èƒ½æ˜¾ç¤ºå®Œå…¨çš„ã€‚å› æ­¤ç”¨å¼•å…¥CDNã€‚</p>
<pre><code class="html"><span class="comment">&lt;!-- æ–° Bootstrap æ ¸å¿ƒ CSS æ–‡ä»¶ --&gt;</span>
<span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span>

<span class="comment">&lt;!-- å¯é€‰çš„Bootstrapä¸»é¢˜æ–‡ä»¶ï¼ˆä¸€èˆ¬ä¸ä½¿ç”¨ï¼‰ --&gt;</span>
<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap-theme.min.css"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>

<span class="comment">&lt;!-- jQueryæ–‡ä»¶ã€‚åŠ¡å¿…åœ¨bootstrap.min.js ä¹‹å‰å¼•å…¥ --&gt;</span>
<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>

<span class="comment">&lt;!-- æœ€æ–°çš„ Bootstrap æ ¸å¿ƒ JavaScript æ–‡ä»¶ --&gt;</span>
<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>
</code></pre>
<hr>
<h2 id="ç»“è¯­-ä»£ç "><a href="#ç»“è¯­-ä»£ç " class="headerlink" title="ç»“è¯­ + ä»£ç "></a>ç»“è¯­ + ä»£ç </h2><p>Bootstrapå¥½ä¸œè¥¿å•Šï¼ é™„ä¸Šå‰é¢å®ä¾‹çš„ä»£ç ã€‚<a href="http://7xlwuv.com1.z0.glb.clouddn.com/16-4-2/35929570-Bootstrap_learn.zip" target="_blank" rel="external">ç‚¹æˆ‘ä¸‹è½½</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Bootstrapï¼Œè®²é“ç†ï¼Œå†™å¾ˆå°‘ä»£ç å°±èƒ½å¸ƒå±€ä¸€ä¸ªéå¸¸æ¼‚äº®çš„é¡µé¢ã€‚å…³é”®æ˜¯ç§»åŠ¨ä¸ºå…ˆçš„ç†å¿µï¼Œæƒ³æƒ³éƒ½å¾ˆèµï¼Psï¼šæƒ³æƒ³è‹¦é€¼çš„å†™iOS/Androidç•Œé¢çš„åŒå­¦ï¼Œè¿™ä¸œè¥¿ç®€ç›´ä¸èƒ½å†å¥½ã€‚æœ¬æ–‡ä¸»è¦å†™æ …æ ¼ç³»ç»Ÿï¼Œå¸ƒå±€åŠåº”ç”¨ï¼Œè‡³äºæ§ä»¶ï¼Œè¦ç”¨çš„æ—¶å€™å»å®˜ç½‘æ–‡æ¡£çœ‹å®ä¾‹æœ€å¥½ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="Bootstrap" scheme="http://blog.xigulu.com/tags/Bootstrap/"/>
    
  </entry>
  
  <entry>
    <title>ReactiveCocoaåœ¨å®é™…é¡¹ç›®ä¸­çš„ä¸€äº›åº”ç”¨</title>
    <link href="http://blog.xigulu.com/2015/09/10/RAC_skills_one/"/>
    <id>http://blog.xigulu.com/2015/09/10/RAC_skills_one/</id>
    <published>2015-09-09T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/ReactiveCocoa/ReactiveCocoa" target="_blank" rel="external">RAC</a>ç»“åˆäº†å‡½æ•°å¼ç¼–ç¨‹ä¸å“åº”å¼ç¼–ç¨‹(FRP)ã€‚å°†ä»£ç å†™æˆä¸€ç³»åˆ—åµŒå¥—çš„æ–¹æ³•ä¸­ï¼Œä½¿ä»£ç é«˜åº¦èšåˆï¼Œ æ–¹ä¾¿ç®¡ç†ã€‚ æœ¬æ–‡ä¸»è¦è®°å½•è‡ªå·±åœ¨å®é™…é¡¹ç›®ä¸­çš„ä¸€äº›åº”ç”¨ï¼Œé‡åˆ°çš„é—®é¢˜ç­‰ã€‚</p>
<a id="more"></a>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://github.com/ReactiveCocoa/ReactiveCocoa&quot;&gt;RAC&lt;/a&gt;ç»“åˆäº†å‡½æ•°å¼ç¼–ç¨‹ä¸å“åº”å¼ç¼–ç¨‹(FRP)ã€‚å°†ä»£ç å†™æˆä¸€ç³»åˆ—åµŒå¥—çš„æ–¹æ³•ä¸­ï¼Œä½¿ä»£ç é«˜åº¦èšåˆï¼Œ æ–¹ä¾¿ç®¡ç†ã€‚ æœ¬æ–‡ä¸»è¦è®°å½•è‡ªå·±åœ¨å®é™…é¡¹ç›®ä¸­çš„ä¸€äº›åº”ç”¨ï¼Œé‡åˆ°çš„é—®é¢˜ç­‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="ReactiveCocoa" scheme="http://blog.xigulu.com/tags/ReactiveCocoa/"/>
    
  </entry>
  
  <entry>
    <title>iOSä¸­è¾“å…¥æ–‡å­—æ—¶è‡ªåŠ¨ä¸Š/ä¸‹ç§»TableViewå®Œç¾æ–¹æ³•</title>
    <link href="http://blog.xigulu.com/2015/08/29/iOSPractice_tableView_move/"/>
    <id>http://blog.xigulu.com/2015/08/29/iOSPractice_tableView_move/</id>
    <published>2015-08-28T16:00:00.000Z</published>
    <updated>2016-08-16T17:25:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>å½“æˆ‘ä»¬éœ€è¦å¤„ç†é”®ç›˜äº‹ä»¶, å¦‚ç™»å½•æˆ–è€…è¾“å…¥ä¿¡æ¯çš„é¡µé¢, ä¼šè®©tableViewå‘ä¸Šç§»åŠ¨, ä»¥è‡³äºä¸è®©é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†ã€‚ è¿™æ ·åšèƒ½æå‡ç”¨æˆ·ä½“éªŒã€‚ åŒç†ScrolView, TextField/TextViewç­‰, æœ¬æ–‡ä¸»è¦è®°å½•å‡ ç§è§£å†³åŠæ³•ã€‚</p>
<a id="more"></a>
<hr>
<h2 id="æ–¹æ³•ä¸€-ç›‘å¬TextField-TextViewçš„ä»£ç†äº‹ä»¶"><a href="#æ–¹æ³•ä¸€-ç›‘å¬TextField-TextViewçš„ä»£ç†äº‹ä»¶" class="headerlink" title="æ–¹æ³•ä¸€: ç›‘å¬TextField/TextViewçš„ä»£ç†äº‹ä»¶"></a>æ–¹æ³•ä¸€: ç›‘å¬TextField/TextViewçš„ä»£ç†äº‹ä»¶</h2><p>ä¸»è¦ä»£ç å¦‚ä¸‹</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#pragma mark - textField delegate</span></div><div class="line">- (<span class="keyword">void</span>)textFieldDidBeginEditing:(<span class="built_in">UITextField</span> *)textField &#123;</div><div class="line">    [<span class="keyword">self</span> animateTextField:textField up:<span class="literal">YES</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (<span class="keyword">void</span>)textFieldDidEndEditing:(<span class="built_in">UITextField</span> *)textField &#123;</div><div class="line">    [<span class="keyword">self</span> animateTextField:textField up:<span class="literal">NO</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//ç§»ä½</span></div><div class="line">- (<span class="keyword">void</span>) animateTextField:(<span class="built_in">UITextField</span>*)textField up: (<span class="built_in">BOOL</span>) up&#123;</div><div class="line">    <span class="comment">//å‡è®¾y æŠ½ä¸Šç§»100.</span></div><div class="line">    <span class="keyword">const</span> <span class="keyword">int</span> movementDistance = <span class="number">100</span>;</div><div class="line">    <span class="keyword">const</span> <span class="keyword">float</span> movementDuration = <span class="number">0.3</span>f;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> movement = (up ? -movementDistance : movementDistance);</div><div class="line">    </div><div class="line">    [<span class="built_in">UIView</span> animateWithDuration:movementDuration animations:^&#123;</div><div class="line">        <span class="keyword">self</span>.tableViewMain.frame = <span class="built_in">CGRectOffset</span>(<span class="keyword">self</span>.view.frame, <span class="number">0</span>, movement);</div><div class="line">    &#125;];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ–¹æ³•ä¸€é‡‡ç”¨æ•´ä½“ä¸Šç§»/å›ç§»tableViewçš„frameæ–¹æ³•.</p>
<ul>
<li><strong>ä¼˜ç‚¹</strong>: å¯¹äºéé‡‡ç”¨tableView(ScrollView)å¸ƒå±€çš„é¡µé¢, ä¼˜åŠ¿éå¸¸æ˜æ˜¾, ç®€å•æ–¹ä¾¿. å¦‚: ç™»å½•æ—¶, åªéœ€è¦æŒªåŠ¨ä¸€å›ºå®šä½ç½®, è¾¾åˆ°è¾“å…¥æ¡†ç½®é¡¶çš„æ•ˆæœ.</li>
<li><strong>ç¼ºç‚¹</strong>: å¾ˆæ˜æ˜¾, æ²¡æœ‰è‡ªåŠ¨è·å–é”®ç›˜é«˜åº¦, æ— æ³•è¾¾åˆ°ç§»åŠ¨é”®ç›˜é«˜åº¦çš„å¤§å°(é”®ç›˜é«˜åº¦éå›ºå®š). </li>
</ul>
<hr>
<h2 id="æ–¹æ³•äºŒ-ç›‘å¬é”®ç›˜çš„å¼¹å‡ºä¸æ”¶å›é€šçŸ¥"><a href="#æ–¹æ³•äºŒ-ç›‘å¬é”®ç›˜çš„å¼¹å‡ºä¸æ”¶å›é€šçŸ¥" class="headerlink" title="æ–¹æ³•äºŒ: ç›‘å¬é”®ç›˜çš„å¼¹å‡ºä¸æ”¶å›é€šçŸ¥"></a>æ–¹æ³•äºŒ: ç›‘å¬é”®ç›˜çš„å¼¹å‡ºä¸æ”¶å›é€šçŸ¥</h2><p>æ–¹æ³•äºŒé‡‡ç”¨ç›‘å¬é”®ç›˜äº‹ä»¶, å½“é”®ç›˜å¼¹å‡ºæ—¶ä¸Šç§»tableViewåº•éƒ¨åˆ°é”®ç›˜é¡¶éƒ¨, å½“é”®ç›˜æ”¶èµ·æ—¶å°†tableViewç§»å›.</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>: çµæ´»æ€§è¾ƒå¼º.</li>
</ul>
<hr>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p><strong><em>çœ‹å®é™…éœ€æ±‚, å¦‚æœè®¾è®¡å¸ˆç»™çš„å›¾æ˜¯æ™®é€šçš„ç™»å½•æ³¨å†Œ, ç”¨ç¬¬ä¸€ç§æ–¹å¼, ç§»åŠ¨å›ºå®šå¤§å°å°±æå®š; å¦‚æœåƒèŠå¤©ç•Œé¢é‚£ç§éœ€è¦çœ‹åˆ°æœ€ä¸‹é¢çš„å†…å®¹æ—¶, åšå†³é€‰ç¬¬äºŒç§.</em></strong></p>
<p><a href="">ç‚¹å‡»ä¸‹è½½æœ¬æ–‡å¯¹åº”ä»£ç </a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å½“æˆ‘ä»¬éœ€è¦å¤„ç†é”®ç›˜äº‹ä»¶, å¦‚ç™»å½•æˆ–è€…è¾“å…¥ä¿¡æ¯çš„é¡µé¢, ä¼šè®©tableViewå‘ä¸Šç§»åŠ¨, ä»¥è‡³äºä¸è®©é”®ç›˜æŒ¡ä½è¾“å…¥æ¡†ã€‚ è¿™æ ·åšèƒ½æå‡ç”¨æˆ·ä½“éªŒã€‚ åŒç†ScrolView, TextField/TextViewç­‰, æœ¬æ–‡ä¸»è¦è®°å½•å‡ ç§è§£å†³åŠæ³•ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="iOS" scheme="http://blog.xigulu.com/tags/iOS/"/>
    
  </entry>
  
</feed>
